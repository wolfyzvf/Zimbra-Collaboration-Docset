<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class="line">  1</span> <span class="COMM">/*
<span class="line">  2</span>  * ***** BEGIN LICENSE BLOCK *****
<span class="line">  3</span>  * Zimbra Collaboration Suite Web Client
<span class="line">  4</span>  * Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014 Zimbra, Inc.
<span class="line">  5</span>  * 
<span class="line">  6</span>  * The contents of this file are subject to the Common Public Attribution License Version 1.0 (the &#34;License&#34;);
<span class="line">  7</span>  * you may not use this file except in compliance with the License. 
<span class="line">  8</span>  * You may obtain a copy of the License at: http://www.zimbra.com/license
<span class="line">  9</span>  * The License is based on the Mozilla Public License Version 1.1 but Sections 14 and 15 
<span class="line"> 10</span>  * have been added to cover use of software over a computer network and provide for limited attribution 
<span class="line"> 11</span>  * for the Original Developer. In addition, Exhibit A has been modified to be consistent with Exhibit B. 
<span class="line"> 12</span>  * 
<span class="line"> 13</span>  * Software distributed under the License is distributed on an &#34;AS IS&#34; basis, 
<span class="line"> 14</span>  * WITHOUT WARRANTY OF ANY KIND, either express or implied. 
<span class="line"> 15</span>  * See the License for the specific language governing rights and limitations under the License. 
<span class="line"> 16</span>  * The Original Code is Zimbra Open Source Web Client. 
<span class="line"> 17</span>  * The Initial Developer of the Original Code is Zimbra, Inc. 
<span class="line"> 18</span>  * All portions of the code are Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014 Zimbra, Inc. All Rights Reserved. 
<span class="line"> 19</span>  * ***** END LICENSE BLOCK *****
<span class="line"> 20</span>  */</span><span class="WHIT">
<span class="line"> 21</span> 
<span class="line"> 22</span> </span><span class="COMM">/**
<span class="line"> 23</span>  * @overview
<span class="line"> 24</span>  * This file contains a Dwt control.
<span class="line"> 25</span>  */</span><span class="WHIT">
<span class="line"> 26</span> 
<span class="line"> 27</span> </span><span class="COMM">/**
<span class="line"> 28</span>  * Creates a control.
<span class="line"> 29</span>  * @class
<span class="line"> 30</span>  * This class is the root class of the Dwt component hierarchy. All
<span class="line"> 31</span>  * Dwt components either directly or indirectly inherit from this class.
<span class="line"> 32</span>  * &lt;p&gt;
<span class="line"> 33</span>  * A {@link DwtControl} may also be directly instantiated. In this case it is essentially
<span class="line"> 34</span>  * a div into which any content may be &#34;drawn&#34;
<span class="line"> 35</span>  * &lt;p&gt;
<span class="line"> 36</span>  * A control may be created in &#34;deferred&#34; mode, meaning that the UI portion of the control
<span class="line"> 37</span>  * will be created &#34;Just In Time&#34;. This is useful for widgets which may want to defer construction
<span class="line"> 38</span>  * of elements (e.g. {@link DwtTreeItem}) until such time as is needed, in the interest of efficiency.
<span class="line"> 39</span>  * Note that if the control is a child of the shell, it won&#39;t become visible until its z-index is set.
<span class="line"> 40</span>  *
<span class="line"> 41</span>  * &lt;h4&gt;Events&lt;/h4&gt;&lt;ul&gt;
<span class="line"> 42</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.CONTROL&lt;/i&gt;&lt;/li&gt;
<span class="line"> 43</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.DISPOSE&lt;/i&gt;&lt;/li&gt;
<span class="line"> 44</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.HOVEROVER&lt;/i&gt;&lt;/li&gt;
<span class="line"> 45</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.HOVEROUT&lt;/i&gt;&lt;/li&gt;
<span class="line"> 46</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONCONTEXTMENU&lt;/i&gt;&lt;/li&gt;
<span class="line"> 47</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONCLICK&lt;/i&gt;&lt;/li&gt;
<span class="line"> 48</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONDBLCLICK&lt;/i&gt;&lt;/li&gt;
<span class="line"> 49</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONFOCUS&lt;/i&gt;&lt;/li&gt;
<span class="line"> 50</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONBLUR&lt;/i&gt;&lt;/li&gt;
<span class="line"> 51</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEDOWN&lt;/i&gt;&lt;/li&gt;
<span class="line"> 52</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEENTER&lt;/i&gt;&lt;/li&gt;
<span class="line"> 53</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSELEAVE&lt;/i&gt;&lt;/li&gt;
<span class="line"> 54</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEMOVE&lt;/i&gt;&lt;/li&gt;
<span class="line"> 55</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEOUT&lt;/i&gt;&lt;/li&gt;
<span class="line"> 56</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEOVER&lt;/i&gt;&lt;/li&gt;
<span class="line"> 57</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEUP&lt;/i&gt;&lt;/li&gt;
<span class="line"> 58</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEWHEEL&lt;/i&gt;&lt;/li&gt;
<span class="line"> 59</span>  * &lt;li&gt;&lt;i&gt;DwtEvent.ONSELECTSTART&lt;/i&gt;&lt;/li&gt;
<span class="line"> 60</span>  * &lt;/ul&gt;
<span class="line"> 61</span>  *
<span class="line"> 62</span>  * @author Ross Dargahi
<span class="line"> 63</span>  * 
<span class="line"> 64</span>  * @param {hash}		params			a hash of parameters
<span class="line"> 65</span>  * @param	{DwtComposite}	parent		the parent widget, except in the case of {@link DwtShell}, the parent will be a control that is a subclass of {@link DwtComposite}
<span class="line"> 66</span>  * @param	{string}	className		the CSS class
<span class="line"> 67</span>  * @param	{constant}	posStyle		the positioning style (absolute, static, or relative). Defaults to {@link DwtControl.STATIC_STYLE}.
<span class="line"> 68</span>  * @param	{boolean}	deferred		if &lt;code&gt;true&lt;/code&gt;, postpone initialization until needed
<span class="line"> 69</span>  * @param	{string}	id			    an explicit ID to use for the control&#39;s HTML element. If not provided, defaults to an auto-generated ID.
<span class="line"> 70</span>  * @param	{string|HTMLElement}	parentElement   the parent element
<span class="line"> 71</span>  * @param	{number}	index 		    the index at which to add this control among parent&#39;s children
<span class="line"> 72</span>  * @param   {boolean}   isFocusable     if true, this control can take keyboard focus
<span class="line"> 73</span>  * @param   {string}    role            ARIA role for this control
<span class="line"> 74</span>  *
<span class="line"> 75</span>  */</span><span class="WHIT">
<span class="line"> 76</span> </span><span class="NAME">DwtControl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">params</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line"> 77</span> 
<span class="line"> 78</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">arguments.length</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line"> 79</span> </span><span class="WHIT">	</span><span class="NAME">params</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getParams</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.PARAMS</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line"> 80</span> 
<span class="line"> 81</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line"> 82</span> 	 * parent component. Read-Only
<span class="line"> 83</span> 	 * 
<span class="line"> 84</span> 	 * @private
<span class="line"> 85</span> 	 */</span><span class="WHIT">
<span class="line"> 86</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.parent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.parent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line"> 87</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">parent.isDwtComposite</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line"> 88</span> </span><span class="WHIT">		</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DwtException</span><span class="PUNC">(</span><span class="STRN">&#34;Parent must be a subclass of Composite&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtException.INVALIDPARENT</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line"> 89</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line"> 90</span> 
<span class="line"> 91</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line"> 92</span> 	 * the control&#39;s &lt;i&gt;DwtShell&lt;/i&gt;
<span class="line"> 93</span> 	 * @private
<span class="line"> 94</span> 	 */</span><span class="WHIT">
<span class="line"> 95</span> </span><span class="WHIT">	</span><span class="NAME">this.shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line"> 96</span> 
<span class="line"> 97</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line"> 98</span> 	 * Data object used to store &#34;client data&#34; on the widget via the
<span class="line"> 99</span> 	 * &lt;code&gt;setData&lt;/code&gt; and &lt;code&gt;getData&lt;/code&gt; methods
<span class="line">100</span> 	 * 
<span class="line">101</span> 	 * @type hash
<span class="line">102</span> 	 * @private
<span class="line">103</span> 	 */</span><span class="WHIT">
<span class="line">104</span> </span><span class="WHIT">	</span><span class="NAME">this._data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">105</span> 
<span class="line">106</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">107</span> 	 * The event manager controls the mapping between event types and the registered listeners.
<span class="line">108</span> 	 * @type AjxEventMgr
<span class="line">109</span> 	 * @private
<span class="line">110</span> 	 */</span><span class="WHIT">
<span class="line">111</span> </span><span class="WHIT">	</span><span class="NAME">this._eventMgr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxEventMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">112</span> 
<span class="line">113</span> </span><span class="WHIT">	</span><span class="COMM">/** true if the control is disposed, else false. The public api to this
<span class="line">114</span> 	 * member is &lt;code&gt;isDisposed&lt;/code&gt;.
<span class="line">115</span> 	 * 
<span class="line">116</span> 	 * @type boolean
<span class="line">117</span> 	 * @private
<span class="line">118</span> 	 */</span><span class="WHIT">
<span class="line">119</span> </span><span class="WHIT">	</span><span class="NAME">this._disposed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">120</span> 
<span class="line">121</span> </span><span class="WHIT">	</span><span class="COMM">// set to true for an event type to override default behavior of swallowing the event</span><span class="WHIT">
<span class="line">122</span> </span><span class="WHIT">	</span><span class="NAME">this._propagateEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">123</span> 
<span class="line">124</span> </span><span class="WHIT">	</span><span class="COMM">// don&#39;t swallow mouse wheel events; we often want to react to them, while</span><span class="WHIT">
<span class="line">125</span> </span><span class="WHIT">	</span><span class="COMM">// letting the browser continue to scroll</span><span class="WHIT">
<span class="line">126</span> </span><span class="WHIT">	</span><span class="NAME">this._propagateEvent</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEWHEEL</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">127</span> 
<span class="line">128</span> </span><span class="WHIT"> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">parent</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">129</span> 
<span class="line">130</span> </span><span class="WHIT">	</span><span class="COMM">/** CSS class name
<span class="line">131</span> 	 * @type string
<span class="line">132</span> 	 * @private
<span class="line">133</span> 	 */</span><span class="WHIT">
<span class="line">134</span> </span><span class="WHIT">	</span><span class="NAME">this._className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.className</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">135</span> 
<span class="line">136</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">137</span> 	 * @private
<span class="line">138</span> 	 */</span><span class="WHIT">
<span class="line">139</span> </span><span class="WHIT">	</span><span class="NAME">this.__posStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.posStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">140</span> 
<span class="line">141</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">142</span> 	 * id of the control&#39;s HTML element
<span class="line">143</span> 	 * @type string
<span class="line">144</span> 	 * @private
<span class="line">145</span> 	 */</span><span class="WHIT">
<span class="line">146</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">params.id</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">147</span> </span><span class="WHIT">		</span><span class="NAME">this._htmlElId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.id</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">148</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">149</span> 
<span class="line">150</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">params.isFocusable</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">151</span> </span><span class="WHIT">		</span><span class="NAME">this.isFocusable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.isFocusable</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">152</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">153</span> 
<span class="line">154</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">params.role</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">155</span> </span><span class="WHIT">		</span><span class="NAME">this.role</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.role</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">156</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">157</span> 
<span class="line">158</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">159</span> 	 * @private
<span class="line">160</span> 	 */</span><span class="WHIT">
<span class="line">161</span> </span><span class="WHIT">	</span><span class="NAME">this.__index</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.index</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">162</span> 
<span class="line">163</span> </span><span class="WHIT">	</span><span class="NAME">this.__parentElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.parentElement</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">164</span> 
<span class="line">165</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">166</span> 	 * enabled state of this control. Public APIs to this member are
<span class="line">167</span> 	 * &lt;code&gt;getEnabled&lt;/code&gt; and &lt;code&gt;setEnabled&lt;/code&gt;.
<span class="line">168</span> 	 * 
<span class="line">169</span> 	 * @type boolean
<span class="line">170</span> 	 * @private
<span class="line">171</span> 	 */</span><span class="WHIT">
<span class="line">172</span> </span><span class="WHIT">	</span><span class="NAME">this._enabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">173</span> 
<span class="line">174</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">175</span> 	 * Indicates the drag state of the control. Valid values are:
<span class="line">176</span> 	 * &lt;ul&gt;
<span class="line">177</span> 	 * &lt;li&gt;DwtControl._NO_DRAG&lt;li&gt;
<span class="line">178</span> 	 * &lt;li&gt;DwtControl._DRAGGING&lt;li&gt;
<span class="line">179</span> 	 * &lt;li&gt;DwtControl._DRAG_REJECTED&lt;li&gt;
<span class="line">180</span> 	 * &lt;/ul&gt;
<span class="line">181</span> 	 * 
<span class="line">182</span> 	 * @type number
<span class="line">183</span> 	 * @private
<span class="line">184</span> 	 */</span><span class="WHIT">
<span class="line">185</span> </span><span class="WHIT">	</span><span class="NAME">this._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">186</span> 
<span class="line">187</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">188</span> 	 * Drag n drop icon. Valid when a drag and drop operation is occurring.
<span class="line">189</span> 	 * 
<span class="line">190</span> 	 * @type HTMLElement
<span class="line">191</span> 	 * @private
<span class="line">192</span> 	 */</span><span class="WHIT">
<span class="line">193</span> </span><span class="WHIT">	</span><span class="NAME">this._dndProxy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">194</span> 
<span class="line">195</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">196</span> 	 * Flag indicating whether the control has keyboard focus or not.
<span class="line">197</span> 	 * 
<span class="line">198</span> 	 * @type boolean
<span class="line">199</span> 	 * @private
<span class="line">200</span> 	 */</span><span class="WHIT">
<span class="line">201</span> </span><span class="WHIT">	</span><span class="NAME">this._hasFocus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">202</span> 
<span class="line">203</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">params.deferred</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">204</span> </span><span class="WHIT">		</span><span class="NAME">this.__initCtrl</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">205</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">206</span> 
<span class="line">207</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">208</span> 	 * Hover over listener.
<span class="line">209</span> 	 * 
<span class="line">210</span> 	 * @type AjxListener
<span class="line">211</span> 	 * @private
<span class="line">212</span> 	 */</span><span class="WHIT">
<span class="line">213</span> </span><span class="WHIT">	</span><span class="NAME">this._hoverOverListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxListener</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__handleHoverOver</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">214</span> 
<span class="line">215</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class="line">216</span> 	 * Hover out listener.
<span class="line">217</span> 	 * 
<span class="line">218</span> 	 * @type AjxListener
<span class="line">219</span> 	 * @private
<span class="line">220</span> 	 */</span><span class="WHIT">
<span class="line">221</span> </span><span class="WHIT">	</span><span class="NAME">this._hoverOutListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxListener</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__handleHoverOut</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">222</span> 
<span class="line">223</span> </span><span class="WHIT">	</span><span class="COMM">// turn this on to receive only the dblclick event (rather than click,</span><span class="WHIT">
<span class="line">224</span> </span><span class="WHIT">	</span><span class="COMM">// click, dblclick); penalty is that single click&#39;s timer must expire</span><span class="WHIT">
<span class="line">225</span> </span><span class="WHIT">	</span><span class="COMM">// before it is processed; useful if control has both single and double</span><span class="WHIT">
<span class="line">226</span> </span><span class="WHIT">	</span><span class="COMM">// click actions, and single click action is heavy</span><span class="WHIT">
<span class="line">227</span> </span><span class="WHIT">	</span><span class="NAME">this._dblClickIsolation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">228</span> 
<span class="line">229</span> </span><span class="WHIT">	</span><span class="COMM">// set to true to ignore OVER and OUT mouse events between elements in the same control</span><span class="WHIT">
<span class="line">230</span> </span><span class="WHIT">	</span><span class="NAME">this._ignoreInternalOverOut</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">231</span> </span><span class="WHIT">	
<span class="line">232</span> 	</span><span class="COMM">// override this control&#39;s default template</span><span class="WHIT">
<span class="line">233</span> </span><span class="WHIT">	</span><span class="NAME">this.TEMPLATE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.template</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.TEMPLATE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">234</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">235</span> 
<span class="line">236</span> </span><span class="NAME">DwtControl.prototype.isDwtControl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">237</span> </span><span class="NAME">DwtControl.prototype.toString</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">238</span> 
<span class="line">239</span> </span><span class="NAME">DwtControl.prototype.isFocusable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">240</span> 
<span class="line">241</span> </span><span class="NAME">DwtControl.PARAMS</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="STRN">&#34;parent&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;className&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;posStyle&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;deferred&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;id&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;index&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;template&#34;</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">242</span> 
<span class="line">243</span> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">244</span> 
<span class="line">245</span> 
<span class="line">246</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">247</span> </span><span class="COMM">// Constants</span><span class="WHIT">
<span class="line">248</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">249</span> 
<span class="line">250</span> </span><span class="COMM">// Display states</span><span class="WHIT">
<span class="line">251</span> </span><span class="COMM">/**
<span class="line">252</span>  * Defines the &#34;normal&#34; display state.
<span class="line">253</span>  */</span><span class="WHIT">
<span class="line">254</span> </span><span class="NAME">DwtControl.NORMAL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">255</span> </span><span class="COMM">/**
<span class="line">256</span>  * Defines the &#34;active&#34; display state.
<span class="line">257</span>  */</span><span class="WHIT">
<span class="line">258</span> </span><span class="NAME">DwtControl.ACTIVE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZActive&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">259</span> </span><span class="COMM">/**
<span class="line">260</span>  * Defines the &#34;focused&#34; display state.
<span class="line">261</span>  */</span><span class="WHIT">
<span class="line">262</span> </span><span class="NAME">DwtControl.FOCUSED</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZFocused&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">263</span> </span><span class="COMM">/**
<span class="line">264</span>  * Defines the &#34;disabled&#34; display state.
<span class="line">265</span>  */</span><span class="WHIT">
<span class="line">266</span> </span><span class="NAME">DwtControl.DISABLED</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZDisabled&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">267</span> </span><span class="COMM">/**
<span class="line">268</span>  * Defines the &#34;hover&#34; display state.
<span class="line">269</span>  */</span><span class="WHIT">
<span class="line">270</span> </span><span class="NAME">DwtControl.HOVER</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZHover&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">271</span> </span><span class="COMM">/**
<span class="line">272</span>  * Defines the &#34;selected&#34; display state.
<span class="line">273</span>  */</span><span class="WHIT">
<span class="line">274</span> </span><span class="NAME">DwtControl.SELECTED</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZSelected&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">275</span> </span><span class="COMM">/**
<span class="line">276</span>  * Defines the &#34;default&#34; display state.
<span class="line">277</span>  */</span><span class="WHIT">
<span class="line">278</span> </span><span class="NAME">DwtControl.DEFAULT</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZDefault&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">279</span> </span><span class="COMM">/**
<span class="line">280</span>  * Defines the &#34;error&#34; display state.
<span class="line">281</span>  */</span><span class="WHIT">
<span class="line">282</span> </span><span class="NAME">DwtControl.ERROR</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;ZError&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">283</span> 
<span class="line">284</span> </span><span class="NAME">DwtControl._STATES</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">
<span class="line">285</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl.ACTIVE</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">DwtControl.FOCUSED</span><span class="PUNC">,</span><span class="WHIT">     </span><span class="NAME">DwtControl.DISABLED</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">286</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl.HOVER</span><span class="PUNC">,</span><span class="WHIT">   </span><span class="NAME">DwtControl.SELECTED</span><span class="PUNC">,</span><span class="WHIT">    </span><span class="NAME">DwtControl.DEFAULT</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">287</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl.ERROR</span><span class="WHIT">
<span class="line">288</span> </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">289</span> 
<span class="line">290</span> </span><span class="NAME">DwtControl._RE_STATES</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="WHIT">
<span class="line">291</span> </span><span class="WHIT">    </span><span class="STRN">&#34;\\b(&#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">DwtControl._STATES.join</span><span class="PUNC">(</span><span class="STRN">&#34;|&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">&#34;)\\b&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;g&#34;</span><span class="WHIT">
<span class="line">292</span> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">293</span> 
<span class="line">294</span> </span><span class="NAME">DwtControl._RE_STATE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxUtil.arrayAsHash</span><span class="PUNC">(</span><span class="WHIT">
<span class="line">295</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl._STATES</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">296</span> </span><span class="WHIT">	</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">state</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">297</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="STRN">&#34;\\b&#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">state</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">&#34;\\b&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;g&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">298</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">299</span> 
<span class="line">300</span> </span><span class="NAME">DwtControl._ARIA_STATES</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">301</span> </span><span class="NAME">DwtControl._ARIA_STATES</span><span class="PUNC">[</span><span class="NAME">DwtControl.DISABLED</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#39;aria-disabled&#39;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">302</span> </span><span class="NAME">DwtControl._ARIA_STATES</span><span class="PUNC">[</span><span class="NAME">DwtControl.SELECTED</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#39;aria-selected&#39;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">303</span> </span><span class="NAME">DwtControl._ARIA_STATES</span><span class="PUNC">[</span><span class="NAME">DwtControl.ERROR</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#39;aria-invalid&#39;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">304</span> 
<span class="line">305</span> </span><span class="COMM">// Try to use browser tooltips (setting &#39;title&#39; attribute) if possible</span><span class="WHIT">
<span class="line">306</span> </span><span class="NAME">DwtControl.useBrowserTooltips</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">307</span> 
<span class="line">308</span> 
<span class="line">309</span> </span><span class="COMM">/*
<span class="line">310</span>  * Position styles
<span class="line">311</span>  * 
<span class="line">312</span>  */</span><span class="WHIT">
<span class="line">313</span> 
<span class="line">314</span> </span><span class="COMM">/**
<span class="line">315</span>  * Defines the static position style.
<span class="line">316</span>  * 
<span class="line">317</span>  * @see  Dwt.STATIC_STYLE
<span class="line">318</span>  */</span><span class="WHIT">
<span class="line">319</span> </span><span class="NAME">DwtControl.STATIC_STYLE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.STATIC_STYLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">320</span> 
<span class="line">321</span> </span><span class="COMM">/**
<span class="line">322</span>  * Defines the absolute position style.
<span class="line">323</span>  * 
<span class="line">324</span>  * @see Dwt.ABSOLUTE_STYLE
<span class="line">325</span>  */</span><span class="WHIT">
<span class="line">326</span> </span><span class="NAME">DwtControl.ABSOLUTE_STYLE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.ABSOLUTE_STYLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">327</span> 
<span class="line">328</span> </span><span class="COMM">/**
<span class="line">329</span>  * Defines the relative position style.
<span class="line">330</span>  * 
<span class="line">331</span>  * @see Dwt.RELATIVE_STYLE
<span class="line">332</span>  */</span><span class="WHIT">
<span class="line">333</span> </span><span class="NAME">DwtControl.RELATIVE_STYLE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.RELATIVE_STYLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">334</span> 
<span class="line">335</span> </span><span class="COMM">/**
<span class="line">336</span>  * Defines the fixed position style.
<span class="line">337</span>  * 
<span class="line">338</span>  * @see Dwt.FIXED_STYLE
<span class="line">339</span>  */</span><span class="WHIT">
<span class="line">340</span> </span><span class="NAME">DwtControl.FIXED_STYLE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.FIXED_STYLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">341</span> 
<span class="line">342</span> 
<span class="line">343</span> </span><span class="COMM">/*
<span class="line">344</span>  * 
<span class="line">345</span>  * Overflow style
<span class="line">346</span>  * 
<span class="line">347</span>  */</span><span class="WHIT">
<span class="line">348</span> 
<span class="line">349</span> </span><span class="COMM">/**
<span class="line">350</span>  * 
<span class="line">351</span>  * Defines clip on overflow.
<span class="line">352</span>  * 
<span class="line">353</span>  * @see Dwt.CLIP
<span class="line">354</span>  */</span><span class="WHIT">
<span class="line">355</span> </span><span class="NAME">DwtControl.CLIP</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.CLIP</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">356</span> 
<span class="line">357</span> </span><span class="COMM">/**
<span class="line">358</span>  * Defines allow overflow to be visible.
<span class="line">359</span>  * 
<span class="line">360</span>  * @see Dwt.VISIBLE
<span class="line">361</span>  */</span><span class="WHIT">
<span class="line">362</span> </span><span class="NAME">DwtControl.VISIBLE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.VISIBLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">363</span> 
<span class="line">364</span> </span><span class="COMM">/**
<span class="line">365</span>  * Defines automatically create scrollbars if content overflows.
<span class="line">366</span>  * 
<span class="line">367</span>  * @see Dwt.SCROLL
<span class="line">368</span>  */</span><span class="WHIT">
<span class="line">369</span> </span><span class="NAME">DwtControl.SCROLL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.SCROLL</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">370</span> 
<span class="line">371</span> </span><span class="COMM">/**
<span class="line">372</span>  * Defines always have scrollbars whether content overflows or not.
<span class="line">373</span>  * 
<span class="line">374</span>  * @see Dwt.FIXED_SCROLL
<span class="line">375</span>  */</span><span class="WHIT">
<span class="line">376</span> </span><span class="NAME">DwtControl.FIXED_SCROLL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.FIXED_SCROLL</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">377</span> 
<span class="line">378</span> 
<span class="line">379</span> </span><span class="COMM">// DnD states</span><span class="WHIT">
<span class="line">380</span> </span><span class="COMM">/**
<span class="line">381</span>  * Defines &#34;no drag&#34; in progress.
<span class="line">382</span>  * 
<span class="line">383</span>  * @private
<span class="line">384</span>  */</span><span class="WHIT">
<span class="line">385</span> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;NO_DRAG&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">386</span> 
<span class="line">387</span> </span><span class="COMM">/**
<span class="line">388</span>  * Defines &#34;drag&#34; in progress.
<span class="line">389</span>  *
<span class="line">390</span>  * @private
<span class="line">391</span>  */</span><span class="WHIT">
<span class="line">392</span> </span><span class="NAME">DwtControl._DRAGGING</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;DRAGGING&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">393</span> 
<span class="line">394</span> </span><span class="COMM">/**
<span class="line">395</span>  * Defines &#34;drag rejected&#34;.
<span class="line">396</span>  * 
<span class="line">397</span>  * @private
<span class="line">398</span>  */</span><span class="WHIT">
<span class="line">399</span> </span><span class="NAME">DwtControl._DRAG_REJECTED</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;DRAG_REJECTED&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">400</span> 
<span class="line">401</span> </span><span class="COMM">/**
<span class="line">402</span>  * Defines &#34;drag threshold&#34;.
<span class="line">403</span>  * 
<span class="line">404</span>  * @private
<span class="line">405</span>  */</span><span class="WHIT">
<span class="line">406</span> </span><span class="NAME">DwtControl.__DRAG_THRESHOLD</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">407</span> 
<span class="line">408</span> </span><span class="COMM">/**
<span class="line">409</span>  * Defines &#34;tooltip threshold&#34;.
<span class="line">410</span>  *
<span class="line">411</span>  * @private
<span class="line">412</span>  */</span><span class="WHIT">
<span class="line">413</span> </span><span class="NAME">DwtControl.__TOOLTIP_THRESHOLD</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">414</span> 
<span class="line">415</span> </span><span class="COMM">/**
<span class="line">416</span>  * @private
<span class="line">417</span>  */</span><span class="WHIT">
<span class="line">418</span> </span><span class="NAME">DwtControl.__DND_HOVER_DELAY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">750</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">419</span> 
<span class="line">420</span> </span><span class="COMM">/**
<span class="line">421</span>  * @private
<span class="line">422</span>  */</span><span class="WHIT">
<span class="line">423</span> </span><span class="NAME">DwtControl.__controlEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DwtControlEvent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">424</span> 
<span class="line">425</span> </span><span class="COMM">/**
<span class="line">426</span>  * Applies only if control has turned on _doubleClickIsolation (see above)
<span class="line">427</span>  * want to hit sweet spot where value is more than actual dbl click speed,
<span class="line">428</span>  * but as low as possible since it also the length of single click pause.
<span class="line">429</span>  * 
<span class="line">430</span>  * @private
<span class="line">431</span>  */</span><span class="WHIT">
<span class="line">432</span> </span><span class="NAME">DwtControl.__DBL_CLICK_TIMEOUT</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">300</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">433</span> 
<span class="line">434</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">435</span> </span><span class="COMM">// Data</span><span class="WHIT">
<span class="line">436</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">437</span> 
<span class="line">438</span> </span><span class="COMM">/**
<span class="line">439</span>  * @private
<span class="line">440</span>  */</span><span class="WHIT">
<span class="line">441</span> </span><span class="NAME">DwtControl.prototype._displayState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">442</span> 
<span class="line">443</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">444</span> </span><span class="COMM">// Public methods</span><span class="WHIT">
<span class="line">445</span> </span><span class="COMM">//</span><span class="WHIT">
<span class="line">446</span> 
<span class="line">447</span> </span><span class="COMM">/**
<span class="line">448</span>  * Adds a control event listener for control events. Control events are essentially
<span class="line">449</span>  * resize and coordinate change events.
<span class="line">450</span>  *
<span class="line">451</span>  * @param {AjxListener} listener		the listener to be registered (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">452</span>  *
<span class="line">453</span>  * @see DwtControlEvent
<span class="line">454</span>  * @see #removeControlListener
<span class="line">455</span>  * @see #removeAllListeners
<span class="line">456</span>  */</span><span class="WHIT">
<span class="line">457</span> </span><span class="NAME">DwtControl.prototype.addControlListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">458</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">459</span> </span><span class="WHIT">	</span><span class="NAME">this.addListener</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">460</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">461</span> 
<span class="line">462</span> </span><span class="COMM">/**
<span class="line">463</span>  * Removes a control event listener for control events. Control events are essentially
<span class="line">464</span>  * resize and coordinate change events.
<span class="line">465</span>  *
<span class="line">466</span>  * @param {AjxListener} listener		the listener to remove
<span class="line">467</span>  *
<span class="line">468</span>  * @see DwtControlEvent
<span class="line">469</span>  * @see #addControlListener
<span class="line">470</span>  * @see #removeAllListeners
<span class="line">471</span>  */</span><span class="WHIT">
<span class="line">472</span> </span><span class="NAME">DwtControl.prototype.removeControlListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">473</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">474</span> </span><span class="WHIT">	</span><span class="NAME">this.removeListener</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">475</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">476</span> 
<span class="line">477</span> </span><span class="COMM">/**
<span class="line">478</span>  * Registers a dispose listener for control events. Dispose events are fired when
<span class="line">479</span>  * a control is &#34;destroyed&#34; via the {@link #dispose} call.
<span class="line">480</span>  *
<span class="line">481</span>  * @param {AjxListener} listener		the listener to be registered (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">482</span>  *
<span class="line">483</span>  * @see DwtDisposeEvent
<span class="line">484</span>  * @see #removeDisposeListener
<span class="line">485</span>  * @see #removeAllListeners
<span class="line">486</span>  * @see #dispose
<span class="line">487</span>  * @see #isDisposed
<span class="line">488</span>  */</span><span class="WHIT">
<span class="line">489</span> </span><span class="NAME">DwtControl.prototype.addDisposeListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">490</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">491</span> </span><span class="WHIT">	</span><span class="NAME">this.addListener</span><span class="PUNC">(</span><span class="NAME">DwtEvent.DISPOSE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">492</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">493</span> 
<span class="line">494</span> </span><span class="COMM">/**
<span class="line">495</span>  * Removes a dispose event listener for control events. Dispose events are fired when
<span class="line">496</span>  * a control is &#34;destroyed&#34; via the {@link #dispose} method call.
<span class="line">497</span>  *
<span class="line">498</span>  * @param {AjxListener} listener		the listener to remove
<span class="line">499</span>  *
<span class="line">500</span>  * @see DwtDisposeEvent
<span class="line">501</span>  * @see #addDisposeListener
<span class="line">502</span>  * @see #removeAllListeners
<span class="line">503</span>  * @see #dispose
<span class="line">504</span>  * @see #isDisposed
<span class="line">505</span>  */</span><span class="WHIT">
<span class="line">506</span> </span><span class="NAME">DwtControl.prototype.removeDisposeListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">507</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">508</span> </span><span class="WHIT">	</span><span class="NAME">this.removeListener</span><span class="PUNC">(</span><span class="NAME">DwtEvent.DISPOSE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">509</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">510</span> 
<span class="line">511</span> </span><span class="COMM">/**
<span class="line">512</span>  * Adds a listener to the control. The listener will be call when events
<span class="line">513</span>  * of type &lt;code&gt;eventType&lt;/code&gt; fire.
<span class="line">514</span>  *
<span class="line">515</span>  * @param {string} eventType		the event type for which to listen (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">516</span>  * @param {AjxListener} listener	the listener to register (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">517</span>  * @param {number}		index		the index at which to add listener
<span class="line">518</span>  *
<span class="line">519</span>  * @see DwtEvent
<span class="line">520</span>  * @see #removeListener
<span class="line">521</span>  * @see #removeAllListeners
<span class="line">522</span>  * @see #notifyListeners
<span class="line">523</span>  */</span><span class="WHIT">
<span class="line">524</span> </span><span class="NAME">DwtControl.prototype.addListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">525</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">index</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">526</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._eventMgr.addListener</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">index</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">527</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">528</span> 
<span class="line">529</span> </span><span class="COMM">/**
<span class="line">530</span>  * Removes a listener from the control.
<span class="line">531</span>  *
<span class="line">532</span>  * @param {string} eventType		the event type for which to listen (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">533</span>  * @param {AjxListener} listener	the listener to remove (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">534</span>  *
<span class="line">535</span>  * @see DwtEvent
<span class="line">536</span>  * @see #addListener
<span class="line">537</span>  * @see #removeAllListeners
<span class="line">538</span>  */</span><span class="WHIT">
<span class="line">539</span> </span><span class="NAME">DwtControl.prototype.removeListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">540</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">541</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._eventMgr.removeListener</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">542</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">543</span> 
<span class="line">544</span> </span><span class="COMM">/**
<span class="line">545</span>  * Removes all listeners for a particular event type.
<span class="line">546</span>  *
<span class="line">547</span>  * @param {string} eventType		the event type (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">548</span>  * @return	{boolean}	&lt;code&gt;true&lt;/code&gt; if all listeners are removed
<span class="line">549</span>  * 
<span class="line">550</span>  * @see DwtEvent
<span class="line">551</span>  * @see #addListener
<span class="line">552</span>  * @see #removeListener
<span class="line">553</span>  */</span><span class="WHIT">
<span class="line">554</span> </span><span class="NAME">DwtControl.prototype.removeAllListeners</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">555</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">556</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._eventMgr.removeAll</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">557</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">558</span> 
<span class="line">559</span> </span><span class="COMM">/**
<span class="line">560</span>  * Checks if there are any listeners registered for a particular event type.
<span class="line">561</span>  *
<span class="line">562</span>  * @param {string} eventType		the event type (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">563</span>  *
<span class="line">564</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if there is an listener registered for the specified event type
<span class="line">565</span>  * @see DwtEvent
<span class="line">566</span>  */</span><span class="WHIT">
<span class="line">567</span> </span><span class="NAME">DwtControl.prototype.isListenerRegistered</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">568</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">569</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._eventMgr.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">570</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">571</span> 
<span class="line">572</span> </span><span class="COMM">/**
<span class="line">573</span>  * Notifies all listeners of type &lt;code&gt;eventType&lt;/code&gt; with &lt;code&gt;event&lt;/code&gt;.
<span class="line">574</span>  *
<span class="line">575</span>  * @param {string} eventType		the event type (may not be &lt;code&gt;null&lt;/code&gt;)
<span class="line">576</span>  * @param {DwtEvent} event		the event
<span class="line">577</span>  */</span><span class="WHIT">
<span class="line">578</span> </span><span class="NAME">DwtControl.prototype.notifyListeners</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">579</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">580</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._eventMgr.notifyListeners</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">581</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">582</span> 
<span class="line">583</span> </span><span class="COMM">/**
<span class="line">584</span>  * Disposes of the control. This method will remove the control from under the
<span class="line">585</span>  * control of its parent and release any resources associate with the component
<span class="line">586</span>  * it will also notify any event listeners on registered {@link DwtEvent.DISPOSE} event type.
<span class="line">587</span>  *
<span class="line">588</span>  * &lt;p&gt;
<span class="line">589</span>  * Subclasses may override this method to perform their own dispose functionality but
<span class="line">590</span>  * should generally call up to the parent method.
<span class="line">591</span>  *
<span class="line">592</span>  * @see #isDisposed
<span class="line">593</span>  * @see #addDisposeListener
<span class="line">594</span>  * @see #removeDisposeListener
<span class="line">595</span>  */</span><span class="WHIT">
<span class="line">596</span> </span><span class="NAME">DwtControl.prototype.dispose</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">597</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">598</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">599</span> 
<span class="line">600</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.parent</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">this.parent.isDwtComposite</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">601</span> </span><span class="WHIT">		</span><span class="NAME">this.parent.removeChild</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">602</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">603</span> </span><span class="WHIT">	</span><span class="NAME">this._elRef</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">604</span> </span><span class="WHIT">	
<span class="line">605</span> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">606</span> </span><span class="WHIT">		</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">607</span> </span><span class="WHIT">		</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">608</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">609</span> 
<span class="line">610</span> </span><span class="WHIT">	</span><span class="NAME">this._disposed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">611</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DwtDisposeEvent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">612</span> </span><span class="WHIT">	</span><span class="NAME">ev.dwtObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">613</span> </span><span class="WHIT">	</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.DISPOSE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">614</span> </span><span class="WHIT">    </span><span class="NAME">this._eventMgr.clearAllEvents</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">615</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">616</span> 
<span class="line">617</span> </span><span class="COMM">/**
<span class="line">618</span>  * This method is deprecated. Please use &#34;document&#34; directly.
<span class="line">619</span>  * @deprecated
<span class="line">620</span>  * @private
<span class="line">621</span>  */</span><span class="WHIT">
<span class="line">622</span> </span><span class="NAME">DwtControl.prototype.getDocument</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">623</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">624</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">document</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">625</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">626</span> 
<span class="line">627</span> </span><span class="COMM">/**
<span class="line">628</span>  * Gets the tab group member for this control. Tab group members can
<span class="line">629</span>  * be a native HTML form element, a {@link DwtControl}, or a {@link DwtTabGroup} (for more
<span class="line">630</span>  * complex or explicit tab-ordering.
<span class="line">631</span>  * 
<span class="line">632</span>  * @return	{DwtControl}	by default, returns this object
<span class="line">633</span>  */</span><span class="WHIT">
<span class="line">634</span> </span><span class="NAME">DwtControl.prototype.getTabGroupMember</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">635</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isFocusable</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">636</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getInputElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">637</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">638</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">639</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">640</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">641</span> 
<span class="line">642</span> </span><span class="COMM">/**
<span class="line">643</span>  * Gets the data associated with the specified key.
<span class="line">644</span>  *
<span class="line">645</span>  * @param {string} key		the key
<span class="line">646</span>  * @return {Object}		the associated data
<span class="line">647</span>  * 
<span class="line">648</span>  * @see #setData
<span class="line">649</span>  */</span><span class="WHIT">
<span class="line">650</span> </span><span class="NAME">DwtControl.prototype.getData</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">651</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">key</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">652</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._data</span><span class="PUNC">[</span><span class="NAME">key</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">653</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">654</span> 
<span class="line">655</span> </span><span class="COMM">/**
<span class="line">656</span>  * Sets the data for a given key. This method is useful for associating client data with a control.
<span class="line">657</span>  *
<span class="line">658</span>  * @param {string} key		the key
<span class="line">659</span>  * @param {Object} value	the data
<span class="line">660</span>  * 
<span class="line">661</span>  * @see #getData
<span class="line">662</span>  */</span><span class="WHIT">
<span class="line">663</span> </span><span class="NAME">DwtControl.prototype.setData</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">664</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">key</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">665</span> </span><span class="WHIT">  </span><span class="NAME">this._data</span><span class="PUNC">[</span><span class="NAME">key</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">666</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">667</span> 
<span class="line">668</span> </span><span class="COMM">/**
<span class="line">669</span>  * Checks if the control is disposed.
<span class="line">670</span>  * 
<span class="line">671</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if the control is in a disposed state; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">672</span>  *
<span class="line">673</span>  * @see #dispose
<span class="line">674</span>  * @see #addDisposeListener
<span class="line">675</span>  * @see #removeDisposeListener
<span class="line">676</span>  */</span><span class="WHIT">
<span class="line">677</span> </span><span class="NAME">DwtControl.prototype.isDisposed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">678</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">679</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._disposed</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">680</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">681</span> 
<span class="line">682</span> </span><span class="COMM">/**
<span class="line">683</span>  * Checks if the control is initialized. In general, a control will not be
<span class="line">684</span>  * initialized if it has been created in deferred mode and has not yet been initialized.
<span class="line">685</span>  * 
<span class="line">686</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if the control is in a initialized; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">687</span>  */</span><span class="WHIT">
<span class="line">688</span> </span><span class="NAME">DwtControl.prototype.isInitialized</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">689</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">690</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.__ctrlInited</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">691</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">692</span> 
<span class="line">693</span> </span><span class="COMM">/**
<span class="line">694</span>  * This method is called to explicitly set keyboard focus to this component.
<span class="line">695</span>  * 
<span class="line">696</span>  */</span><span class="WHIT">
<span class="line">697</span> </span><span class="NAME">DwtControl.prototype.focus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">698</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">699</span> </span><span class="WHIT">	</span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getKeyboardMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">grabFocus</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">700</span> </span><span class="WHIT">    </span><span class="NAME">this.__doFocus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">701</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">702</span> 
<span class="line">703</span> </span><span class="NAME">DwtControl.prototype.blur</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">704</span> </span><span class="WHIT">    </span><span class="NAME">this.__doBlur</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">705</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">706</span> 
<span class="line">707</span> </span><span class="COMM">/**
<span class="line">708</span>  * Checks if this control has focus.
<span class="line">709</span>  * 
<span class="line">710</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if this control has keyboard focus; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">711</span>  */</span><span class="WHIT">
<span class="line">712</span> </span><span class="NAME">DwtControl.prototype.hasFocus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">713</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">714</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._hasFocus</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">715</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">716</span> 
<span class="line">717</span> </span><span class="COMM">/**
<span class="line">718</span>  * Handles key actions and is called by the keyboard navigation framework. Subclasses
<span class="line">719</span>  * should override this method to provide behavior for supported key actions.
<span class="line">720</span>  * 
<span class="line">721</span>  * @param	{DwtKeyMap}	actionCode	the key action code
<span class="line">722</span>  * @param	{DwtKeyEvent}	ev		the key event
<span class="line">723</span>  * @return	{boolean}	&lt;code&gt;true&lt;/code&gt; if the event is handled; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">724</span>  * 
<span class="line">725</span>  * @private
<span class="line">726</span>  *
<span class="line">727</span>  */</span><span class="WHIT">
<span class="line">728</span> </span><span class="NAME">DwtControl.prototype.handleKeyAction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">729</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">actionCode</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">730</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">731</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">732</span> 
<span class="line">733</span> </span><span class="COMM">/**
<span class="line">734</span>  * Re-parents the control within the component hierarchy. Unlike &lt;i&gt;reparentHtmlElement&lt;/i&gt;
<span class="line">735</span>  * which re-parents the controls &lt;i&gt;div&lt;/i&gt; within the DOM hierarchy, this method re-parents
<span class="line">736</span>  * the whole control.
<span class="line">737</span>  *
<span class="line">738</span>  * @param {DwtComposite} newParent 	the control&#39;s new parent
<span class="line">739</span>  * @param	{number}	index	the index
<span class="line">740</span>  * 
<span class="line">741</span>  * @see #reparentHtmlElement
<span class="line">742</span>  */</span><span class="WHIT">
<span class="line">743</span> </span><span class="NAME">DwtControl.prototype.reparent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">744</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">newParent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">index</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">745</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">746</span> 
<span class="line">747</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">748</span> </span><span class="WHIT">	</span><span class="NAME">this.parent.removeChild</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">749</span> </span><span class="WHIT">	</span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">750</span> </span><span class="WHIT">	</span><span class="NAME">newParent.addChild</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">index</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">751</span> </span><span class="WHIT">	</span><span class="NAME">this.parent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">newParent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">752</span> </span><span class="WHIT">	</span><span class="COMM">// TODO do we need a reparent event?</span><span class="WHIT">
<span class="line">753</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">754</span> 
<span class="line">755</span> </span><span class="COMM">/**
<span class="line">756</span>  * Re-parents the HTML element of the control to the html element supplied as the
<span class="line">757</span>  * parameter to this method. Note this method only re-parents the control&#39;s &lt;i&gt;div&lt;/i&gt;
<span class="line">758</span>  * element and does not affect the component hierarchy. To re-parent the control within
<span class="line">759</span>  * the component hierarchy, use the &lt;i&gt;reparent&lt;/i&gt; method.
<span class="line">760</span>  *
<span class="line">761</span>  * @param {string|HTMLElement} htmlEl a string representing an element ID or an HTML element
<span class="line">762</span>  * @param {number} position 	the position to insert the element
<span class="line">763</span>  *
<span class="line">764</span>  * @see #reparent
<span class="line">765</span>  */</span><span class="WHIT">
<span class="line">766</span> </span><span class="NAME">DwtControl.prototype.reparentHtmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">767</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">position</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">768</span> 
<span class="line">769</span> </span><span class="WHIT">	</span><span class="COMM">// If htmlEl is a string, then it is an ID so lookup the html element that</span><span class="WHIT">
<span class="line">770</span> </span><span class="WHIT">	</span><span class="COMM">// has the corresponding ID</span><span class="WHIT">
<span class="line">771</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;string&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">772</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">773</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">774</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">775</span> 
<span class="line">776</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">777</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">position</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">778</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl.appendChild</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">779</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">position</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;object&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">780</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl.insertBefore</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">position</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">781</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">782</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">htmlEl.childNodes</span><span class="PUNC">[</span><span class="NAME">position</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">783</span> </span><span class="WHIT">			</span><span class="NAME">htmlEl.insertBefore</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">htmlEl.childNodes</span><span class="PUNC">[</span><span class="NAME">position</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">784</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">785</span> </span><span class="WHIT">			</span><span class="NAME">htmlEl.appendChild</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">786</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">787</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">788</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">789</span> 
<span class="line">790</span> </span><span class="COMM">/**
<span class="line">791</span>  * Sets the event handling function for a given event type. This method
<span class="line">792</span>  * should be used judiciously as it can lead to unexpected results (for example if
<span class="line">793</span>  * overriding the control&#39;s mouse handlers). This method calls through to &lt;i&gt;Dwt.setHandler&lt;/i&gt;
<span class="line">794</span>  *
<span class="line">795</span>  * @param {string} eventType 	the event type (defined in {@see DwtEvent}) to override 
<span class="line">796</span>  * @param {function} hdlrFunc Event handler function
<span class="line">797</span>  *
<span class="line">798</span>  * @see DwtEvent
<span class="line">799</span>  */</span><span class="WHIT">
<span class="line">800</span> </span><span class="NAME">DwtControl.prototype.setHandler</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">801</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">hdlrFunc</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">802</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">803</span> 
<span class="line">804</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">805</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setHandler</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">hdlrFunc</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">806</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">807</span> 
<span class="line">808</span> </span><span class="COMM">/**
<span class="line">809</span>  * Clears the event handling function for a given event type. This method
<span class="line">810</span>  * should be used judiciously as it can lead to unexpected results (for example if
<span class="line">811</span>  * overriding the control&#39;s mouse handlers)
<span class="line">812</span>  *
<span class="line">813</span>  * @param {string} eventType 	the event type (defined in {@see DwtEvent}) to override 
<span class="line">814</span>  *
<span class="line">815</span>  * @see DwtEvent
<span class="line">816</span>  */</span><span class="WHIT">
<span class="line">817</span> </span><span class="NAME">DwtControl.prototype.clearHandler</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">818</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">819</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">820</span> 
<span class="line">821</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">822</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.clearHandler</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">823</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">824</span> 
<span class="line">825</span> </span><span class="COMM">/**
<span class="line">826</span>  * Set the default behavior for whether an event will propagate (bubble up).
<span class="line">827</span>  * 
<span class="line">828</span>  * @param {boolean}		propagate		if true, event will propagate
<span class="line">829</span>  * @param {array}		events			one or more events
<span class="line">830</span>  */</span><span class="WHIT">
<span class="line">831</span> </span><span class="NAME">DwtControl.prototype.setEventPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">832</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">propagate</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">events</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">833</span> </span><span class="WHIT">	</span><span class="NAME">events</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxUtil.toArray</span><span class="PUNC">(</span><span class="NAME">events</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">834</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">events.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">835</span> </span><span class="WHIT">		</span><span class="NAME">this._propagateEvent</span><span class="PUNC">[</span><span class="NAME">events</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">propagate</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">836</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">837</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">838</span> 
<span class="line">839</span> </span><span class="COMM">/**
<span class="line">840</span>  * Gets the bounds of the component. Bounds includes the location (not relevant for
<span class="line">841</span>  * statically position elements) and dimensions of the control (i.e. the &lt;code&gt;&lt;div&gt;&lt;/code&gt; element).
<span class="line">842</span>  *
<span class="line">843</span>  * @return {DwtRectangle}		the control bounds
<span class="line">844</span>  *
<span class="line">845</span>  * @see DwtRectangle
<span class="line">846</span>  * @see #getInsetBounds
<span class="line">847</span>  * @see #getInsets
<span class="line">848</span>  * @see #getSize
<span class="line">849</span>  * @see #getLocation
<span class="line">850</span>  * @see #getH
<span class="line">851</span>  * @see #getW
<span class="line">852</span>  * @see #getX
<span class="line">853</span>  * @see #getXW
<span class="line">854</span>  * @see #getY
<span class="line">855</span>  * @see #getYH
<span class="line">856</span>  * @see #setBounds
<span class="line">857</span>  * @see #setSize
<span class="line">858</span>  * @see #setLocation
<span class="line">859</span>  */</span><span class="WHIT">
<span class="line">860</span> </span><span class="NAME">DwtControl.prototype.getBounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">861</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">862</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">863</span> 
<span class="line">864</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getBounds</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">865</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">866</span> 
<span class="line">867</span> </span><span class="COMM">/**
<span class="line">868</span>  * Gets the inset bounds of the component. Similar to the bounds, but excluding borders and paddings.
<span class="line">869</span>  *
<span class="line">870</span>  * @return {DwtRectangle}		the control inset bounds
<span class="line">871</span>  *
<span class="line">872</span>  * @see DwtRectangle
<span class="line">873</span>  * @see #getBounds
<span class="line">874</span>  * @see #getInsets
<span class="line">875</span>  * @see #getSize
<span class="line">876</span>  * @see #getLocation
<span class="line">877</span>  * @see #getH
<span class="line">878</span>  * @see #getW
<span class="line">879</span>  * @see #getX
<span class="line">880</span>  * @see #getXW
<span class="line">881</span>  * @see #getY
<span class="line">882</span>  * @see #getYH
<span class="line">883</span>  * @see #setBounds
<span class="line">884</span>  * @see #setSize
<span class="line">885</span>  * @see #setLocation
<span class="line">886</span>  */</span><span class="WHIT">
<span class="line">887</span> </span><span class="NAME">DwtControl.prototype.getInsetBounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">888</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">889</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">890</span> 
<span class="line">891</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getInsetBounds</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">892</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">893</span> 
<span class="line">894</span> </span><span class="COMM">/**
<span class="line">895</span>  * Gets the insets of the component, i.e. the width of borders and paddings.
<span class="line">896</span>  *
<span class="line">897</span>  * @return {DwtRectangle}		the control insets
<span class="line">898</span>  *
<span class="line">899</span>  * @see DwtRectangle
<span class="line">900</span>  * @see #getBounds
<span class="line">901</span>  * @see #getInsetBounds
<span class="line">902</span>  * @see #getInsets
<span class="line">903</span>  * @see #getSize
<span class="line">904</span>  * @see #getLocation
<span class="line">905</span>  * @see #getH
<span class="line">906</span>  * @see #getW
<span class="line">907</span>  * @see #getX
<span class="line">908</span>  * @see #getXW
<span class="line">909</span>  * @see #getY
<span class="line">910</span>  * @see #getYH
<span class="line">911</span>  * @see #setBounds
<span class="line">912</span>  * @see #setSize
<span class="line">913</span>  * @see #setLocation
<span class="line">914</span>  */</span><span class="WHIT">
<span class="line">915</span> </span><span class="NAME">DwtControl.prototype.getInsets</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">916</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">917</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">918</span> 
<span class="line">919</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getInsets</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">920</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">921</span> 
<span class="line">922</span> </span><span class="COMM">/**
<span class="line">923</span>  * Sets the bounds of a control. The position type of the control must
<span class="line">924</span>  * be absolute or else an exception is thrown. To omit setting a value set the
<span class="line">925</span>  * actual parameter value to &lt;i&gt;Dwt.DEFAULT&lt;/i&gt;
<span class="line">926</span>  *
<span class="line">927</span>  * @param {number|string} x		the x coordinate of the element (for example: 10, &#34;10px&#34;, Dwt.DEFAULT)
<span class="line">928</span>  * @param {number|string} y		the y coordinate of the element (for example: 10, &#34;10px&#34;, Dwt.DEFAULT)
<span class="line">929</span>  * @param {number|string} width	the width of the element (for example: 100, &#34;100px&#34;, &#34;75%&#34;, Dwt.DEFAULT)
<span class="line">930</span>  * @param {number|string} height	the height of the element (for example: 100, &#34;100px&#34;, &#34;75%&#34;, Dwt.DEFAULT)
<span class="line">931</span>  *
<span class="line">932</span>  * @return {DwtControl}		this control
<span class="line">933</span>  *
<span class="line">934</span>  * @see DwtRectangle
<span class="line">935</span>  * @see #getBounds
<span class="line">936</span>  * @see #getInsetBounds
<span class="line">937</span>  * @see #getInsets
<span class="line">938</span>  * @see #setSize
<span class="line">939</span>  * @see #setLocation
<span class="line">940</span>  * @see #getSize
<span class="line">941</span>  * @see #getLocation
<span class="line">942</span>  * @see #getH
<span class="line">943</span>  * @see #getW
<span class="line">944</span>  * @see #getX
<span class="line">945</span>  * @see #getXW
<span class="line">946</span>  * @see #getY
<span class="line">947</span>  * @see #getYH
<span class="line">948</span>  */</span><span class="WHIT">
<span class="line">949</span> </span><span class="NAME">DwtControl.prototype.setBounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">950</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">951</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">952</span> 
<span class="line">953</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">954</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">955</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.reset</span><span class="PUNC">(</span><span class="NAME">DwtControlEvent.RESIZE</span><span class="WHIT"> </span><span class="PUNC">|</span><span class="WHIT"> </span><span class="NAME">DwtControlEvent.MOVE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">956</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getBounds</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">957</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">958</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">959</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.width</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">960</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.height</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">961</span> </span><span class="WHIT">        </span><span class="COMM">//TODO: notifyListeners() called atleast 3 times. Should minimize the calls.</span><span class="WHIT">
<span class="line">962</span> </span><span class="WHIT">		</span><span class="NAME">this.setLocation</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">963</span> </span><span class="WHIT">		</span><span class="NAME">this.setSize</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">964</span> </span><span class="WHIT">		</span><span class="NAME">bds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getBounds</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">965</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">966</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bds.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">967</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxUtil.isNumber</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">width</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">bds.width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//if it&#39;s exact number, no need to use the bounds, especially since they are not accurate, wrong in about 2 pixels at least in the case I&#39;m testing.</span><span class="WHIT">
<span class="line">968</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxUtil.isNumber</span><span class="PUNC">(</span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">height</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">bds.height</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">969</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.requestedWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">970</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.requestedHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">971</span> </span><span class="WHIT">		</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__controlEvent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">972</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">973</span> </span><span class="WHIT">		</span><span class="NAME">this.setLocation</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">974</span> </span><span class="WHIT">		</span><span class="NAME">this.setSize</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">975</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">976</span> 
<span class="line">977</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">978</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">979</span> 
<span class="line">980</span> </span><span class="COMM">/**
<span class="line">981</span>  * Gets the class name of this control. The class name may be set
<span class="line">982</span>  * when constructing the control. If it is not passed into the constructor, it
<span class="line">983</span>  * defaults to the control&#39;s class name. The class name is generally used as the
<span class="line">984</span>  * CSS class name for the control, although control&#39;s that change visual behaviour
<span class="line">985</span>  * based on state may append (or even use different) class names. See the documentation
<span class="line">986</span>  * of the specific component for details.
<span class="line">987</span>  *
<span class="line">988</span>  * @return {string}		the control class name
<span class="line">989</span>  *
<span class="line">990</span>  * @see #setClassName
<span class="line">991</span>  */</span><span class="WHIT">
<span class="line">992</span> </span><span class="NAME">DwtControl.prototype.getClassName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">993</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">994</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._className</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">995</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">996</span> 
<span class="line">997</span> </span><span class="COMM">/**
<span class="line">998</span>  * Sets the control class name. This also automatically sets the control CSS
<span class="line">999</span>  * class name (i.e. the control htmlElement class name). Subclasses of &lt;i&gt;DwtControl&lt;/i&gt;
<span class="line">1000</span>  * may override this method to perform a different behavior.
<span class="line">1001</span>  *
<span class="line">1002</span>  * @param {string} className		the new class name for the control
<span class="line">1003</span>  *
<span class="line">1004</span>  * @see #getClassName
<span class="line">1005</span>  */</span><span class="WHIT">
<span class="line">1006</span> </span><span class="NAME">DwtControl.prototype.setClassName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1007</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">className</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1008</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1009</span> 
<span class="line">1010</span> </span><span class="WHIT">	</span><span class="NAME">this._className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">className</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1011</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1012</span> </span><span class="WHIT">    </span><span class="NAME">el.className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">className</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1013</span> </span><span class="WHIT">    </span><span class="NAME">Dwt.addClass</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this._displayState</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1014</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1015</span> 
<span class="line">1016</span> </span><span class="COMM">/**
<span class="line">1017</span>  * Adds a class name to this control HTML element.
<span class="line">1018</span>  *
<span class="line">1019</span>  * @param {string} className		the class name to add
<span class="line">1020</span>  */</span><span class="WHIT">
<span class="line">1021</span> </span><span class="NAME">DwtControl.prototype.addClassName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1022</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">className</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1023</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.addClass</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">className</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1024</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1025</span> 
<span class="line">1026</span> </span><span class="COMM">/**
<span class="line">1027</span>  * Removes a class name from this control&#39;s HTML element. Optionally adds a new class name, if specified.
<span class="line">1028</span>  *
<span class="line">1029</span>  * @param {string} delClass		the class to remove
<span class="line">1030</span>  * @param {string} addClass		the class to add (may be &lt;code&gt;null&lt;/code&gt;)
<span class="line">1031</span>  */</span><span class="WHIT">
<span class="line">1032</span> </span><span class="NAME">DwtControl.prototype.delClassName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1033</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">delClass</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">addClass</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1034</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.delClass</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">delClass</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">addClass</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1035</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1036</span> 
<span class="line">1037</span> </span><span class="COMM">/**
<span class="line">1038</span>  * Conditionally adds or removes a class name to this control HTML element.
<span class="line">1039</span>  * The class names are used exclusively, that is: when condition is true,
<span class="line">1040</span>  * &lt;code&gt;classWhenTrue&lt;/code&gt; is added and &lt;code&gt;classWhenFalse&lt;/code&gt; is removed (if present and
<span class="line">1041</span>  * specified).  When condition is false, &lt;code&gt;classWhenTrue&lt;/code&gt; is removed and
<span class="line">1042</span>  * &lt;code&gt;classWhenFalse&lt;/code&gt; is added (again, if present and specified).
<span class="line">1043</span>  *
<span class="line">1044</span>  * @param {string} condition	the condition
<span class="line">1045</span>  * @param {string} classWhenTrue	the class name to add when condition is &lt;code&gt;true&lt;/code&gt;
<span class="line">1046</span>  * @param {string} classWhenFalse	the class name to add when contition is &lt;code&gt;false&lt;/code&gt; (may be &lt;code&gt;null&lt;/code&gt;)
<span class="line">1047</span>  */</span><span class="WHIT">
<span class="line">1048</span> </span><span class="NAME">DwtControl.prototype.condClassName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">condition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classWhenTrue</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classWhenFalse</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1049</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.condClass</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">condition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classWhenTrue</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classWhenFalse</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1050</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1051</span> 
<span class="line">1052</span> </span><span class="COMM">/**
<span class="line">1053</span>  * Sets the display state.
<span class="line">1054</span>  * 
<span class="line">1055</span>  * @param	{Object}		state		the state
<span class="line">1056</span>  */</span><span class="WHIT">
<span class="line">1057</span> </span><span class="NAME">DwtControl.prototype.setDisplayState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1058</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">state</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1059</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._enabled</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1060</span> </span><span class="WHIT">		</span><span class="NAME">state</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.DISABLED</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1061</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1062</span> 
<span class="line">1063</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">arguments.length</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1064</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1065</span> </span><span class="WHIT">        </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">arguments.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1066</span> </span><span class="WHIT">            </span><span class="NAME">a.push</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1067</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1068</span> </span><span class="WHIT">        </span><span class="NAME">state</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">a.join</span><span class="PUNC">(</span><span class="STRN">&#34; &#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1069</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1070</span> 
<span class="line">1071</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._displayState</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">state</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1072</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1073</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1074</span> 
<span class="line">1075</span> </span><span class="WHIT">    </span><span class="NAME">this._displayState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">state</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1076</span> </span><span class="WHIT">    </span><span class="NAME">Dwt.delClass</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl._RE_STATES</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">state</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1077</span> 
<span class="line">1078</span> </span><span class="WHIT">    </span><span class="NAME">AjxUtil.foreach</span><span class="PUNC">(</span><span class="NAME">DwtControl._ARIA_STATES</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">attribute</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">state</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1079</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtControl._RE_STATE</span><span class="PUNC">[</span><span class="NAME">state</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">test</span><span class="PUNC">(</span><span class="NAME">this._displayState</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1080</span> </span><span class="WHIT">            </span><span class="NAME">this.setAttribute</span><span class="PUNC">(</span><span class="NAME">attribute</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1081</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1082</span> </span><span class="WHIT">            </span><span class="NAME">this.removeAttribute</span><span class="PUNC">(</span><span class="NAME">attribute</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1083</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1084</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">bind</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1085</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1086</span> 
<span class="line">1087</span> </span><span class="COMM">/**
<span class="line">1088</span> * Shows an alert in the control. For example, to indicate that a new message has arrived.
<span class="line">1089</span> *
<span class="line">1090</span> * @param	{string}	alert		the alert
<span class="line">1091</span> */</span><span class="WHIT">
<span class="line">1092</span> </span><span class="NAME">DwtControl.prototype.showAlert</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1093</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">alert</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1094</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">alert</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this._alert</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1095</span> </span><span class="WHIT">		</span><span class="NAME">this.delClassName</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;ZAlert&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1096</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">alert</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">this._alert</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1097</span> </span><span class="WHIT">		</span><span class="NAME">this.delClassName</span><span class="PUNC">(</span><span class="STRN">&#34;ZAlert&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1098</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1099</span> </span><span class="WHIT">	</span><span class="NAME">this._alert</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">alert</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1100</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1101</span> 
<span class="line">1102</span> </span><span class="COMM">/**
<span class="line">1103</span> * Checks if the control is showing an alert.
<span class="line">1104</span> * 
<span class="line">1105</span> * @return	{boolean}	&lt;code&gt;true&lt;/code&gt; if showing an altert; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">1106</span> */</span><span class="WHIT">
<span class="line">1107</span> </span><span class="NAME">DwtControl.prototype.isAlertShown</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1108</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1109</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._alert</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1110</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1111</span> 
<span class="line">1112</span> </span><span class="COMM">/**
<span class="line">1113</span>  * @private
<span class="line">1114</span>  */</span><span class="WHIT">
<span class="line">1115</span> </span><span class="NAME">DwtControl.prototype._createHtmlFromTemplate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1116</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">templateId</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1117</span> </span><span class="WHIT">    </span><span class="COMM">// set html content</span><span class="WHIT">
<span class="line">1118</span> </span><span class="WHIT">    </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTemplate.expand</span><span class="PUNC">(</span><span class="NAME">templateId</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1119</span> 
<span class="line">1120</span> </span><span class="WHIT">    </span><span class="COMM">// set container class name, if needed</span><span class="WHIT">
<span class="line">1121</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">params</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTemplate.getParams</span><span class="PUNC">(</span><span class="NAME">templateId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1122</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">[</span><span class="STRN">&#34;class&#34;</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1123</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">className</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1124</span> </span><span class="WHIT">        </span><span class="NAME">className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">this._className</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">className</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">join</span><span class="PUNC">(</span><span class="STRN">&#34; &#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1125</span> </span><span class="WHIT">        </span><span class="NAME">this.setClassName</span><span class="PUNC">(</span><span class="NAME">className</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1126</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1127</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1128</span> 
<span class="line">1129</span> </span><span class="COMM">/**
<span class="line">1130</span>  * Gets the control cursor.
<span class="line">1131</span>  * 
<span class="line">1132</span>  * @return {string}		the control cursor
<span class="line">1133</span>  *
<span class="line">1134</span>  * @see #setCursor
<span class="line">1135</span>  */</span><span class="WHIT">
<span class="line">1136</span> </span><span class="NAME">DwtControl.prototype.getCursor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1137</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1138</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1139</span> 
<span class="line">1140</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getCursor</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1141</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1142</span> 
<span class="line">1143</span> </span><span class="COMM">/**
<span class="line">1144</span>  * Sets the control cursor.
<span class="line">1145</span>  *
<span class="line">1146</span>  * @param {string} cursorName		the name of the new cursor
<span class="line">1147</span>  *
<span class="line">1148</span>  * @see #getCursor
<span class="line">1149</span>  */</span><span class="WHIT">
<span class="line">1150</span> </span><span class="NAME">DwtControl.prototype.setCursor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1151</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">cursorName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1152</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1153</span> 
<span class="line">1154</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setCursor</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">cursorName</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1155</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1156</span> 
<span class="line">1157</span> </span><span class="COMM">/**
<span class="line">1158</span>  * Gets the control drag source.
<span class="line">1159</span>  * 
<span class="line">1160</span>  * @return {DwtDragSource}		the control drag source or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1161</span>  *
<span class="line">1162</span>  * @see #setDragSource
<span class="line">1163</span>  */</span><span class="WHIT">
<span class="line">1164</span> </span><span class="NAME">DwtControl.prototype.getDragSource</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1165</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1166</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._dragSource</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1167</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1168</span> 
<span class="line">1169</span> </span><span class="COMM">/**
<span class="line">1170</span>  * Set the control drag source. The drag source binds the drag-and-drop system with
<span class="line">1171</span>  * an application. Setting a control drag source makes the control &#34;draggable&#34;.
<span class="line">1172</span>  *
<span class="line">1173</span>  * @param {DwtDragSource} dragSource		the control drag source
<span class="line">1174</span>  *
<span class="line">1175</span>  * @see #getDragSource
<span class="line">1176</span>  */</span><span class="WHIT">
<span class="line">1177</span> </span><span class="NAME">DwtControl.prototype.setDragSource</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1178</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dragSource</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1179</span> </span><span class="WHIT">	</span><span class="NAME">this._dragSource</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dragSource</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1180</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">dragSource</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this._ctrlCaptureObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1181</span> </span><span class="WHIT">		</span><span class="NAME">this.__initCapture</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1182</span> </span><span class="WHIT">		</span><span class="NAME">this._dndHoverAction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__dndDoHover</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1183</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1184</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1185</span> 
<span class="line">1186</span> </span><span class="COMM">/**
<span class="line">1187</span>  * Gets the control drop target.
<span class="line">1188</span>  * 
<span class="line">1189</span>  * @return	{DwtDropTarget}		the control drop target or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1190</span>  *
<span class="line">1191</span>  * @see #setDropTarget
<span class="line">1192</span>  */</span><span class="WHIT">
<span class="line">1193</span> </span><span class="NAME">DwtControl.prototype.getDropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1194</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1195</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._dropTarget</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1196</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1197</span> 
<span class="line">1198</span> </span><span class="COMM">/**
<span class="line">1199</span>  * Sets the drop target for the control. The drop target binds the drag-and-drop system with
<span class="line">1200</span>  * an application. Setting a control drop target makes the control a potential drop
<span class="line">1201</span>  * target within an application.
<span class="line">1202</span>  *
<span class="line">1203</span>  * @param {DwtDropTarget} dropTarget		the control drop target
<span class="line">1204</span>  *
<span class="line">1205</span>  * @see #getDropTarget
<span class="line">1206</span>  */</span><span class="WHIT">
<span class="line">1207</span> </span><span class="NAME">DwtControl.prototype.setDropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1208</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dropTarget</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1209</span> </span><span class="WHIT">	</span><span class="NAME">this._dropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1210</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1211</span> 
<span class="line">1212</span> </span><span class="COMM">/**
<span class="line">1213</span>  * Gets the control drag box.
<span class="line">1214</span>  *
<span class="line">1215</span>  * @return {DwtDragBox}		the control drag box or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1216</span>  *
<span class="line">1217</span>  * @see #setDragBox
<span class="line">1218</span>  */</span><span class="WHIT">
<span class="line">1219</span> </span><span class="NAME">DwtControl.prototype.getDragBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1220</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1221</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._dragBox</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1222</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1223</span> 
<span class="line">1224</span> </span><span class="COMM">/**
<span class="line">1225</span>  * Set the control drag box. The drag box handles the display of a dotted rectangle
<span class="line">1226</span>  * that is typically used to select items.
<span class="line">1227</span>  *
<span class="line">1228</span>  * @param {DwtDragBox} dragBox		the control drag box
<span class="line">1229</span>  *
<span class="line">1230</span>  * @see #getDragBox
<span class="line">1231</span>  */</span><span class="WHIT">
<span class="line">1232</span> </span><span class="NAME">DwtControl.prototype.setDragBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1233</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1234</span> </span><span class="WHIT">	</span><span class="NAME">this._dragBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dragBox</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1235</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">dragBox</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this._ctrlCaptureObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1236</span> </span><span class="WHIT">		</span><span class="NAME">this.__initCapture</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1237</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1238</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1239</span> 
<span class="line">1240</span> </span><span class="NAME">DwtControl.prototype.__initCapture</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1241</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1242</span> </span><span class="WHIT">	</span><span class="NAME">this._ctrlCaptureObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DwtMouseEventCapture</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1243</span> </span><span class="WHIT">		</span><span class="NAME">targetObj</span><span class="PUNC">:</span><span class="WHIT">		</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1244</span> </span><span class="WHIT">		</span><span class="NAME">id</span><span class="PUNC">:</span><span class="WHIT">				</span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1245</span> </span><span class="WHIT">		</span><span class="NAME">mouseOverHdlr</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseOverHdlr</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1246</span> </span><span class="WHIT">		</span><span class="NAME">mouseDownHdlr</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseDownHdlr</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1247</span> </span><span class="WHIT">		</span><span class="NAME">mouseMoveHdlr</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseMoveHdlr</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1248</span> </span><span class="WHIT">		</span><span class="NAME">mouseUpHdlr</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseUpHdlr</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">1249</span> </span><span class="WHIT">		</span><span class="NAME">mouseOutHdlr</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseOutHdlr</span><span class="WHIT">
<span class="line">1250</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1251</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1252</span> 
<span class="line">1253</span> </span><span class="COMM">/**
<span class="line">1254</span>  * Gets the enabled state.
<span class="line">1255</span>  * 
<span class="line">1256</span>  * @return {boolean}		&lt;code&gt;true&lt;/code&gt; if the control is enabled; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">1257</span>  *
<span class="line">1258</span>  * @see #setEnabled
<span class="line">1259</span>  */</span><span class="WHIT">
<span class="line">1260</span> </span><span class="NAME">DwtControl.prototype.getEnabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1261</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1262</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1263</span> 
<span class="line">1264</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._enabled</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1265</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1266</span> 
<span class="line">1267</span> </span><span class="COMM">/**
<span class="line">1268</span>  * Sets the control enabled state. If &lt;code&gt;setHtmlElement&lt;/code&gt; is true, then
<span class="line">1269</span>  * this method will also set the control HTML element disabled attribute.
<span class="line">1270</span>  *
<span class="line">1271</span>  * @param {boolean} enabled		&lt;code&gt;true&lt;/code&gt; if the control is enabled
<span class="line">1272</span>  * @param {boolean} setHtmlElement	&lt;code&gt;true&lt;/code&gt; to set the control HTML element disabled attribute
<span class="line">1273</span>  */</span><span class="WHIT">
<span class="line">1274</span> </span><span class="NAME">DwtControl.prototype.setEnabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1275</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">enabled</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">setHtmlElement</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1276</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1277</span> 
<span class="line">1278</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">enabled</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">this._enabled</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1279</span> </span><span class="WHIT">		</span><span class="NAME">this._enabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">enabled</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1280</span> </span><span class="WHIT">        </span><span class="NAME">this.setDisplayState</span><span class="PUNC">(</span><span class="NAME">enabled</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">DwtControl.NORMAL</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.DISABLED</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1281</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">setHtmlElement</span><span class="PUNC">)</span><span class="WHIT">
<span class="line">1282</span> </span><span class="WHIT">			</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">disabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">enabled</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1283</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1284</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1285</span> 
<span class="line">1286</span> </span><span class="COMM">/**
<span class="line">1287</span>  * Gets the ID of the control containing HTML element.
<span class="line">1288</span>  *
<span class="line">1289</span>  * @return {string} 	the ID of the control containing HTML element
<span class="line">1290</span>  */</span><span class="WHIT">
<span class="line">1291</span> </span><span class="NAME">DwtControl.prototype.getHTMLElId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1292</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1293</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1294</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1295</span> 
<span class="line">1296</span> </span><span class="COMM">/**
<span class="line">1297</span>  * Gets the control containing HTML element. By default this is a &lt;code&gt;div&lt;/code&gt; element
<span class="line">1298</span>  *
<span class="line">1299</span>  * @return {HTMLElement}		the control containing HTML element
<span class="line">1300</span>  */</span><span class="WHIT">
<span class="line">1301</span> </span><span class="NAME">DwtControl.prototype.getHtmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1302</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1303</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1304</span> 
<span class="line">1305</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._elRef</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">this._htmlElId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1306</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1307</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1308</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">htmlEl._rendered</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1309</span> </span><span class="WHIT">		</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1310</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl._rendered</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1311</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1312</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._elRef</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1313</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1314</span> 
<span class="line">1315</span> </span><span class="NAME">DwtControl.prototype.getInputElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1316</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1317</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isFocusable</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1318</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1319</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1320</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1321</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1322</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1323</span> 
<span class="line">1324</span> </span><span class="COMM">/**
<span class="line">1325</span>  * Returns the control associated with the given element, if any.
<span class="line">1326</span>  * 
<span class="line">1327</span>  * @param {Element}		htmlEl	an HTML element
<span class="line">1328</span>  * @return	{DwtControl}		the control element or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1329</span>  */</span><span class="WHIT">
<span class="line">1330</span> </span><span class="NAME">DwtControl.fromElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1331</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1332</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">htmlEl.id</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1333</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1334</span> 
<span class="line">1335</span> </span><span class="COMM">/**
<span class="line">1336</span>  * Returns the control associated with the given element ID, if any.
<span class="line">1337</span>  * 
<span class="line">1338</span>  * @param {string}		htmlElId	an HTML element Id
<span class="line">1339</span>  * @return	{DwtControl}		the control element or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1340</span>  */</span><span class="WHIT">
<span class="line">1341</span> </span><span class="NAME">DwtControl.fromElementId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1342</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">htmlElId</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1343</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1344</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1345</span> 
<span class="line">1346</span> </span><span class="COMM">/**
<span class="line">1347</span>  * Finds a control and starts the search at the given element and works
<span class="line">1348</span>  * up the element chain until it finds one with an ID that maps to a {@link DwtControl}.
<span class="line">1349</span>  * 
<span class="line">1350</span>  * @param {Element}		htmlEl	an HTML element
<span class="line">1351</span>  * @return	{DwtControl}	the control or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1352</span>  */</span><span class="WHIT">
<span class="line">1353</span> </span><span class="NAME">DwtControl.findControl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1354</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1355</span> 
<span class="line">1356</span> </span><span class="WHIT">	</span><span class="COMM">// FF 3.5 throws protection error if we dereference a chrome element, so bail</span><span class="WHIT">
<span class="line">1357</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxEnv.isFirefox3_5up</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">AjxEnv.isFirefox3_6up</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1358</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">s</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">HTMLElement.prototype.toString.call</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1359</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">s</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#39;[xpconnect wrapped native prototype]&#39;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">s</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#39;[object XULElement]&#39;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1360</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1361</span> 
<span class="line">1362</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1363</span> </span><span class="WHIT">		</span><span class="KEYW">while</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1364</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">htmlEl.id</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">htmlEl.id</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1365</span> </span><span class="WHIT">				</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">htmlEl.id</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1366</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1367</span> </span><span class="WHIT">			</span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlEl.parentNode</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1368</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1369</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1370</span> </span><span class="WHIT">		</span><span class="COMM">//In some FF, we might get permission denied error. Ignore it.</span><span class="WHIT">
<span class="line">1371</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1372</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1373</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1374</span> 
<span class="line">1375</span> </span><span class="COMM">/**
<span class="line">1376</span>  * Returns the control associated with the given event. Starts with the
<span class="line">1377</span>  * event target and works its way up the element chain until it finds one
<span class="line">1378</span>  * with an ID that maps to a {@link DwtControl}.
<span class="line">1379</span>  * 
<span class="line">1380</span>  * @param {Event}		ev				the DHTML event
<span class="line">1381</span>  * @param {boolean}		useRelatedTarget	if &lt;code&gt;true&lt;/code&gt;, use element that was related to this event
<span class="line">1382</span>  * @return {DwtControl}	the control or &lt;code&gt;null&lt;/code&gt; for none
<span class="line">1383</span>  */</span><span class="WHIT">
<span class="line">1384</span> </span><span class="NAME">DwtControl.getTargetControl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1385</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">useRelatedTarget</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1386</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtUiEvent.getTarget</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">useRelatedTarget</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1387</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">DwtControl.findControl</span><span class="PUNC">(</span><span class="NAME">htmlEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1388</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1389</span> 
<span class="line">1390</span> </span><span class="COMM">/**
<span class="line">1391</span>  * Sets the control HTML element id attribute.
<span class="line">1392</span>  *
<span class="line">1393</span>  * @param {string} id 		the new element Id
<span class="line">1394</span>  */</span><span class="WHIT">
<span class="line">1395</span> </span><span class="NAME">DwtControl.prototype.setHtmlElementId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1396</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1397</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1398</span> 
<span class="line">1399</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.__ctrlInited</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1400</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1401</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">htmlEl._rendered</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1402</span> </span><span class="WHIT">			</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1403</span> </span><span class="WHIT">			</span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">id</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlEl</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1404</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1405</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1406</span> </span><span class="WHIT">			</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1407</span> </span><span class="WHIT">			</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">id</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1408</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1409</span> </span><span class="WHIT">		</span><span class="NAME">htmlEl.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">id</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1410</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1411</span> </span><span class="WHIT">	</span><span class="NAME">this._htmlElId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">id</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1412</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1413</span> 
<span class="line">1414</span> </span><span class="COMM">/**
<span class="line">1415</span>  * Gets the X coordinate of the control (if absolutely positioned).
<span class="line">1416</span>  * 
<span class="line">1417</span>  * @return {number}		the X coordinate of the control 
<span class="line">1418</span>  *
<span class="line">1419</span>  * @see #getBounds
<span class="line">1420</span>  * @see #getInsetBounds
<span class="line">1421</span>  * @see #getInsets
<span class="line">1422</span>  * @see #getSize
<span class="line">1423</span>  * @see #getLocation
<span class="line">1424</span>  * @see #getH
<span class="line">1425</span>  * @see #getW
<span class="line">1426</span>  * @see #getXW
<span class="line">1427</span>  * @see #getY
<span class="line">1428</span>  * @see #getYH
<span class="line">1429</span>  * @see #setBounds
<span class="line">1430</span>  * @see #setSize
<span class="line">1431</span>  * @see #setLocation
<span class="line">1432</span>  */</span><span class="WHIT">
<span class="line">1433</span> </span><span class="NAME">DwtControl.prototype.getX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1434</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1435</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1436</span> 
<span class="line">1437</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getLocation</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1438</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1439</span> 
<span class="line">1440</span> </span><span class="COMM">/**
<span class="line">1441</span>  * Gets the horizontal extent of the control (if absolutely positioned).
<span class="line">1442</span>  * 
<span class="line">1443</span>  * @return {number} 	the horizontal extent of the control
<span class="line">1444</span>  *
<span class="line">1445</span>  * @see #getBounds
<span class="line">1446</span>  * @see #getInsetBounds
<span class="line">1447</span>  * @see #getInsets
<span class="line">1448</span>  * @see #getSize
<span class="line">1449</span>  * @see #getLocation
<span class="line">1450</span>  * @see #getH
<span class="line">1451</span>  * @see #getW
<span class="line">1452</span>  * @see #getX
<span class="line">1453</span>  * @see #getY
<span class="line">1454</span>  * @see #getYH
<span class="line">1455</span>  * @see #setBounds
<span class="line">1456</span>  * @see #setSize
<span class="line">1457</span>  * @see #setLocation
<span class="line">1458</span>  */</span><span class="WHIT">
<span class="line">1459</span> </span><span class="NAME">DwtControl.prototype.getXW</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1460</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1461</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1462</span> 
<span class="line">1463</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getBounds</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1464</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bounds.x</span><span class="PUNC">+</span><span class="NAME">bounds.width</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1465</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1466</span> 
<span class="line">1467</span> </span><span class="COMM">/**
<span class="line">1468</span>  * Gets the Y coordinate of the control (if it is absolutely positioned).
<span class="line">1469</span>  * 
<span class="line">1470</span>  * @return {number}		the Y coordinate of the control 
<span class="line">1471</span>  *
<span class="line">1472</span>  * @see #getBounds
<span class="line">1473</span>  * @see #getInsetBounds
<span class="line">1474</span>  * @see #getInsets
<span class="line">1475</span>  * @see #getSize
<span class="line">1476</span>  * @see #getLocation
<span class="line">1477</span>  * @see #getH
<span class="line">1478</span>  * @see #getW
<span class="line">1479</span>  * @see #getX
<span class="line">1480</span>  * @see #getXW
<span class="line">1481</span>  * @see #getYH
<span class="line">1482</span>  * @see #setBounds
<span class="line">1483</span>  * @see #setSize
<span class="line">1484</span>  * @see #setLocation
<span class="line">1485</span>  */</span><span class="WHIT">
<span class="line">1486</span> </span><span class="NAME">DwtControl.prototype.getY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1487</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1488</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1489</span> 
<span class="line">1490</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getLocation</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1491</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1492</span> 
<span class="line">1493</span> </span><span class="COMM">/**
<span class="line">1494</span>  * Gets the vertical extent of the control (if it is absolutely positioned).
<span class="line">1495</span>  * 
<span class="line">1496</span>  * @return {number}		the vertical extent of the control
<span class="line">1497</span>  *
<span class="line">1498</span>  * @see #getBounds
<span class="line">1499</span>  * @see #getInsetBounds
<span class="line">1500</span>  * @see #getInsets
<span class="line">1501</span>  * @see #getSize
<span class="line">1502</span>  * @see #getLocation
<span class="line">1503</span>  * @see #getH
<span class="line">1504</span>  * @see #getW
<span class="line">1505</span>  * @see #getX
<span class="line">1506</span>  * @see #getXW
<span class="line">1507</span>  * @see #getY
<span class="line">1508</span>  * @see #setBounds
<span class="line">1509</span>  * @see #setSize
<span class="line">1510</span>  * @see #setLocation
<span class="line">1511</span>  */</span><span class="WHIT">
<span class="line">1512</span> </span><span class="NAME">DwtControl.prototype.getYH</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1513</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1514</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1515</span> 
<span class="line">1516</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getBounds</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1517</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bounds.y</span><span class="PUNC">+</span><span class="NAME">bounds.height</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1518</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1519</span> 
<span class="line">1520</span> </span><span class="COMM">/**
<span class="line">1521</span>  * Returns the positioning style
<span class="line">1522</span>  */</span><span class="WHIT">
<span class="line">1523</span> </span><span class="NAME">DwtControl.prototype.getPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1524</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1525</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1526</span> 
<span class="line">1527</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getPosition</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1528</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1529</span> 
<span class="line">1530</span> </span><span class="COMM">/**
<span class="line">1531</span>  * Sets the positioning style
<span class="line">1532</span>  * 
<span class="line">1533</span>  * @param 	{constant}	posStyle	positioning style (Dwt.*_STYLE)
<span class="line">1534</span>  */</span><span class="WHIT">
<span class="line">1535</span> </span><span class="NAME">DwtControl.prototype.setPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1536</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">posStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1537</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1538</span> 
<span class="line">1539</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.setPosition</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">posStyle</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1540</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1541</span> 
<span class="line">1542</span> </span><span class="COMM">/**
<span class="line">1543</span>  * Gets the location of the control.
<span class="line">1544</span>  *
<span class="line">1545</span>  * @return {DwtPoint}		the location of the control
<span class="line">1546</span>  *
<span class="line">1547</span>  * @see #getBounds
<span class="line">1548</span>  * @see #getInsetBounds
<span class="line">1549</span>  * @see #getInsets
<span class="line">1550</span>  * @see #getSize
<span class="line">1551</span>  * @see #setLocation
<span class="line">1552</span>  * @see #getH
<span class="line">1553</span>  * @see #getW
<span class="line">1554</span>  * @see #getX
<span class="line">1555</span>  * @see #getXW
<span class="line">1556</span>  * @see #getY
<span class="line">1557</span>  * @see #setBounds
<span class="line">1558</span>  * @see #setSize
<span class="line">1559</span>  * @see Dwt
<span class="line">1560</span>  */</span><span class="WHIT">
<span class="line">1561</span> </span><span class="NAME">DwtControl.prototype.getLocation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1562</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1563</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1564</span> 
<span class="line">1565</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getLocation</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1566</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1567</span> 
<span class="line">1568</span> </span><span class="COMM">/**
<span class="line">1569</span>  * Sets the location of the control. The position style of the control must
<span class="line">1570</span>  * be absolute or else an exception is thrown. To only set one of the coordinates,
<span class="line">1571</span>  * pass in a value of &lt;i&gt;Dwt.DEFAULT&lt;/i&gt; for the coordinate for which the value is
<span class="line">1572</span>  * not to be set. Any &lt;i&gt;DwtEvent.CONTROL&lt;/i&gt; listeners registered on the control
<span class="line">1573</span>  * will be called.
<span class="line">1574</span>  *
<span class="line">1575</span>  * @param {number|string} x	the x coordinate of the element (for example: 10, &#34;10px&#34;, Dwt.DEFAULT)
<span class="line">1576</span>  * @param {number|string} y	the y coordinate of the element (for example: 10, &#34;10px&#34;, Dwt.DEFAULT)
<span class="line">1577</span>  *
<span class="line">1578</span>  * @return {DwtControl}		this control
<span class="line">1579</span>  *
<span class="line">1580</span>  * @see #getBounds
<span class="line">1581</span>  * @see #getInsetBounds
<span class="line">1582</span>  * @see #getInsets
<span class="line">1583</span>  * @see #getSize
<span class="line">1584</span>  * @see #getLocation
<span class="line">1585</span>  * @see #getH
<span class="line">1586</span>  * @see #getW
<span class="line">1587</span>  * @see #getX
<span class="line">1588</span>  * @see #getXW
<span class="line">1589</span>  * @see #getY
<span class="line">1590</span>  * @see #setBounds
<span class="line">1591</span>  * @see #setSize
<span class="line">1592</span>  * @see Dwt
<span class="line">1593</span>  */</span><span class="WHIT">
<span class="line">1594</span> </span><span class="NAME">DwtControl.prototype.setLocation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1595</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1596</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1597</span> 
<span class="line">1598</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1599</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1600</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.reset</span><span class="PUNC">(</span><span class="NAME">DwtControlEvent.MOVE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1601</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loc</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getLocation</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1602</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1603</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1604</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setLocation</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1605</span> </span><span class="WHIT">		</span><span class="NAME">loc</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getLocation</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1606</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1607</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1608</span> </span><span class="WHIT">		</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__controlEvent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1609</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1610</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setLocation</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1611</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1612</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1613</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1614</span> 
<span class="line">1615</span> </span><span class="COMM">/**
<span class="line">1616</span>  * Gets the control scroll style. The scroll style determines the control
<span class="line">1617</span>  * behavior when content overflows its div&#39;s boundaries. Possible values are:
<span class="line">1618</span>  * &lt;ul&gt;
<span class="line">1619</span>  * &lt;li&gt;{@link Dwt.CLIP} - Clip on overflow&lt;/li&gt;
<span class="line">1620</span>  * &lt;li&gt;{@link Dwt.VISIBLE} - Allow overflow to be visible&lt;/li&gt;
<span class="line">1621</span>  * &lt;li&gt;{@link Dwt.SCROLL} - Automatically create scrollbars if content overflows&lt;/li&gt;
<span class="line">1622</span>  * &lt;li&gt;{@link Dwt.FIXED_SCROLL} - Always have scrollbars whether content overflows or not&lt;/li&gt;
<span class="line">1623</span>  * &lt;/ul&gt;
<span class="line">1624</span>  *
<span class="line">1625</span>  * @return {number}		the control scroll style
<span class="line">1626</span>  */</span><span class="WHIT">
<span class="line">1627</span> </span><span class="NAME">DwtControl.prototype.getScrollStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1628</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1629</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1630</span> 
<span class="line">1631</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getScrollStyle</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1632</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1633</span> 
<span class="line">1634</span> </span><span class="COMM">/**
<span class="line">1635</span>  * Sets the control scroll style. The scroll style determines the control&#39;s
<span class="line">1636</span>  * behavior when content overflows its div&#39;s boundaries. Possible values are:
<span class="line">1637</span>  * &lt;ul&gt;
<span class="line">1638</span>  * &lt;li&gt;{@link Dwt.CLIP} - Clip on overflow&lt;/li&gt;
<span class="line">1639</span>  * &lt;li&gt;{@link Dwt.VISIBLE} - Allow overflow to be visible&lt;/li&gt;
<span class="line">1640</span>  * &lt;li&gt;{@link Dwt.SCROLL} - Automatically create scrollbars if content overflows&lt;/li&gt;
<span class="line">1641</span>  * &lt;li&gt;{@link Dwt.FIXED_SCROLL} - Always have scrollbars whether content overflows or not&lt;/li&gt;
<span class="line">1642</span>  * &lt;/ul&gt;
<span class="line">1643</span>  *
<span class="line">1644</span>  * @param {int} scrollStyle		the control new scroll style
<span class="line">1645</span>  */</span><span class="WHIT">
<span class="line">1646</span> </span><span class="NAME">DwtControl.prototype.setScrollStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1647</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scrollStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1648</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1649</span> 
<span class="line">1650</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setScrollStyle</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scrollStyle</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1651</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1652</span> 
<span class="line">1653</span> </span><span class="COMM">/**
<span class="line">1654</span>  * Sets the control position. The position determines the control&#39;s
<span class="line">1655</span>  * location within the context of which it was created. Possible values are:
<span class="line">1656</span>  * &lt;ul&gt;
<span class="line">1657</span>  * &lt;li&gt;{@link DwtControl.STATIC_STYLE} - Allow browser to control content flow&lt;/li&gt;
<span class="line">1658</span>  * &lt;li&gt;{@link DwtControl.ABSOLUTE_STYLE} - Allow content to be positioned relative to parent or body&lt;/li&gt;
<span class="line">1659</span>  * &lt;li&gt;{@link DwtControl.RELATIVE_STYLE} - Allow browser to control content flow but relative to parent&lt;/li&gt;
<span class="line">1660</span>  * &lt;/ul&gt;
<span class="line">1661</span>  *
<span class="line">1662</span>  * @param {number} position		the control new position
<span class="line">1663</span>  */</span><span class="WHIT">
<span class="line">1664</span> </span><span class="NAME">DwtControl.prototype.setPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1665</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">position</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1666</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1667</span> 
<span class="line">1668</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">position</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtControl.STATIC_STYLE</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">
<span class="line">1669</span> </span><span class="WHIT">		</span><span class="NAME">position</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtControl.ABSOLUTE_STYLE</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">
<span class="line">1670</span> </span><span class="WHIT">		</span><span class="NAME">position</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtControl.RELATIVE_STYLE</span><span class="PUNC">)</span><span class="WHIT">
<span class="line">1671</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1672</span> </span><span class="WHIT">		</span><span class="NAME">this.__posStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">position</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1673</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setPosition</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">position</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1674</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1675</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1676</span> 
<span class="line">1677</span> </span><span class="COMM">/**
<span class="line">1678</span>  * Gets the width of the control.
<span class="line">1679</span>  * 
<span class="line">1680</span>  * @return	{number}		the width of the control
<span class="line">1681</span>  *
<span class="line">1682</span>  * @see #getBounds
<span class="line">1683</span>  * @see #getInsetBounds
<span class="line">1684</span>  * @see #getInsets
<span class="line">1685</span>  * @see #getSize
<span class="line">1686</span>  * @see #getLocation
<span class="line">1687</span>  * @see #getH
<span class="line">1688</span>  * @see #getX
<span class="line">1689</span>  * @see #getXW
<span class="line">1690</span>  * @see #getY
<span class="line">1691</span>  * @see #getYH
<span class="line">1692</span>  * @see #setBounds
<span class="line">1693</span>  * @see #setSize
<span class="line">1694</span>  * @see #setLocation
<span class="line">1695</span>  */</span><span class="WHIT">
<span class="line">1696</span> </span><span class="NAME">DwtControl.prototype.getW</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1697</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1698</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1699</span> 
<span class="line">1700</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1701</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1702</span> 
<span class="line">1703</span> </span><span class="COMM">/**
<span class="line">1704</span>  * Gets the height of the control.
<span class="line">1705</span>  * 
<span class="line">1706</span>  * @return {number}	the height of the control
<span class="line">1707</span>  *
<span class="line">1708</span>  * @see #getBounds
<span class="line">1709</span>  * @see #getInsetBounds
<span class="line">1710</span>  * @see #getInsets
<span class="line">1711</span>  * @see #getSize
<span class="line">1712</span>  * @see #getLocation
<span class="line">1713</span>  * @see #getW
<span class="line">1714</span>  * @see #getX
<span class="line">1715</span>  * @see #getXW
<span class="line">1716</span>  * @see #getY
<span class="line">1717</span>  * @see #getYH
<span class="line">1718</span>  * @see #setBounds
<span class="line">1719</span>  * @see #setLocation
<span class="line">1720</span>  * @see #setSize
<span class="line">1721</span>  */</span><span class="WHIT">
<span class="line">1722</span> </span><span class="NAME">DwtControl.prototype.getH</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1723</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1724</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1725</span> 
<span class="line">1726</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1727</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1728</span> 
<span class="line">1729</span> </span><span class="COMM">/**
<span class="line">1730</span>  * Gets the size of the control. The x value of the returned point is the width
<span class="line">1731</span>  * and the y is the height.
<span class="line">1732</span>  * 
<span class="line">1733</span>  * @return {DwtPoint}		the control size
<span class="line">1734</span>  *
<span class="line">1735</span>  * @see #getBounds
<span class="line">1736</span>  * @see #getInsetBounds
<span class="line">1737</span>  * @see #getInsets
<span class="line">1738</span>  * @see #getLocation
<span class="line">1739</span>  * @see #getH
<span class="line">1740</span>  * @see #getW
<span class="line">1741</span>  * @see #getX
<span class="line">1742</span>  * @see #getXW
<span class="line">1743</span>  * @see #getY
<span class="line">1744</span>  * @see #getYH
<span class="line">1745</span>  * @see #setBounds
<span class="line">1746</span>  * @see #setSize
<span class="line">1747</span>  * @see #setLocation
<span class="line">1748</span>  */</span><span class="WHIT">
<span class="line">1749</span> </span><span class="NAME">DwtControl.prototype.getSize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1750</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">getFromStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1751</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1752</span> 
<span class="line">1753</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">getFromStyle</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1754</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1755</span> 
<span class="line">1756</span> </span><span class="COMM">/**
<span class="line">1757</span>  * Sets the size of the control
<span class="line">1758</span>  *
<span class="line">1759</span>  * @param {number|string} width	the width of the control (for example: 100, &#34;100px&#34;, &#34;75%&#34;, Dwt.DEFAULT)
<span class="line">1760</span>  * @param {number|string} height	the height of the control (for example: 100, &#34;100px&#34;, &#34;75%&#34;, Dwt.DEFAULT)
<span class="line">1761</span>  *
<span class="line">1762</span>  * @return {DwtControl}	this control
<span class="line">1763</span>  *
<span class="line">1764</span>  * @see #getBounds
<span class="line">1765</span>  * @see #getInsetBounds
<span class="line">1766</span>  * @see #getInsets
<span class="line">1767</span>  * @see #getSize
<span class="line">1768</span>  * @see #setLocation
<span class="line">1769</span>  * @see #getH
<span class="line">1770</span>  * @see #getW
<span class="line">1771</span>  * @see #getX
<span class="line">1772</span>  * @see #getXW
<span class="line">1773</span>  * @see #getY
<span class="line">1774</span>  * @see #getYH
<span class="line">1775</span>  * @see #setBounds
<span class="line">1776</span>  */</span><span class="WHIT">
<span class="line">1777</span> </span><span class="NAME">DwtControl.prototype.setSize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1778</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1779</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1780</span> 
<span class="line">1781</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1782</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1783</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.reset</span><span class="PUNC">(</span><span class="NAME">DwtControlEvent.RESIZE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1784</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1785</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sz.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1786</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.oldHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sz.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1787</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setSize</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1788</span> </span><span class="WHIT">		</span><span class="NAME">sz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1789</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sz.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1790</span> </span><span class="WHIT">		</span><span class="NAME">this.__controlEvent.newHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sz.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1791</span> </span><span class="WHIT">		</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.CONTROL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__controlEvent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1792</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1793</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setSize</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1794</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1795</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1796</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1797</span> 
<span class="line">1798</span> </span><span class="COMM">/**
<span class="line">1799</span>  * Gets the tooltip content (typically set using {@link #setToolTipContent}). Controls
<span class="line">1800</span>  * that want to return dynamic tooltip content should override this method.
<span class="line">1801</span>  *
<span class="line">1802</span>  * @param {DwtEvent}	ev	the mouseover event
<span class="line">1803</span>  * @return {string}		the tooltip content set for the control
<span class="line">1804</span>  */</span><span class="WHIT">
<span class="line">1805</span> </span><span class="NAME">DwtControl.prototype.getToolTipContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1806</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1807</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1808</span> 
<span class="line">1809</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.__toolTipContent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1810</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1811</span> 
<span class="line">1812</span> </span><span class="COMM">/**
<span class="line">1813</span>  * Sets tooltip content for the control. The toolTip passed in may be plain text,
<span class="line">1814</span>  * HTML or an object containing a callback function.
<span class="line">1815</span>  * If DwtControl.useBrowserTooltips is set to true, and the tooltip does not have
<span class="line">1816</span>  * HTML, returns, or tabs, use a browser tooltip by setting the &#39;title&#39; attribute
<span class="line">1817</span>  * on the element.
<span class="line">1818</span>  *
<span class="line">1819</span>  * @param {string/object} 	toolTip		the tooltip content
<span class="line">1820</span>  */</span><span class="WHIT">
<span class="line">1821</span> </span><span class="NAME">DwtControl.prototype.setToolTipContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1822</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">toolTip</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">useBrowser</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1823</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1824</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">toolTip</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">toolTip</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;string&#34;</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">DwtControl.useBrowserTooltips</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1825</span> </span><span class="WHIT">		</span><span class="COMM">// browser tooltip can&#39;t have return, tab, or HTML</span><span class="WHIT">
<span class="line">1826</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">toolTip</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">toolTip.match</span><span class="PUNC">(</span><span class="REGX">/[\n\r\t]/</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">toolTip.match</span><span class="PUNC">(</span><span class="REGX">/&lt;[a-zA-Z]+/</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1827</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1828</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1829</span> </span><span class="WHIT">				</span><span class="NAME">el.title</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">toolTip</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1830</span> </span><span class="WHIT">				</span><span class="NAME">this._browserToolTip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1831</span> </span><span class="WHIT">				</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1832</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1833</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1834</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1835</span> 
<span class="line">1836</span> </span><span class="WHIT">	</span><span class="NAME">this._browserToolTip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1837</span> </span><span class="WHIT">	</span><span class="NAME">this.__toolTipContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">toolTip</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1838</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1839</span> 
<span class="line">1840</span> </span><span class="COMM">/**
<span class="line">1841</span>  * Gets the visible state of the control. For example, the control HTML elements display style attribute is not &#34;none&#34;.
<span class="line">1842</span>  * 
<span class="line">1843</span>  * @return {boolean}	if &lt;code&gt;true&lt;/code&gt;, the control is visible
<span class="line">1844</span>  *
<span class="line">1845</span>  * @see Dwt#getVisibile
<span class="line">1846</span>  */</span><span class="WHIT">
<span class="line">1847</span> </span><span class="NAME">DwtControl.prototype.getVisible</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1848</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1849</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1850</span> 
<span class="line">1851</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getVisible</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1852</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1853</span> 
<span class="line">1854</span> </span><span class="COMM">/**
<span class="line">1855</span>  * Sets the the visible state of the control HTML element. &lt;i&gt;Note: Gets style
<span class="line">1856</span>  * &#34;display: none&#34;, don&#39;t confuse with {@link setVisibility}).&lt;/i&gt;
<span class="line">1857</span>  *
<span class="line">1858</span>  * @param {boolean} visible 	if &lt;code&gt;true&lt;/code&gt;, the control should be displayed; if &lt;code&gt;false&lt;/code&gt;, the control should not be displayed
<span class="line">1859</span>  *
<span class="line">1860</span>  * @see Dwt#setVisible
<span class="line">1861</span>  */</span><span class="WHIT">
<span class="line">1862</span> </span><span class="NAME">DwtControl.prototype.setVisible</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1863</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">visible</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1864</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1865</span> 
<span class="line">1866</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setVisible</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">visible</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1867</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1868</span> 
<span class="line">1869</span> </span><span class="COMM">/**
<span class="line">1870</span>  * Sets the visibility of the control HTML element.
<span class="line">1871</span>  *
<span class="line">1872</span>  * @param {boolean} visible		if &lt;code&gt;true&lt;/code&gt; then the control is visible
<span class="line">1873</span>  *
<span class="line">1874</span>  * @see Dwt#setVisibility
<span class="line">1875</span>  */</span><span class="WHIT">
<span class="line">1876</span> </span><span class="NAME">DwtControl.prototype.setVisibility</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1877</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">visible</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1878</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1879</span> 
<span class="line">1880</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setVisibility</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">visible</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1881</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1882</span> 
<span class="line">1883</span> </span><span class="COMM">/**
<span class="line">1884</span>  * Gets the visibility of the control HTML element.
<span class="line">1885</span>  * 
<span class="line">1886</span>  * @return {boolean}	if &lt;code&gt;true&lt;/code&gt;, the control is visible (i.e. the HTML elements visibility play style attribute is not &#34;hidden&#34;)
<span class="line">1887</span>  *
<span class="line">1888</span>  * @see Dwt#getVisibility
<span class="line">1889</span>  */</span><span class="WHIT">
<span class="line">1890</span> </span><span class="NAME">DwtControl.prototype.getVisibility</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1891</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1892</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1893</span> 
<span class="line">1894</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getVisibility</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1895</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1896</span> 
<span class="line">1897</span> 
<span class="line">1898</span> </span><span class="COMM">/**
<span class="line">1899</span>  * Gets the control z-index value.
<span class="line">1900</span>  *
<span class="line">1901</span>  * @param {boolean} getFromStyle    get the value from the style attribute of
<span class="line">1902</span>  *                                  the control element, or a parent
<span class="line">1903</span>  *
<span class="line">1904</span>  * @return	{number}	the z-index value
<span class="line">1905</span>  */</span><span class="WHIT">
<span class="line">1906</span> </span><span class="NAME">DwtControl.prototype.getZIndex</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1907</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">getFromStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1908</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1909</span> 
<span class="line">1910</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getZIndex</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">getFromStyle</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1911</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1912</span> 
<span class="line">1913</span> </span><span class="COMM">/**
<span class="line">1914</span>  * Sets the z-index for the control HTML element. Since z-index is only relevant among peer
<span class="line">1915</span>  * elements, we make sure that all elements that are being displayed via z-index hang off the
<span class="line">1916</span>  * main shell.
<span class="line">1917</span>  *
<span class="line">1918</span>  * @param {number} idx		the new z-index for this element
<span class="line">1919</span>  */</span><span class="WHIT">
<span class="line">1920</span> </span><span class="NAME">DwtControl.prototype.setZIndex</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1921</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">idx</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1922</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1923</span> 
<span class="line">1924</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setZIndex</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">idx</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1925</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1926</span> 
<span class="line">1927</span> </span><span class="COMM">/**
<span class="line">1928</span>  * Convenience function to toggle visibility using z-index. It uses the two lowest level
<span class="line">1929</span>  * z-indexes ({@link Dwt.Z_VIEW} and {@link Dwt.Z_HIDDEN} respectively). Any further
<span class="line">1930</span>  * stacking will have to use {@link #setZIndex} directly.
<span class="line">1931</span>  *
<span class="line">1932</span>  * @param {boolean} show		if &lt;code&gt;true&lt;/code&gt;, show the element; &lt;code&gt;false&lt;/code&gt; to hide the element
<span class="line">1933</span>  *
<span class="line">1934</span>  * @see #setZIndex
<span class="line">1935</span>  */</span><span class="WHIT">
<span class="line">1936</span> </span><span class="NAME">DwtControl.prototype.zShow</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1937</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">show</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1938</span> </span><span class="WHIT">	</span><span class="NAME">this.setZIndex</span><span class="PUNC">(</span><span class="NAME">show</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">Dwt.Z_VIEW</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">Dwt.Z_HIDDEN</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1939</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1940</span> 
<span class="line">1941</span> </span><span class="COMM">/**
<span class="line">1942</span>  * Sets the display.
<span class="line">1943</span>  * 
<span class="line">1944</span>  * @param	{string}	value		the display value
<span class="line">1945</span>  */</span><span class="WHIT">
<span class="line">1946</span> </span><span class="NAME">DwtControl.prototype.setDisplay</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1947</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1948</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1949</span> 
<span class="line">1950</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setDisplay</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1951</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1952</span> 
<span class="line">1953</span> </span><span class="COMM">/**
<span class="line">1954</span>  * Sets the opacity of the control HTML element.
<span class="line">1955</span>  *
<span class="line">1956</span>  * @param {Number} opacity		opacity, as a percentage between 0 and 100
<span class="line">1957</span>  *
<span class="line">1958</span>  * @see Dwt#setOpacity
<span class="line">1959</span>  */</span><span class="WHIT">
<span class="line">1960</span> </span><span class="NAME">DwtControl.prototype.setOpacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1961</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">opacity</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1962</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1963</span> 
<span class="line">1964</span> </span><span class="WHIT">	</span><span class="NAME">Dwt.setOpacity</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">opacity</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1965</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1966</span> 
<span class="line">1967</span> </span><span class="COMM">/**
<span class="line">1968</span>  * Gets the opacity of the control HTML element.
<span class="line">1969</span>  *
<span class="line">1970</span>  * @return {Number}	opacity, as a percentage between 0 and 100
<span class="line">1971</span>  *
<span class="line">1972</span>  * @see Dwt#getOpacity
<span class="line">1973</span>  */</span><span class="WHIT">
<span class="line">1974</span> </span><span class="NAME">DwtControl.prototype.getOpacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1975</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1976</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">1977</span> 
<span class="line">1978</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Dwt.getOpacity</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1979</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1980</span> 
<span class="line">1981</span> </span><span class="COMM">/**
<span class="line">1982</span>  * Prevents selection on the specified element.
<span class="line">1983</span>  *
<span class="line">1984</span>  * @param	{Element}	targetEl	the element
<span class="line">1985</span>  */</span><span class="WHIT">
<span class="line">1986</span> </span><span class="NAME">DwtControl.prototype.preventSelection</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1987</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">targetEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1988</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this.__isInputEl</span><span class="PUNC">(</span><span class="NAME">targetEl</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1989</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1990</span> 
<span class="line">1991</span> </span><span class="COMM">/**
<span class="line">1992</span>  * Prevents a context menu on the specified element.
<span class="line">1993</span>  * 
<span class="line">1994</span>  * @param	{Element}	targetEl	the element
<span class="line">1995</span>  */</span><span class="WHIT">
<span class="line">1996</span> </span><span class="NAME">DwtControl.prototype.preventContextMenu</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">1997</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">targetEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">1998</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">targetEl</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.__isInputEl</span><span class="PUNC">(</span><span class="NAME">targetEl</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">1999</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2000</span> 
<span class="line">2001</span> </span><span class="COMM">/**
<span class="line">2002</span>  * Returns the content of the control HTML element.
<span class="line">2003</span>  * 
<span class="line">2004</span>  * @return {string}		HTML content
<span class="line">2005</span>  */</span><span class="WHIT">
<span class="line">2006</span> </span><span class="NAME">DwtControl.prototype.getContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2007</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2008</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2009</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2010</span> 
<span class="line">2011</span> </span><span class="COMM">/**
<span class="line">2012</span>  * Sets the content of the control HTML element to the provided
<span class="line">2013</span>  * content. Care should be taken when using this method as it can blow away all
<span class="line">2014</span>  * the content of the control which can be particularly bad if the control is
<span class="line">2015</span>  * a &lt;i&gt;DwtComposite&lt;/i&gt; with children. Generally this method should be used
<span class="line">2016</span>  * controls which are being directly instantiated and used as a canvas
<span class="line">2017</span>  *
<span class="line">2018</span>  * @param {string} content		the HTML content
<span class="line">2019</span>  */</span><span class="WHIT">
<span class="line">2020</span> </span><span class="NAME">DwtControl.prototype.setContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2021</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2022</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2023</span> </span><span class="WHIT">		</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">content</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2024</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2025</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2026</span> 
<span class="line">2027</span> </span><span class="COMM">/**
<span class="line">2028</span>  * Clears the content of the control HTML element.
<span class="line">2029</span>  * Care should be taken when using this method as it can blow away all
<span class="line">2030</span>  * the content of the control which can be particularly bad if the control is
<span class="line">2031</span>  * a {@link DwtComposite} with children. Generally this method should be used
<span class="line">2032</span>  * controls which are being directly instantiated and used as a canvas.
<span class="line">2033</span>  */</span><span class="WHIT">
<span class="line">2034</span> </span><span class="NAME">DwtControl.prototype.clearContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2035</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2036</span> </span><span class="WHIT">	</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2037</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2038</span> 
<span class="line">2039</span> </span><span class="COMM">/**
<span class="line">2040</span>  * Appends this control element to the specified element.
<span class="line">2041</span>  *
<span class="line">2042</span>  * @param {Element|string}	elemOrId  the DOM element or an element id
<span class="line">2043</span>  */</span><span class="WHIT">
<span class="line">2044</span> </span><span class="NAME">DwtControl.prototype.appendElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2045</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2046</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxUtil.isString</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">elemOrId</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2047</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2048</span> </span><span class="WHIT">        </span><span class="NAME">el.appendChild</span><span class="PUNC">(</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">el</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2049</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2050</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2051</span> 
<span class="line">2052</span> </span><span class="COMM">/**
<span class="line">2053</span>  * Replaces the specified element with this control element.
<span class="line">2054</span>  *
<span class="line">2055</span>  * @param {Element|string}	elemOrId  the DOM element or an element id
<span class="line">2056</span>  */</span><span class="WHIT">
<span class="line">2057</span> </span><span class="NAME">DwtControl.prototype.replaceElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2058</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritClass</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2059</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">oel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxUtil.isString</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">elemOrId</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">elemOrId</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2060</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">oel</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2061</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">nel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2062</span> </span><span class="WHIT">        </span><span class="NAME">oel.parentNode.replaceChild</span><span class="PUNC">(</span><span class="NAME">nel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">oel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2063</span> </span><span class="WHIT">        </span><span class="NAME">this._replaceElementHook</span><span class="PUNC">(</span><span class="NAME">oel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritClass</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritStyle</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2064</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2065</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2066</span> 
<span class="line">2067</span> </span><span class="COMM">/**
<span class="line">2068</span>  * This method is a hook for sub-classes that want to intercept the
<span class="line">2069</span>  * inheriting of class and style when an element is replaced. By
<span class="line">2070</span>  * default, the new will will inherit the class and style. In order
<span class="line">2071</span>  * to prevent this behavior, you must pass in a &lt;code&gt;true&lt;/code&gt;
<span class="line">2072</span>  * or &lt;code&gt;false&lt;/code&gt; value.
<span class="line">2073</span>  * 
<span class="line">2074</span>  * @private
<span class="line">2075</span>  */</span><span class="WHIT">
<span class="line">2076</span> </span><span class="NAME">DwtControl.prototype._replaceElementHook</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2077</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">oel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritClass</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inheritStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2078</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">inheritClass</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">inheritClass</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">oel.className</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2079</span> </span><span class="WHIT">        </span><span class="NAME">Dwt.addClass</span><span class="PUNC">(</span><span class="NAME">nel</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">oel.className</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2080</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2081</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">inheritStyle</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">inheritStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2082</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">style</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">oel.getAttribute</span><span class="PUNC">(</span><span class="STRN">&#34;style&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">oel.style</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2083</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">style</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2084</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxUtil.isString</span><span class="PUNC">(</span><span class="NAME">style</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="COMM">// All non-IE browsers</span><span class="WHIT">
<span class="line">2085</span> </span><span class="WHIT">                </span><span class="NAME">nel.setAttribute</span><span class="PUNC">(</span><span class="STRN">&#34;style&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">nel.getAttribute</span><span class="PUNC">(</span><span class="STRN">&#34;style&#34;</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">style</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">join</span><span class="PUNC">(</span><span class="STRN">&#34;;&#34;</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2086</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxUtil.isString</span><span class="PUNC">(</span><span class="NAME">style.cssText</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2087</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">style.cssText</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2088</span> </span><span class="WHIT">					</span><span class="NAME">nel.setAttribute</span><span class="PUNC">(</span><span class="STRN">&#34;style&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">nel.getAttribute</span><span class="PUNC">(</span><span class="STRN">&#34;style&#34;</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">style.cssText</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">join</span><span class="PUNC">(</span><span class="STRN">&#34;;&#34;</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2089</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2090</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2091</span> </span><span class="WHIT">				</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">attribute</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">style</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2092</span> </span><span class="WHIT">					</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">style</span><span class="PUNC">[</span><span class="NAME">attribute</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2093</span> </span><span class="WHIT">						</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2094</span> </span><span class="WHIT">							</span><span class="NAME">nel.style</span><span class="PUNC">[</span><span class="NAME">attribute</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">style</span><span class="PUNC">[</span><span class="NAME">attribute</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2095</span> </span><span class="WHIT">						</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2096</span> </span><span class="WHIT">					</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2097</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2098</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2099</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2100</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2101</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2102</span> 
<span class="line">2103</span> </span><span class="COMM">/**
<span class="line">2104</span>  * This protected method is called by the keyboard navigate infrastructure when a control
<span class="line">2105</span>  * gains focus. This method should be overridden by derived classes to provide
<span class="line">2106</span>  * the visual behavior for the component losing focus
<span class="line">2107</span>  *
<span class="line">2108</span>  * @see #_focus
<span class="line">2109</span>  * @see #_focusByMouseUpEvent
<span class="line">2110</span>  * @see #focus
<span class="line">2111</span>  * 
<span class="line">2112</span>  * @private
<span class="line">2113</span>  */</span><span class="WHIT">
<span class="line">2114</span> </span><span class="NAME">DwtControl.prototype._blur</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2115</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2116</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2117</span> 
<span class="line">2118</span> </span><span class="COMM">/**
<span class="line">2119</span>  * This protected method should be overridden by derived classes to provide
<span class="line">2120</span>  * behavior for the component gaining focus e.g. providing a border or
<span class="line">2121</span>  * highlighting etc...
<span class="line">2122</span>  *
<span class="line">2123</span>  * @see #_blur
<span class="line">2124</span>  * @see #_focusByMouseUpEvent
<span class="line">2125</span>  * @see #focus
<span class="line">2126</span>  * 
<span class="line">2127</span>  * @private
<span class="line">2128</span>  */</span><span class="WHIT">
<span class="line">2129</span> </span><span class="NAME">DwtControl.prototype._focus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2130</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2131</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2132</span> 
<span class="line">2133</span> </span><span class="COMM">/**
<span class="line">2134</span>  * This protected method is called from mouseUpHdl. Subclasses may override this method
<span class="line">2135</span>  * if they have their own specialized focus management code.
<span class="line">2136</span>  *
<span class="line">2137</span>  * @see #_blur
<span class="line">2138</span>  * @see #_focus
<span class="line">2139</span>  * @see #focus
<span class="line">2140</span>  * 
<span class="line">2141</span>  * @private
<span class="line">2142</span>  */</span><span class="WHIT">
<span class="line">2143</span> </span><span class="NAME">DwtControl.prototype._focusByMouseUpEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2144</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2145</span> </span><span class="WHIT"> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.getEnabled</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2146</span> </span><span class="WHIT"> 		</span><span class="NAME">this.focus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2147</span> </span><span class="WHIT"> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2148</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2149</span> 
<span class="line">2150</span> </span><span class="COMM">/**
<span class="line">2151</span>  * This is for bug 11827.
<span class="line">2152</span>  * 
<span class="line">2153</span>  * TODO: we should remove _focusByMouseUpEvent and update all classes
<span class="line">2154</span>  * that define it to use _focusByMouseDownEvent instead.
<span class="line">2155</span>  * 
<span class="line">2156</span>  * @private
<span class="line">2157</span>  */</span><span class="WHIT">
<span class="line">2158</span> </span><span class="NAME">DwtControl.prototype._focusByMouseDownEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2159</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2160</span> </span><span class="WHIT">	</span><span class="NAME">this._duringFocusByMouseDown</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2161</span> </span><span class="WHIT">	</span><span class="NAME">this._focusByMouseUpEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2162</span> </span><span class="WHIT">	</span><span class="NAME">this._duringFocusByMouseDown</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2163</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2164</span> 
<span class="line">2165</span> </span><span class="COMM">/**
<span class="line">2166</span>  * Returns the type of drag operation we are performing.
<span class="line">2167</span>  *
<span class="line">2168</span>  * @param mouseEv
<span class="line">2169</span>  */</span><span class="WHIT">
<span class="line">2170</span> </span><span class="NAME">DwtControl.prototype._getDragOp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2171</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2172</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">mouseEv.ctrlKey</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">Dwt.DND_DROP_COPY</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">Dwt.DND_DROP_MOVE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2173</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2174</span> 
<span class="line">2175</span> </span><span class="COMM">/**
<span class="line">2176</span>  * Subclasses may override this protected method to return an HTML element that will represent
<span class="line">2177</span>  * the dragging icon. The icon must be created on the DwtShell widget. This means that the
<span class="line">2178</span>  * icon must be a child of the shells HTML component If this method returns
<span class="line">2179</span>  * null, it indicates that the drag failed. This method is called when a control is
<span class="line">2180</span>  * being dragged and it has a valid drag source
<span class="line">2181</span>  *
<span class="line">2182</span>  * @return {HTMLElement}	the DnD dragging icon. This is typically a div element
<span class="line">2183</span>  *
<span class="line">2184</span>  * @see #_setDragProxyState
<span class="line">2185</span>  * @see #_destroyDragProxy
<span class="line">2186</span>  * @see #_isValidDragObject
<span class="line">2187</span>  * @see #_dragEnter
<span class="line">2188</span>  * @see #_dragOver
<span class="line">2189</span>  * @see #_dragHover
<span class="line">2190</span>  * @see #_dragLeave
<span class="line">2191</span>  * @see #_drop
<span class="line">2192</span>  * @see #setDragSource
<span class="line">2193</span>  * @see DwtDropTarget
<span class="line">2194</span>  * @see DwtDragSource
<span class="line">2195</span>  * 
<span class="line">2196</span>  * @private
<span class="line">2197</span>  */</span><span class="WHIT">
<span class="line">2198</span> </span><span class="NAME">DwtControl.prototype._getDragProxy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2199</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dragOp</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2200</span> </span><span class="WHIT">	</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.DBG2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl.prototype._getDragProxy&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2201</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2202</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2203</span> 
<span class="line">2204</span> </span><span class="NAME">DwtControl.prototype.getDragSelectionBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2205</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dragOp</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2206</span> 
<span class="line">2207</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._dragSelectionBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2208</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">box</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._dragSelectionBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">&#34;div&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2209</span> </span><span class="WHIT">		</span><span class="NAME">box.className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;dndSelectionBox&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2210</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setPosition</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">Dwt.ABSOLUTE_STYLE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2211</span> </span><span class="WHIT">		</span><span class="NAME">this.shell.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">appendChild</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2212</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.setZIndex</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">Dwt.Z_DND</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2213</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2214</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._dragSelectionBox</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2215</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2216</span> 
<span class="line">2217</span> </span><span class="COMM">/**
<span class="line">2218</span>  * Subclasses may override this method to set the DnD icon properties based on whether drops are
<span class="line">2219</span>  * allowed. The default implementation sets the class on the HTML element obtained
<span class="line">2220</span>  * from &lt;code&gt;_getDragProxy&lt;/code&gt; to DwtCssStyle.DROPPABLE if &lt;code&gt;dropAllowed&lt;/code&gt; is true and
<span class="line">2221</span>  * to DwtCssStyle.NOT_DROPPABLE if false
<span class="line">2222</span>  *
<span class="line">2223</span>  * @param {boolean} dropAllowed		if &lt;code&gt;true&lt;/code&gt;, then dropping is allowed on the drop zone so set
<span class="line">2224</span>  * 		DnD icon to the visually reflect this
<span class="line">2225</span>  *
<span class="line">2226</span>  * @see #_getDragProxy
<span class="line">2227</span>  * @see #_destroyDragProxy
<span class="line">2228</span>  * @see #_isValidDragObject
<span class="line">2229</span>  * @see #_dragEnter
<span class="line">2230</span>  * @see #_dragOver
<span class="line">2231</span>  * @see #_dragHover
<span class="line">2232</span>  * @see #_dragLeave
<span class="line">2233</span>  * @see #_drop
<span class="line">2234</span>  * @see #setDragSource
<span class="line">2235</span>  * @see DwtDropTarget
<span class="line">2236</span>  * @see DwtDragSource
<span class="line">2237</span>  * 
<span class="line">2238</span>  * @private
<span class="line">2239</span>  */</span><span class="WHIT">
<span class="line">2240</span> </span><span class="NAME">DwtControl.prototype._setDragProxyState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2241</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dropAllowed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2242</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._dndProxy</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2243</span> </span><span class="WHIT">		</span><span class="NAME">Dwt.condClass</span><span class="PUNC">(</span><span class="NAME">this._dndProxy</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">dropAllowed</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtCssStyle.DROPPABLE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtCssStyle.NOT_DROPPABLE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2244</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2245</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2246</span> 
<span class="line">2247</span> 
<span class="line">2248</span> </span><span class="COMM">/**
<span class="line">2249</span>  * @private
<span class="line">2250</span>  */</span><span class="WHIT">
<span class="line">2251</span> </span><span class="NAME">DwtControl.__junkIconId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2252</span> 
<span class="line">2253</span> </span><span class="COMM">/**
<span class="line">2254</span>  * Subclasses may override this method to destroy the DnD icon HTML element
<span class="line">2255</span>  *
<span class="line">2256</span>  * @see #_getDragProxy
<span class="line">2257</span>  * @see #_setDragProxyState
<span class="line">2258</span>  * @see #_isValidDragObject
<span class="line">2259</span>  * @see #_dragEnter
<span class="line">2260</span>  * @see #_dragOver
<span class="line">2261</span>  * @see #_dragHover
<span class="line">2262</span>  * @see #_dragLeave
<span class="line">2263</span>  * @see #_drop
<span class="line">2264</span>  * @see #setDragSource
<span class="line">2265</span>  * @see DwtDropTarget
<span class="line">2266</span>  * @see DwtDragSource
<span class="line">2267</span>  * 
<span class="line">2268</span>  * @private
<span class="line">2269</span>  */</span><span class="WHIT">
<span class="line">2270</span> </span><span class="NAME">DwtControl.prototype._destroyDragProxy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2271</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">icon</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2272</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">icon</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2273</span> </span><span class="WHIT">		</span><span class="COMM">// not sure why there is no parent node, but if there isn&#39;t one,</span><span class="WHIT">
<span class="line">2274</span> </span><span class="WHIT">		</span><span class="COMM">// let&#39;s try and do our best to get rid of the icon</span><span class="WHIT">
<span class="line">2275</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">icon.parentNode</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2276</span> </span><span class="WHIT">			</span><span class="NAME">icon.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">icon</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2277</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2278</span> </span><span class="WHIT">			</span><span class="COMM">// at least hide the icon, and change the id so we can&#39;t get it back later</span><span class="WHIT">
<span class="line">2279</span> </span><span class="WHIT">			</span><span class="NAME">icon.style.zIndex</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2280</span> </span><span class="WHIT">			</span><span class="NAME">icon.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;DwtJunkIcon&#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">DwtControl.__junkIconId</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2281</span> </span><span class="WHIT">			</span><span class="NAME">icon</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2282</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2283</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2284</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2285</span> 
<span class="line">2286</span> </span><span class="NAME">DwtControl.prototype.destroyDragSelectionBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2287</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2288</span> 
<span class="line">2289</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">box</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._dragSelectionBox</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2290</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">box</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">box.parentNode</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2291</span> </span><span class="WHIT">		</span><span class="NAME">box.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2292</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2293</span> </span><span class="WHIT">	</span><span class="NAME">this._dragSelectionBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2294</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2295</span> 
<span class="line">2296</span> </span><span class="COMM">/**
<span class="line">2297</span>  * Subclasses may override this method to provide feedback as to whether a possibly
<span class="line">2298</span>  * valid capture is taking place. For example, there are instances such as when a mouse
<span class="line">2299</span>  * down happens on a scroll bar in a DwtListView that are reported in the context of
<span class="line">2300</span>  * the DwtListView, but which are not really a valid mouse down i.e. on a list item. In
<span class="line">2301</span>  * such cases this function would return false.
<span class="line">2302</span>  *
<span class="line">2303</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if the object is a valid drag object
<span class="line">2304</span>  *
<span class="line">2305</span>  * @see #_getDragProxy
<span class="line">2306</span>  * @see #_setDragProxyState
<span class="line">2307</span>  * @see #_destroyDragProxy
<span class="line">2308</span>  * @see #_dragEnter
<span class="line">2309</span>  * @see #_dragOver
<span class="line">2310</span>  * @see #_dragHover
<span class="line">2311</span>  * @see #_dragLeave
<span class="line">2312</span>  * @see #_drop
<span class="line">2313</span>  * @see #setDragSource
<span class="line">2314</span>  * @see DwtDropTarget
<span class="line">2315</span>  * @see DwtDragSource
<span class="line">2316</span>  * 
<span class="line">2317</span>  * @private
<span class="line">2318</span>  */</span><span class="WHIT">
<span class="line">2319</span> </span><span class="WHIT"> </span><span class="NAME">DwtControl.prototype._isValidDragObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2320</span> </span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2321</span> </span><span class="WHIT"> 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2322</span> </span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2323</span> 
<span class="line">2324</span> </span><span class="COMM">/**
<span class="line">2325</span>  * _dragHover is called multiple times as the user hovers over
<span class="line">2326</span>  * the control. _dragLeave is called when the drag operation exits the control.
<span class="line">2327</span>  * _drop is called when the item is dropped on the target.
<span class="line">2328</span>  */</span><span class="WHIT">
<span class="line">2329</span> 
<span class="line">2330</span> </span><span class="WHIT"> </span><span class="COMM">/**
<span class="line">2331</span>   * This protected method is called when a drag operation enters a control. Subclasses
<span class="line">2332</span>   * supporting drop targets should implement this method to visual indicate that they are a
<span class="line">2333</span>   * drop target. This could be by changing the background etc. Note that it is the
<span class="line">2334</span>   * responsibility of the drag source (the control being dragged) to change its icon state
<span class="line">2335</span>   * to reflect whether the drop target is valid for the drag source
<span class="line">2336</span>   *
<span class="line">2337</span>   * @param {DwtMouseEvent} ev	the mouse event that is associated with the drag operation
<span class="line">2338</span>   *
<span class="line">2339</span>   * @see #_getDragProxy
<span class="line">2340</span>   * @see #_setDragProxyState
<span class="line">2341</span>   * @see #_destroyDragProxy
<span class="line">2342</span>   * @see #_isValidDragObject
<span class="line">2343</span>   * @see #_dragOver
<span class="line">2344</span>   * @see #_dragHover
<span class="line">2345</span>   * @see #_dragLeave
<span class="line">2346</span>   * @see #_drop
<span class="line">2347</span>   * @see #setDragSource
<span class="line">2348</span>   * @see DwtDropTarget
<span class="line">2349</span>   * @see DwtDragSource
<span class="line">2350</span>   * 
<span class="line">2351</span>   * @private
<span class="line">2352</span>   */</span><span class="WHIT">
<span class="line">2353</span> </span><span class="NAME">DwtControl.prototype._dragEnter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2354</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2355</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2356</span> 
<span class="line">2357</span> </span><span class="WHIT"> </span><span class="COMM">/**
<span class="line">2358</span>   * This protected method is called multiple times as a dragged control crosses over this control
<span class="line">2359</span>   * Subclasses supporting drop targets may implement this method for additional visual
<span class="line">2360</span>   * indication, such as indicating &#34;landing zones&#34; in the control for drop operations
<span class="line">2361</span>   *
<span class="line">2362</span>   * @param {DwtMouseEvent} ev	the mouse event that is associated with the drag operation
<span class="line">2363</span>   *
<span class="line">2364</span>   * @see #_getDragProxy
<span class="line">2365</span>   * @see #_setDragProxyState
<span class="line">2366</span>   * @see #_destroyDragProxy
<span class="line">2367</span>   * @see #_isValidDragObject
<span class="line">2368</span>   * @see #_dragEnter
<span class="line">2369</span>   * @see #_dragHover
<span class="line">2370</span>   * @see #_dragLeave
<span class="line">2371</span>   * @see #_drop
<span class="line">2372</span>   * @see #setDragSource
<span class="line">2373</span>   * @see DwtDropTarget
<span class="line">2374</span>   * @see DwtDragSource
<span class="line">2375</span>   * @private
<span class="line">2376</span>   */</span><span class="WHIT">
<span class="line">2377</span> </span><span class="NAME">DwtControl.prototype._dragOver</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2378</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2379</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2380</span> 
<span class="line">2381</span> </span><span class="WHIT"> </span><span class="COMM">/**
<span class="line">2382</span>   * This protected method is called every 750ms as an item hovers over this control
<span class="line">2383</span>   * Subclasses supporting drop targets may implement this method for additional visual
<span class="line">2384</span>   * indication or actions, such as expanding a collapsed tree node if the user hovers
<span class="line">2385</span>   * over the node for a period of time.
<span class="line">2386</span>   *
<span class="line">2387</span>   * @param {DwtMouseEvent} ev	the mouse event that is associated with the drag operation
<span class="line">2388</span>   *
<span class="line">2389</span>   * @see #_getDragProxy
<span class="line">2390</span>   * @see #_setDragProxyState
<span class="line">2391</span>   * @see #_destroyDragProxy
<span class="line">2392</span>   * @see #_isValidDragObject
<span class="line">2393</span>   * @see #_dragEnter
<span class="line">2394</span>   * @see #_dragHover
<span class="line">2395</span>   * @see #_dragLeave
<span class="line">2396</span>   * @see #_drop
<span class="line">2397</span>   * @see #setDragSource
<span class="line">2398</span>   * @see DwtDropTarget
<span class="line">2399</span>   * @see DwtDragSource
<span class="line">2400</span>   * @private
<span class="line">2401</span>   */</span><span class="WHIT">
<span class="line">2402</span> </span><span class="NAME">DwtControl.prototype._dragHover</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2403</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2404</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2405</span> 
<span class="line">2406</span> </span><span class="WHIT"> </span><span class="COMM">/**
<span class="line">2407</span>   * This protected method is called when the drag operation exits the control
<span class="line">2408</span>   * Subclasses supporting drop targets should implement this method to reset the
<span class="line">2409</span>   * visual to the default (i.e. reset the actions performed as part of the
<span class="line">2410</span>   * &lt;code&gt;_dragEnter&lt;/code&gt; method.
<span class="line">2411</span>   *
<span class="line">2412</span>   * @param {DwtMouseEvent} ev	the mouse event that is associated with the drag operation
<span class="line">2413</span>   *
<span class="line">2414</span>   * @see #_getDragProxy
<span class="line">2415</span>   * @see #_setDragProxyState
<span class="line">2416</span>   * @see #_destroyDragProxy
<span class="line">2417</span>   * @see #_isValidDragObject
<span class="line">2418</span>   * @see #_dragEnter
<span class="line">2419</span>   * @see #_dragHover
<span class="line">2420</span>   * @see #_drop
<span class="line">2421</span>   * @see #setDragSource
<span class="line">2422</span>   * @see DwtDropTarget
<span class="line">2423</span>   * @see DwtDragSource
<span class="line">2424</span>   * @private
<span class="line">2425</span>   */</span><span class="WHIT">
<span class="line">2426</span> </span><span class="NAME">DwtControl.prototype._dragLeave</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2427</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2428</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2429</span> 
<span class="line">2430</span> 
<span class="line">2431</span> </span><span class="COMM">/**
<span class="line">2432</span>   * This protected method is called when the a drop occurs on the control
<span class="line">2433</span>   * Subclasses supporting drop targets may implement this method to provide a
<span class="line">2434</span>   * visual indication that the drop succeeded (e.g. an animation such as flashing
<span class="line">2435</span>   * the drop target).
<span class="line">2436</span>   *
<span class="line">2437</span>   * @param {DwtMouseEvent} ev	the mouse event that is associated with the drag operation
<span class="line">2438</span>   *
<span class="line">2439</span>   * @see #_getDragProxy
<span class="line">2440</span>   * @see #_setDragProxyState
<span class="line">2441</span>   * @see #_destroyDragProxy
<span class="line">2442</span>   * @see #_isValidDragObject
<span class="line">2443</span>   * @see #_dragEnter
<span class="line">2444</span>   * @see #_dragHover
<span class="line">2445</span>   * @see #_dragLeave
<span class="line">2446</span>   * @see #setDragSource
<span class="line">2447</span>   * @see DwtDropTarget
<span class="line">2448</span>   * @see DwtDragSource
<span class="line">2449</span>   * @private
<span class="line">2450</span>   */</span><span class="WHIT">
<span class="line">2451</span> </span><span class="NAME">DwtControl.prototype._drop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2452</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2453</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2454</span> 
<span class="line">2455</span> </span><span class="COMM">/**
<span class="line">2456</span>   * Use this protected method for making a child element focusable.
<span class="line">2457</span>   *
<span class="line">2458</span>   * @param {HTMLElement} element	a child element (optional)
<span class="line">2459</span>   *
<span class="line">2460</span>   * @private
<span class="line">2461</span>   */</span><span class="WHIT">
<span class="line">2462</span> </span><span class="NAME">DwtControl.prototype._makeFocusable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2463</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2464</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2465</span> </span><span class="WHIT">		</span><span class="NAME">element</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2466</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2467</span> 
<span class="line">2468</span> </span><span class="WHIT">	</span><span class="NAME">element.tabIndex</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2469</span> 
<span class="line">2470</span> </span><span class="WHIT">	</span><span class="COMM">// clear the event handlers first, just in case</span><span class="WHIT">
<span class="line">2471</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="NAME">AjxUtil.keys</span><span class="PUNC">(</span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2472</span> 
<span class="line">2473</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="NAME">AjxUtil.keys</span><span class="PUNC">(</span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2474</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2475</span> 
<span class="line">2476</span> </span><span class="COMM">/**
<span class="line">2477</span>  * This convenience methods sets or clears the control&#39;s event handler for key
<span class="line">2478</span>  * press events as defined by {@link DwtEvent.ONKEYPRESS}.
<span class="line">2479</span>  *
<span class="line">2480</span>  * @param {boolean} clear	if &lt;code&gt;true&lt;/code&gt;, clear the keypress events handler
<span class="line">2481</span>  * @param {HTMLElement} element	if specified, assign event handlers to this element (optional)
<span class="line">2482</span>  *
<span class="line">2483</span>  * @private
<span class="line">2484</span>  */</span><span class="WHIT">
<span class="line">2485</span> </span><span class="NAME">DwtControl.prototype._setKeyPressEventHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2486</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2487</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONKEYPRESS</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2488</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2489</span> 
<span class="line">2490</span> </span><span class="COMM">/**
<span class="line">2491</span>  * This convenience methods sets or clears the control&#39;s event handlers for mouse
<span class="line">2492</span>  * events as defined by &lt;i&gt;DwtEvent.MOUSE_EVENTS&lt;/i&gt;
<span class="line">2493</span>  *
<span class="line">2494</span>  * @param {boolean} clear	if &lt;code&gt;true&lt;/code&gt;, clear the mouse events handlers
<span class="line">2495</span>  * @param {HTMLElement} element	if specified, assign event handlers to this element (optional)
<span class="line">2496</span>  *
<span class="line">2497</span>  * @private
<span class="line">2498</span>  */</span><span class="WHIT">
<span class="line">2499</span> </span><span class="NAME">DwtControl.prototype._setMouseEventHdlrs</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2500</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2501</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="NAME">DwtEvent.MOUSE_EVENTS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2502</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2503</span> 
<span class="line">2504</span> </span><span class="COMM">/**
<span class="line">2505</span>  * This convenience methods sets or clears the control&#39;s event handlers for keyboard
<span class="line">2506</span>  * events as defined by &lt;i&gt;DwtEvent.KEY_EVENTS&lt;/i&gt;
<span class="line">2507</span>  *
<span class="line">2508</span>  * @param {boolean} clear	if &lt;code&gt;true&lt;/code&gt;, clear the mouse events handlers
<span class="line">2509</span>  * @param {HTMLElement} element	if specified, assign event handlers to this element (optional)
<span class="line">2510</span>  *
<span class="line">2511</span>  * @private
<span class="line">2512</span>  */</span><span class="WHIT">
<span class="line">2513</span> </span><span class="NAME">DwtControl.prototype._setKeyEventHdlrs</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2514</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2515</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="NAME">DwtEvent.KEY_EVENTS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2516</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2517</span> 
<span class="line">2518</span> </span><span class="COMM">/**
<span class="line">2519</span>  * This protected method will set or clear the event handlers for the provided array
<span class="line">2520</span>  * of events.
<span class="line">2521</span>  *
<span class="line">2522</span>  * @param {array} events		an array of events for which to set or clear the
<span class="line">2523</span>  * 		control&#39;s event handlers. The set of events supported by the control are:
<span class="line">2524</span>  * 		&lt;ul&gt;
<span class="line">2525</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONCONTEXTMENU&lt;/i&gt;&lt;/li&gt;
<span class="line">2526</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONCLICK&lt;/i&gt;&lt;/li&gt;
<span class="line">2527</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONDBLCLICK&lt;/i&gt;&lt;/li&gt;
<span class="line">2528</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEDOWN&lt;/i&gt;&lt;/li&gt;
<span class="line">2529</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEENTER&lt;/i&gt;&lt;/li&gt;
<span class="line">2530</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSELEAVE&lt;/i&gt;&lt;/li&gt;
<span class="line">2531</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEMOVE&lt;/i&gt;&lt;/li&gt;
<span class="line">2532</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEOUT&lt;/i&gt;&lt;/li&gt;
<span class="line">2533</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEOVER&lt;/i&gt;&lt;/li&gt;
<span class="line">2534</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEUP&lt;/i&gt;&lt;/li&gt;
<span class="line">2535</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONMOUSEWHEEL&lt;/i&gt;&lt;/li&gt;
<span class="line">2536</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONSELECTSTART&lt;/i&gt;&lt;/li&gt;
<span class="line">2537</span>  * 		&lt;li&gt;&lt;i&gt;DwtEvent.ONKEYPRESS&lt;/i&gt;&lt;/li&gt;
<span class="line">2538</span>  * 		&lt;/ul&gt;
<span class="line">2539</span>  * @param {boolean} clear	if &lt;code&gt;true&lt;/code&gt;, the event handlers are cleared for the set of events
<span class="line">2540</span>  * @param {HTMLElement} element	if specified, assign event handlers to this element (optional)
<span class="line">2541</span>  *
<span class="line">2542</span>  * @see Dwt#setHandler
<span class="line">2543</span>  * @see Dwt#clearHandler
<span class="line">2544</span>  * @private
<span class="line">2545</span>  */</span><span class="WHIT">
<span class="line">2546</span> </span><span class="NAME">DwtControl.prototype._setEventHdlrs</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2547</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">events</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2548</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2549</span> 
<span class="line">2550</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">element</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2551</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">events.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2552</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">clear</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2553</span> </span><span class="WHIT">			</span><span class="NAME">Dwt.setHandler</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">events</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">events</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2554</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2555</span> </span><span class="WHIT">			</span><span class="NAME">Dwt.clearHandler</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">events</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2556</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2557</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2558</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2559</span> 
<span class="line">2560</span> </span><span class="COMM">/**
<span class="line">2561</span>  * @private
<span class="line">2562</span>  */</span><span class="WHIT">
<span class="line">2563</span> </span><span class="NAME">DwtControl.prototype._setMouseEvents</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2564</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2565</span> </span><span class="WHIT">	</span><span class="COMM">// add custom mouse handlers to standard ones</span><span class="WHIT">
<span class="line">2566</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEvents</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONCONTEXTMENU</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONCLICK</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONDBLCLICK</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEDOWN</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">2567</span> </span><span class="WHIT">					   </span><span class="NAME">DwtEvent.ONMOUSEMOVE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONSELECTSTART</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2568</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxEnv.isIE</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2569</span> </span><span class="WHIT">		</span><span class="NAME">mouseEvents.push</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONMOUSEENTER</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSELEAVE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2570</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2571</span> </span><span class="WHIT">		</span><span class="NAME">mouseEvents.push</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONMOUSEOVER</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2572</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2573</span> </span><span class="WHIT">	</span><span class="NAME">this._setEventHdlrs</span><span class="PUNC">(</span><span class="NAME">mouseEvents</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2574</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2575</span> 
<span class="line">2576</span> </span><span class="COMM">/**
<span class="line">2577</span>  * Populates a fake mouse event in preparation for the direct call of a listener (rather
<span class="line">2578</span>  * than via an event handler).
<span class="line">2579</span>  * 
<span class="line">2580</span>  * @param {DwtMouseEvent}	mev		the mouse event
<span class="line">2581</span>  * @param {hash}	params		the hash of event properties
<span class="line">2582</span>  * 
<span class="line">2583</span>  * @see DwtUiEvent.copy
<span class="line">2584</span>  * @private
<span class="line">2585</span>  */</span><span class="WHIT">
<span class="line">2586</span> </span><span class="NAME">DwtControl.prototype._setMouseEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2587</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2588</span> </span><span class="WHIT">	</span><span class="NAME">mev.reset</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2589</span> </span><span class="WHIT">	</span><span class="NAME">params.ersatz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2590</span> </span><span class="WHIT">	</span><span class="NAME">DwtUiEvent.copy</span><span class="PUNC">(</span><span class="NAME">mev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2591</span> </span><span class="WHIT">	</span><span class="NAME">mev.button</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.button</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2592</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2593</span> 
<span class="line">2594</span> </span><span class="COMM">/**
<span class="line">2595</span>  * TODO
<span class="line">2596</span>  * @private
<span class="line">2597</span>  */</span><span class="WHIT">
<span class="line">2598</span> </span><span class="NAME">DwtControl.prototype._getStopPropagationValForMouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2599</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2600</span> </span><span class="WHIT">	</span><span class="COMM">// overload me for dealing w/ browsers w/ weird quirks</span><span class="WHIT">
<span class="line">2601</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2602</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2603</span> 
<span class="line">2604</span> </span><span class="COMM">/**
<span class="line">2605</span>  * TODO
<span class="line">2606</span>  * @private
<span class="line">2607</span>  */</span><span class="WHIT">
<span class="line">2608</span> </span><span class="NAME">DwtControl.prototype._getEventReturnValForMouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2609</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2610</span> </span><span class="WHIT">	</span><span class="COMM">// overload me for dealing w/ browsers w/ weird quirks</span><span class="WHIT">
<span class="line">2611</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2612</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2613</span> 
<span class="line">2614</span> 
<span class="line">2615</span> </span><span class="COMM">/**
<span class="line">2616</span>  * Check the state of the control, if it is not disposed and is not initialized, then
<span class="line">2617</span>  * as a side-effect it will initialize it (meaning it will create the HTML element
<span class="line">2618</span>  * for the control and insert it into the DOM. This is pertinent for controls that
<span class="line">2619</span>  * were created &lt;i&gt;deferred&lt;/i&gt; (see the constructor documentation)
<span class="line">2620</span>  *
<span class="line">2621</span>  * @return {boolean}	&lt;code&gt;true&lt;/code&gt; if the control is not disposed; &lt;code&gt;false&lt;/code&gt; otherwise
<span class="line">2622</span>  * @private
<span class="line">2623</span>  */</span><span class="WHIT">
<span class="line">2624</span> </span><span class="NAME">DwtControl.prototype._checkState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2625</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2626</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2627</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.__ctrlInited</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2628</span> </span><span class="WHIT">		</span><span class="NAME">this.__initCtrl</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2629</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2630</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2631</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2632</span> 
<span class="line">2633</span> </span><span class="COMM">/**
<span class="line">2634</span>  * Positions this control at the given point. If no location is provided, centers it
<span class="line">2635</span>  * within the shell.
<span class="line">2636</span>  *
<span class="line">2637</span>  * @param {DwtPoint}	loc		the point at which to position this control
<span class="line">2638</span>  * @private
<span class="line">2639</span>  */</span><span class="WHIT">
<span class="line">2640</span> </span><span class="NAME">DwtControl.prototype._position</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2641</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">loc</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2642</span> </span><span class="WHIT">	</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2643</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sizeShell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.shell.getSize</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2644</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sizeThis</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getSize</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2645</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2646</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">loc</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2647</span> </span><span class="WHIT">		</span><span class="COMM">// if no location, go for the middle</span><span class="WHIT">
<span class="line">2648</span> </span><span class="WHIT">		</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">sizeShell.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">sizeThis.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2649</span> </span><span class="WHIT">		</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">sizeShell.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">sizeThis.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2650</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2651</span> </span><span class="WHIT">		</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2652</span> </span><span class="WHIT">		</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loc.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2653</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2654</span> </span><span class="WHIT">	</span><span class="COMM">// try to stay within shell boundaries</span><span class="WHIT">
<span class="line">2655</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">sizeThis.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NAME">sizeShell.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2656</span> </span><span class="WHIT">		</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sizeShell.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">sizeThis.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2657</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2658</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">sizeThis.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NAME">sizeShell.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2659</span> </span><span class="WHIT">		</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sizeShell.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">sizeThis.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2660</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2661</span> </span><span class="WHIT">	</span><span class="NAME">this.setLocation</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2662</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2663</span> 
<span class="line">2664</span> </span><span class="COMM">/**
<span class="line">2665</span>  * Handles scrolling of a drop area for an object being dragged. The scrolling is based on proximity to
<span class="line">2666</span>  * the top or bottom edge of the area (only vertical scrolling is done). The scrolling is done via a
<span class="line">2667</span>  * looping timer, so that the scrolling is smooth and does not depend on additional mouse movement.
<span class="line">2668</span>  *
<span class="line">2669</span>  * @param {hash}	params		a hash of parameters
<span class="line">2670</span>  * @param {Element}      params.container		the DOM element that may need to be scrolled
<span class="line">2671</span>  * @param {number}      params.threshold		if mouse is within this many pixels of top or bottom of container,
<span class="line">2672</span>  * 										check if scrolling is needed
<span class="line">2673</span>  * @param {number}      params.amount		the number of pixels to scroll at each interval
<span class="line">2674</span>  * @param {number}      params.interval		the number of milliseconds to wait before continuing to scroll
<span class="line">2675</span>  * @param {string}      params.id			the ID for determining if we have moved out of container
<span class="line">2676</span>  * @param {DwtEvent}	ev		the event
<span class="line">2677</span>  * 
<span class="line">2678</span>  * @private
<span class="line">2679</span>  */</span><span class="WHIT">
<span class="line">2680</span> </span><span class="NAME">DwtControl._dndScrollCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2681</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">params</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2682</span> 
<span class="line">2683</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">container</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.container</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2684</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">container</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2685</span> 
<span class="line">2686</span> </span><span class="WHIT">	</span><span class="COMM">// stop scrolling if mouse has moved out of the scrolling area, or dnd object has been released;</span><span class="WHIT">
<span class="line">2687</span> </span><span class="WHIT">	</span><span class="COMM">// a bit tricky because this callback is run as the mouse moves among objects within the scroll area,</span><span class="WHIT">
<span class="line">2688</span> </span><span class="WHIT">	</span><span class="COMM">// so we need to see if mouse has moved from within to outside of scroll area</span><span class="WHIT">
<span class="line">2689</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dwtObjId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ev.dwtObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">ev.dwtObj._dndScrollId</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2690</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ev.type</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;mouseup&#34;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">dwtObjId</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">params.id</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">dwtObjId</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">params.id</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2691</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2692</span> </span><span class="WHIT">			</span><span class="NAME">AjxTimedAction.cancelAction</span><span class="PUNC">(</span><span class="NAME">container._dndScrollActionId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2693</span> </span><span class="WHIT">			</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2694</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2695</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2696</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2697</span> 
<span class="line">2698</span> </span><span class="WHIT">	</span><span class="NAME">container._scrollAmt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2699</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container.clientHeight</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">container.scrollHeight</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2700</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">containerTop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.toWindow</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtPoint.tmp</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2701</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">realTop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">containerTop</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">container.scrollTop</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2702</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scroll</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">container.scrollTop</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2703</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">diff</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ev.docY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">realTop</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// do we need to scroll up?</span><span class="WHIT">
<span class="line">2704</span> </span><span class="WHIT">		</span><span class="COMM">// account for horizontal scrollbar</span><span class="WHIT">
<span class="line">2705</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">threshold</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container.clientWidth</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">container.scrollWidth</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">params.threshold</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">Dwt.SCROLLBAR_WIDTH</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT">
<span class="line">2706</span> </span><span class="WHIT">																		  </span><span class="NAME">params.threshold</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2707</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scrollAmt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">diff</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">threshold</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">params.amount</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2708</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">scrollAmt</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2709</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">containerH</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtPoint.tmp</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2710</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">containerBottom</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">realTop</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">containerH</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2711</span> </span><span class="WHIT">			</span><span class="NAME">diff</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">containerBottom</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">ev.docY</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// do we need to scroll down?</span><span class="WHIT">
<span class="line">2712</span> </span><span class="WHIT">			</span><span class="NAME">scrollAmt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">diff</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">threshold</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">params.amount</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2713</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2714</span> </span><span class="WHIT">		</span><span class="NAME">container._scrollAmt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scrollAmt</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2715</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">scrollAmt</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2716</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">container._dndScrollAction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2717</span> </span><span class="WHIT">				</span><span class="NAME">container._dndScrollAction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl._dndScroll</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">params</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2718</span> </span><span class="WHIT">				</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2719</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2720</span> </span><span class="WHIT">			</span><span class="COMM">// launch scrolling loop</span><span class="WHIT">
<span class="line">2721</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2722</span> </span><span class="WHIT">				</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">container._dndScrollAction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2723</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2724</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2725</span> </span><span class="WHIT">			</span><span class="COMM">// stop scrolling</span><span class="WHIT">
<span class="line">2726</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2727</span> </span><span class="WHIT">				</span><span class="NAME">AjxTimedAction.cancelAction</span><span class="PUNC">(</span><span class="NAME">container._dndScrollActionId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2728</span> </span><span class="WHIT">				</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2729</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2730</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2731</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2732</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2733</span> 
<span class="line">2734</span> </span><span class="COMM">/**
<span class="line">2735</span>  * @private
<span class="line">2736</span>  */</span><span class="WHIT">
<span class="line">2737</span> </span><span class="NAME">DwtControl._dndScroll</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2738</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">params</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2739</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">container</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">params.container</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2740</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">containerTop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.toWindow</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtPoint.tmp</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2741</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">containerH</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getSize</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtPoint.tmp</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2742</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scroll</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">container.scrollTop</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2743</span> </span><span class="WHIT">	</span><span class="COMM">// if we are to scroll, make sure there is more scrolling to be done</span><span class="WHIT">
<span class="line">2744</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">container._scrollAmt</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">scroll</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">container._scrollAmt</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">scroll</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">containerH</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">container.scrollHeight</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2745</span> </span><span class="WHIT">		</span><span class="NAME">container.scrollTop</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">container._scrollAmt</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2746</span> </span><span class="WHIT">		</span><span class="NAME">container._dndScrollActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">container._dndScrollAction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params.interval</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2747</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2748</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2749</span> 
<span class="line">2750</span> </span><span class="COMM">/**
<span class="line">2751</span>  * @private
<span class="line">2752</span>  */</span><span class="WHIT">
<span class="line">2753</span> </span><span class="NAME">DwtControl.__keyPressHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2754</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2755</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2756</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2757</span> 
<span class="line">2758</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__hasToolTipContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2759</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2760</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">manager</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2761</span> </span><span class="WHIT">		</span><span class="NAME">manager.setHoverOutListener</span><span class="PUNC">(</span><span class="NAME">obj._hoverOutListener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2762</span> </span><span class="WHIT">		</span><span class="NAME">manager.hoverOut</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2763</span> </span><span class="WHIT">		</span><span class="NAME">obj.__tooltipClosed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2764</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2765</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2766</span> 
<span class="line">2767</span> 
<span class="line">2768</span> </span><span class="COMM">/**
<span class="line">2769</span>  * @private
<span class="line">2770</span>  */</span><span class="WHIT">
<span class="line">2771</span> </span><span class="NAME">DwtControl.__keyUpHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2772</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtKeyboardMgr.__keyUpHdlr.apply</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2773</span> 
<span class="line">2774</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2775</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2776</span> 
<span class="line">2777</span> </span><span class="WHIT">	</span><span class="COMM">/* TODO */</span><span class="WHIT">
<span class="line">2778</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2779</span> 
<span class="line">2780</span> </span><span class="COMM">/**
<span class="line">2781</span>  * @private
<span class="line">2782</span>  */</span><span class="WHIT">
<span class="line">2783</span> </span><span class="NAME">DwtControl.__keyDownHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2784</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtKeyboardMgr.__keyDownHdlr.apply</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2785</span> 
<span class="line">2786</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2787</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2788</span> 
<span class="line">2789</span> </span><span class="WHIT">	</span><span class="COMM">/* TODO */</span><span class="WHIT">
<span class="line">2790</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2791</span> 
<span class="line">2792</span> </span><span class="COMM">/**
<span class="line">2793</span>  * @private
<span class="line">2794</span>  */</span><span class="WHIT">
<span class="line">2795</span> </span><span class="NAME">DwtControl.__focusHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2796</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2797</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2798</span> 
<span class="line">2799</span> </span><span class="WHIT">	</span><span class="NAME">obj.__doFocus</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2800</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2801</span> 
<span class="line">2802</span> </span><span class="COMM">/**
<span class="line">2803</span>  * @private
<span class="line">2804</span>  */</span><span class="WHIT">
<span class="line">2805</span> </span><span class="NAME">DwtControl.__blurHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2806</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2807</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2808</span> 
<span class="line">2809</span> </span><span class="WHIT">	</span><span class="NAME">obj.__doBlur</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2810</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2811</span> 
<span class="line">2812</span> </span><span class="COMM">/**
<span class="line">2813</span>  * Returns true if the control has static tooltip content, or if it has overridden
<span class="line">2814</span>  * getToolTipContent() to return dynamic content. Essentially, it means that this
<span class="line">2815</span>  * control provides tooltips and will need to use the hover mgr.
<span class="line">2816</span>  *
<span class="line">2817</span>  * @private
<span class="line">2818</span>  */</span><span class="WHIT">
<span class="line">2819</span> </span><span class="NAME">DwtControl.prototype.__hasToolTipContent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2820</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2821</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._disposed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2822</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Boolean</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._browserToolTip</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.__toolTipContent</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.getToolTipContent</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">DwtControl.prototype.getToolTipContent</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2823</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2824</span> 
<span class="line">2825</span> </span><span class="COMM">/**
<span class="line">2826</span>  * This &#34;private&#34; method is actually called by &lt;i&gt;DwtKeyboardMgr&lt;/i&gt; to indicate
<span class="line">2827</span>  * that the control is being blurred. Subclasses should override the &lt;i&gt;_blur&lt;/i&gt;
<span class="line">2828</span>  * method
<span class="line">2829</span>  *
<span class="line">2830</span>  * @private
<span class="line">2831</span>  */</span><span class="WHIT">
<span class="line">2832</span> </span><span class="NAME">DwtControl.prototype.__doBlur</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2833</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2834</span> </span><span class="WHIT">	</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.FOCUS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl.__doBlur for &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">&#34;, id: &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2835</span> 
<span class="line">2836</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2837</span> 
<span class="line">2838</span> </span><span class="WHIT">	</span><span class="NAME">this._hasFocus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2839</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONBLUR</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2840</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2841</span> </span><span class="WHIT">			</span><span class="NAME">ev</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.focusEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2842</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2843</span> 
<span class="line">2844</span> </span><span class="WHIT">		</span><span class="NAME">ev.dwtObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2845</span> </span><span class="WHIT">		</span><span class="NAME">ev.state</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtFocusEvent.BLUR</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2846</span> </span><span class="WHIT">		</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONBLUR</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2847</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2848</span> </span><span class="WHIT">	</span><span class="NAME">this._blur</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2849</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2850</span> 
<span class="line">2851</span> </span><span class="COMM">/**
<span class="line">2852</span>  * This &#34;private&#34; method is actually called by &lt;i&gt;DwtKeyboardMgr&lt;/i&gt; to indicate
<span class="line">2853</span>  * that the control is being focused. Subclasses should override the &lt;i&gt;_focus&lt;/i&gt;
<span class="line">2854</span>  * method
<span class="line">2855</span>  *
<span class="line">2856</span>  * @private
<span class="line">2857</span>  */</span><span class="WHIT">
<span class="line">2858</span> </span><span class="NAME">DwtControl.prototype.__doFocus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2859</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2860</span> </span><span class="WHIT">	</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.FOCUS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl.__doFocus for &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">&#34;, id: &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2861</span> 
<span class="line">2862</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this._checkState</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2863</span> 
<span class="line">2864</span> </span><span class="WHIT">	</span><span class="NAME">this._hasFocus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2865</span> 
<span class="line">2866</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isFocusable</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2867</span> </span><span class="WHIT">		</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">focus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2868</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2869</span> 
<span class="line">2870</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONFOCUS</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2871</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2872</span> </span><span class="WHIT">			</span><span class="NAME">ev</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.focusEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2873</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2874</span> 
<span class="line">2875</span> </span><span class="WHIT">		</span><span class="NAME">ev.dwtObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2876</span> </span><span class="WHIT">		</span><span class="NAME">ev.state</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtFocusEvent.FOCUS</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2877</span> </span><span class="WHIT">		</span><span class="NAME">this.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONFOCUS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2878</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2879</span> </span><span class="WHIT">	</span><span class="NAME">this._focus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2880</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2881</span> 
<span class="line">2882</span> </span><span class="COMM">/**
<span class="line">2883</span>  * @private
<span class="line">2884</span>  */</span><span class="WHIT">
<span class="line">2885</span> </span><span class="NAME">DwtControl.__clickHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2886</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2887</span> 
<span class="line">2888</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2889</span> 
<span class="line">2890</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONCLICK</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2891</span> 
<span class="line">2892</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2893</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2894</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2895</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2896</span> 
<span class="line">2897</span> </span><span class="COMM">/**
<span class="line">2898</span>  * @private
<span class="line">2899</span>  */</span><span class="WHIT">
<span class="line">2900</span> </span><span class="NAME">DwtControl.__dblClickHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2901</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2902</span> 
<span class="line">2903</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2904</span> 
<span class="line">2905</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2906</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._dblClickIsolation</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2907</span> </span><span class="WHIT">		</span><span class="NAME">obj._clickPending</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2908</span> </span><span class="WHIT">		</span><span class="NAME">AjxTimedAction.cancelAction</span><span class="PUNC">(</span><span class="NAME">obj._dblClickActionId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2909</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2910</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONDBLCLICK</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2911</span> 
<span class="line">2912</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2913</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2914</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2915</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2916</span> 
<span class="line">2917</span> </span><span class="COMM">/**
<span class="line">2918</span>  * @private
<span class="line">2919</span>  */</span><span class="WHIT">
<span class="line">2920</span> </span><span class="NAME">DwtControl.__mouseOverHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2921</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">evType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2922</span> 
<span class="line">2923</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2924</span> 
<span class="line">2925</span> </span><span class="WHIT">	</span><span class="COMM">// Check to see if a drag is occurring. If so, don&#39;t process the mouse</span><span class="WHIT">
<span class="line">2926</span> </span><span class="WHIT">	</span><span class="COMM">// over events.</span><span class="WHIT">
<span class="line">2927</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtMouseEventCapture.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">DwtMouseEventCapture.getCaptureObj</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2928</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2929</span> </span><span class="WHIT">		</span><span class="NAME">ev</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtUiEvent.getEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2930</span> </span><span class="WHIT">		</span><span class="NAME">ev._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2931</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2932</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2933</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2934</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2935</span> </span><span class="WHIT">	</span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOVER</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2936</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOVER</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._ignoreInternalOverOut</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2937</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">otherObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2938</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">otherObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2939</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2940</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2941</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2942</span> 
<span class="line">2943</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2944</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2945</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2946</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.hoverStarted</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// don&#39;t handle hover if it has already begun</span><span class="WHIT">
<span class="line">2947</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">evType</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2948</span> </span><span class="WHIT">			</span><span class="NAME">obj.notifyListeners</span><span class="PUNC">(</span><span class="NAME">evType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2949</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2950</span> </span><span class="WHIT">		</span><span class="COMM">// Call the tooltip after the listeners to give them a</span><span class="WHIT">
<span class="line">2951</span> </span><span class="WHIT">		</span><span class="COMM">// chance to change the tooltip text.</span><span class="WHIT">
<span class="line">2952</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__hasToolTipContent</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">mouseEv.hoverStarted</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2953</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2954</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">manager</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2955</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">manager.isHovering</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">manager.getHoverObject</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">DwtMenu.menuShowing</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2956</span> </span><span class="WHIT">				</span><span class="NAME">manager.reset</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2957</span> </span><span class="WHIT">				</span><span class="NAME">manager.setHoverObject</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2958</span> </span><span class="WHIT">				</span><span class="NAME">manager.setHoverOverData</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2959</span> </span><span class="WHIT">				</span><span class="NAME">manager.setHoverOverDelay</span><span class="PUNC">(</span><span class="NAME">DwtToolTip.TOOLTIP_DELAY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2960</span> </span><span class="WHIT">				</span><span class="NAME">manager.setHoverOverListener</span><span class="PUNC">(</span><span class="NAME">obj._hoverOverListener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2961</span> </span><span class="WHIT">				</span><span class="NAME">manager.hoverOver</span><span class="PUNC">(</span><span class="NAME">mouseEv.docX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2962</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2963</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2964</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2965</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2966</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv._returnValue</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2967</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv.setToDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2968</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2969</span> 
<span class="line">2970</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2971</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2972</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2973</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2974</span> 
<span class="line">2975</span> </span><span class="COMM">/**
<span class="line">2976</span>  * @private
<span class="line">2977</span>  */</span><span class="WHIT">
<span class="line">2978</span> </span><span class="NAME">DwtControl.__mouseEnterHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2979</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2980</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseOverHdlr</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEENTER</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2981</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2982</span> 
<span class="line">2983</span> </span><span class="COMM">/**
<span class="line">2984</span>  * @private
<span class="line">2985</span>  */</span><span class="WHIT">
<span class="line">2986</span> </span><span class="NAME">DwtControl.__mouseDownHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">2987</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2988</span> 
<span class="line">2989</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2990</span> 
<span class="line">2991</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2992</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">2993</span> 
<span class="line">2994</span> </span><span class="WHIT">	</span><span class="NAME">ev</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtUiEvent.getEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2995</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2996</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2997</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">mouseEv.button</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtMouseEvent.LEFT</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">2998</span> </span><span class="WHIT">		</span><span class="NAME">obj._focusByMouseDownEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">2999</span> </span><span class="WHIT">		</span><span class="COMM">// reset our event - above call can set type to &#34;blur&#34; (at least in FF)</span><span class="WHIT">
<span class="line">3000</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3001</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3002</span> 
<span class="line">3003</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__hasToolTipContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3004</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3005</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">manager</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3006</span> </span><span class="WHIT">		</span><span class="NAME">manager.setHoverOutListener</span><span class="PUNC">(</span><span class="NAME">obj._hoverOutListener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3007</span> </span><span class="WHIT">		</span><span class="NAME">manager.hoverOut</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3008</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3009</span> 
<span class="line">3010</span> </span><span class="WHIT">	</span><span class="COMM">// If we have a dragSource, then we need to start capturing mouse events</span><span class="WHIT">
<span class="line">3011</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">mouseEv.button</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtMouseEvent.LEFT</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._isValidDragObject</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3012</span> </span><span class="WHIT">		</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3013</span> </span><span class="WHIT">			</span><span class="NAME">obj._ctrlCaptureObj.capture</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3014</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3015</span> </span><span class="WHIT">			</span><span class="NAME">DBG.dumpObj</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3016</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3017</span> </span><span class="WHIT">		</span><span class="NAME">obj._dragOp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj._getDragOp</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3018</span> </span><span class="WHIT">		</span><span class="NAME">obj.__dragStartX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.docX</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3019</span> </span><span class="WHIT">		</span><span class="NAME">obj.__dragStartY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3020</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3021</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3022</span> </span><span class="WHIT">		</span><span class="COMM">// We do mouse capture for drag boxes mostly because the mouseup can come from anywhere, and we</span><span class="WHIT">
<span class="line">3023</span> </span><span class="WHIT">		</span><span class="COMM">// want to handle it, usually by destroying the box.</span><span class="WHIT">
<span class="line">3024</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragBox._setStart</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3025</span> </span><span class="WHIT">			</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3026</span> </span><span class="WHIT">				</span><span class="NAME">obj._ctrlCaptureObj.capture</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3027</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3028</span> </span><span class="WHIT">				</span><span class="NAME">DBG.dumpObj</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3029</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3030</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3031</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3032</span> 
<span class="line">3033</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEDOWN</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3034</span> 
<span class="line">3035</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3036</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3037</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3038</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3039</span> 
<span class="line">3040</span> </span><span class="COMM">/**
<span class="line">3041</span>  * @private
<span class="line">3042</span>  */</span><span class="WHIT">
<span class="line">3043</span> </span><span class="NAME">DwtControl.__mouseMoveHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3044</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3045</span> 
<span class="line">3046</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3047</span> 
<span class="line">3048</span> </span><span class="WHIT">	</span><span class="COMM">// Find the target control. If we&#39;re doing capture (DnD), we get it from the capture object.</span><span class="WHIT">
<span class="line">3049</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtMouseEventCapture.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">DwtMouseEventCapture.getCaptureObj</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3050</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">captureObj.targetObj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3051</span> </span><span class="WHIT"> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3052</span> 
<span class="line">3053</span> </span><span class="WHIT">	</span><span class="COMM">// DnD hover cancel point</span><span class="WHIT">
<span class="line">3054</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dndHoverActionId</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3055</span> </span><span class="WHIT">		</span><span class="NAME">AjxTimedAction.cancelAction</span><span class="PUNC">(</span><span class="NAME">obj.__dndHoverActionId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3056</span> </span><span class="WHIT">		</span><span class="NAME">obj.__dndHoverActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3057</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3058</span> 
<span class="line">3059</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3060</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3061</span> 
<span class="line">3062</span> </span><span class="WHIT">	</span><span class="COMM">// This following can happen during a DnD operation if the mouse moves</span><span class="WHIT">
<span class="line">3063</span> </span><span class="WHIT">	</span><span class="COMM">// out the window. This seems to happen on IE only.</span><span class="WHIT">
<span class="line">3064</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">mouseEv.docX</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3065</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3066</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._returnValue</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3067</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setToDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3068</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3069</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3070</span> 
<span class="line">3071</span> </span><span class="WHIT">	</span><span class="COMM">// If we are not draggable or if we have not started dragging and are</span><span class="WHIT">
<span class="line">3072</span> </span><span class="WHIT">	</span><span class="COMM">// within the Drag threshold then handle it as a move.</span><span class="WHIT">
<span class="line">3073</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">doingDnD</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT">
<span class="line">3074</span> </span><span class="WHIT">			</span><span class="PUNC">(</span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">obj.__dragStartX</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">mouseEv.docX</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&gt;=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__DRAG_THRESHOLD</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">
<span class="line">3075</span> </span><span class="WHIT">			 </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">obj.__dragStartY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&gt;=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__DRAG_THRESHOLD</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3076</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">doingDragBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._dragBox</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._dragBox._dragObj</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3077</span> 
<span class="line">3078</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">doingDnD</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">doingDragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3079</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__hasToolTipContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3080</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3081</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">manager</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3082</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj.__tooltipClosed</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">DwtMenu.menuShowing</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3083</span> </span><span class="WHIT">				</span><span class="COMM">// NOTE: mouseOver already init&#39;d other hover settings</span><span class="WHIT">
<span class="line">3084</span> </span><span class="WHIT">				</span><span class="COMM">// We do hoverOver() here since the mouse may have moved during</span><span class="WHIT">
<span class="line">3085</span> </span><span class="WHIT">				</span><span class="COMM">// the delay, and we want to use latest x,y</span><span class="WHIT">
<span class="line">3086</span> </span><span class="WHIT">				</span><span class="NAME">manager.hoverOver</span><span class="PUNC">(</span><span class="NAME">mouseEv.docX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3087</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3088</span> </span><span class="WHIT">				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj.__lastTooltipX</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">mouseEv.docX</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">obj.__lastTooltipX</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3089</span> </span><span class="WHIT">				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj.__lastTooltipY</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">mouseEv.docY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">obj.__lastTooltipY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3090</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NAME">DwtControl.__TOOLTIP_THRESHOLD</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">
<span class="line">3091</span> </span><span class="WHIT">					</span><span class="PUNC">(</span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NAME">DwtControl.__TOOLTIP_THRESHOLD</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3092</span> </span><span class="WHIT">					</span><span class="NAME">manager.setHoverOutListener</span><span class="PUNC">(</span><span class="NAME">obj._hoverOutListener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3093</span> </span><span class="WHIT">					</span><span class="NAME">manager.hoverOut</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3094</span> </span><span class="WHIT">					</span><span class="NAME">obj.__tooltipClosed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// prevent tooltip popup during moves in this object</span><span class="WHIT">
<span class="line">3095</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3096</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3097</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3098</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEMOVE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3099</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3100</span> </span><span class="WHIT">		</span><span class="COMM">// If we are not dragging, try to begin a drag operation, which may be either DnD or drawing a box.</span><span class="WHIT">
<span class="line">3101</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3102</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3103</span> </span><span class="WHIT">				</span><span class="NAME">obj._dragOp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj._dragSource._beginDrag</span><span class="PUNC">(</span><span class="NAME">obj._dragOp</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3104</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragOp</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">Dwt.DND_DROP_NONE</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3105</span> </span><span class="WHIT">					</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAGGING</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3106</span> </span><span class="WHIT">					</span><span class="NAME">obj._dndProxy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj._getDragProxy</span><span class="PUNC">(</span><span class="NAME">obj._dragOp</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3107</span> </span><span class="WHIT">					</span><span class="NAME">Dwt.addClass</span><span class="PUNC">(</span><span class="NAME">obj._dndProxy</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;DwtDragProxy&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3108</span> </span><span class="WHIT">					</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj._dndProxy</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3109</span> </span><span class="WHIT">						</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAG_REJECTED</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3110</span> </span><span class="WHIT">					</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3111</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3112</span> </span><span class="WHIT">					</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAG_REJECTED</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3113</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3114</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3115</span> </span><span class="WHIT">			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3116</span> </span><span class="WHIT">				</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAGGING</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3117</span> </span><span class="WHIT">				</span><span class="NAME">obj._dragBox._beginDrag</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3118</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3119</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3120</span> 
<span class="line">3121</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAG_REJECTED</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3122</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.dwtObj</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3123</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3124</span> </span><span class="WHIT">				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">targetObj._dropTarget</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3125</span> </span><span class="WHIT">				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj.__lastTargetObj</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3126</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3127</span> </span><span class="WHIT">					</span><span class="COMM">// Set up the drag hover event. we will even let this item hover over itself as there may be</span><span class="WHIT">
<span class="line">3128</span> </span><span class="WHIT">					</span><span class="COMM">// scenarios where that will hold true</span><span class="WHIT">
<span class="line">3129</span> </span><span class="WHIT">					</span><span class="NAME">obj._dndHoverAction.args</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3130</span> </span><span class="WHIT">					</span><span class="NAME">obj.__dndHoverActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">obj._dndHoverAction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.__DND_HOVER_DELAY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3131</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3132</span> 
<span class="line">3133</span> </span><span class="WHIT">				</span><span class="COMM">// See if the target will allow us to be dropped on it. We have to be an allowable type, and the</span><span class="WHIT">
<span class="line">3134</span> </span><span class="WHIT">				</span><span class="COMM">// target&#39;s drop listener may perform additional checks. The DnD icon will typically turn green or</span><span class="WHIT">
<span class="line">3135</span> </span><span class="WHIT">				</span><span class="COMM">// red to indicate whether a drop is allowed.</span><span class="WHIT">
<span class="line">3136</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">dropTarget.hasMultipleTargets</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3137</span> </span><span class="WHIT">					</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">dropTarget.hasMultipleTargets</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3138</span> </span><span class="WHIT">						</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj._dragSource._getData</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3139</span> </span><span class="WHIT">						</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">dropTarget._dragEnter</span><span class="PUNC">(</span><span class="NAME">obj._dragOp</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj._dndProxy</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3140</span> </span><span class="WHIT">							</span><span class="NAME">obj._setDragProxyState</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3141</span> </span><span class="WHIT">							</span><span class="NAME">obj.__dropAllowed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3142</span> </span><span class="WHIT">							</span><span class="NAME">targetObj._dragEnter</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3143</span> </span><span class="WHIT">						</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3144</span> </span><span class="WHIT">							</span><span class="NAME">obj._setDragProxyState</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3145</span> </span><span class="WHIT">							</span><span class="NAME">obj.__dropAllowed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3146</span> </span><span class="WHIT">						</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3147</span> </span><span class="WHIT">					</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dropAllowed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3148</span> </span><span class="WHIT">						</span><span class="NAME">targetObj._dragOver</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3149</span> </span><span class="WHIT">					</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3150</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3151</span> </span><span class="WHIT">					</span><span class="NAME">obj._setDragProxyState</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3152</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3153</span> 
<span class="line">3154</span> </span><span class="WHIT">				</span><span class="COMM">// Tell the previous target that we&#39;re no longer being dragged over it.</span><span class="WHIT">
<span class="line">3155</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">lastTargetObj._dropTarget</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3156</span> </span><span class="WHIT">					</span><span class="COMM">// check if obj dragged out of scrollable container</span><span class="WHIT">
<span class="line">3157</span> </span><span class="WHIT">					</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">targetObj._dndScrollCallback</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">lastTargetObj._dndScrollCallback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3158</span> </span><span class="WHIT">						</span><span class="NAME">lastTargetObj._dndScrollCallback.run</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3159</span> </span><span class="WHIT">					</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3160</span> 
<span class="line">3161</span> </span><span class="WHIT">					</span><span class="NAME">lastTargetObj._dragLeave</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3162</span> </span><span class="WHIT">					</span><span class="NAME">lastTargetObj._dropTarget._dragLeave</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3163</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3164</span> 
<span class="line">3165</span> </span><span class="WHIT">				</span><span class="NAME">obj.__lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3166</span> 
<span class="line">3167</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">targetObj._dndScrollCallback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3168</span> </span><span class="WHIT">					</span><span class="NAME">targetObj._dndScrollCallback.run</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3169</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3170</span> 
<span class="line">3171</span> </span><span class="WHIT">				</span><span class="COMM">// Move the DnD icon. We offset the location slightly so the icon doesn&#39;t receive the mousemove events.</span><span class="WHIT">
<span class="line">3172</span> </span><span class="WHIT">				</span><span class="NAME">Dwt.setLocation</span><span class="PUNC">(</span><span class="NAME">obj._dndProxy</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv.docX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3173</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3174</span> 
<span class="line">3175</span> </span><span class="WHIT">			</span><span class="COMM">// We keep drawing a drag box as long as we&#39;re still over the owning object. We need to check its child</span><span class="WHIT">
<span class="line">3176</span> </span><span class="WHIT">			</span><span class="COMM">// objects, and whether we&#39;re over the box itself (in case the user reverses direction).</span><span class="WHIT">
<span class="line">3177</span> </span><span class="WHIT">			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3178</span> </span><span class="WHIT">				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">evTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtUiEvent.getTarget</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3179</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">Dwt.isAncestor</span><span class="PUNC">(</span><span class="NAME">obj.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">evTarget</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">evTarget</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">obj._dragSelectionBox</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3180</span> </span><span class="WHIT">					</span><span class="NAME">obj._dragBox._dragMove</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3181</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3182</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3183</span> 
<span class="line">3184</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3185</span> </span><span class="WHIT">			</span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEMOVE</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3186</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3187</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3188</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._returnValue</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3189</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setToDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3190</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3191</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3192</span> 
<span class="line">3193</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3194</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3195</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3196</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3197</span> 
<span class="line">3198</span> </span><span class="COMM">/**
<span class="line">3199</span>  * @private
<span class="line">3200</span>  */</span><span class="WHIT">
<span class="line">3201</span> </span><span class="NAME">DwtControl.__mouseUpHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3202</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3203</span> 
<span class="line">3204</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3205</span> 
<span class="line">3206</span> </span><span class="WHIT">	</span><span class="COMM">// Find the target control. If we&#39;re doing capture (DnD), we get it from the capture object.</span><span class="WHIT">
<span class="line">3207</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtMouseEventCapture.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;DwtControl&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">DwtMouseEventCapture.getCaptureObj</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3208</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">captureObj.targetObj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3209</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3210</span> 
<span class="line">3211</span> </span><span class="WHIT">	</span><span class="COMM">// DnD hover cancel point</span><span class="WHIT">
<span class="line">3212</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dndHoverActionId</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3213</span> </span><span class="WHIT">		</span><span class="NAME">AjxTimedAction.cancelAction</span><span class="PUNC">(</span><span class="NAME">obj.__dndHoverActionId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3214</span> </span><span class="WHIT">		</span><span class="NAME">obj.__dndHoverActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3215</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3216</span> 
<span class="line">3217</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3218</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3219</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">captureObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">obj._dragBox</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3220</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__processMouseUpEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3221</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3222</span> </span><span class="WHIT">		</span><span class="NAME">captureObj.release</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3223</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">DwtControl._DRAGGING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3224</span> </span><span class="WHIT">			</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3225</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__processMouseUpEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3226</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3227</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3228</span> </span><span class="WHIT">			</span><span class="NAME">obj.__lastTargetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3229</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.dwtObj</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3230</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">targetObj._dropTarget</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3231</span> </span><span class="WHIT">			</span><span class="COMM">// Perform the drop if the target has allowed it</span><span class="WHIT">
<span class="line">3232</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj.__dropAllowed</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">dropTarget.hasMultipleTargets</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3233</span> </span><span class="WHIT">				</span><span class="NAME">targetObj._drop</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3234</span> </span><span class="WHIT">				</span><span class="NAME">dropTarget._drop</span><span class="PUNC">(</span><span class="NAME">obj._dragSource._getData</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3235</span> </span><span class="WHIT">				</span><span class="NAME">obj._dragSource._endDrag</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3236</span> </span><span class="WHIT">				</span><span class="NAME">obj._destroyDragProxy</span><span class="PUNC">(</span><span class="NAME">obj._dndProxy</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3237</span> </span><span class="WHIT">				</span><span class="NAME">obj._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3238</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3239</span> </span><span class="WHIT">				</span><span class="NAME">DwtControl.__badDrop</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3240</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3241</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">targetObj._dndScrollCallback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3242</span> </span><span class="WHIT">				</span><span class="NAME">targetObj._dndScrollCallback.run</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3243</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3244</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3245</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3246</span> </span><span class="WHIT">			</span><span class="NAME">obj._dragBox._endDrag</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3247</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3248</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3249</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv._returnValue</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3250</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setToDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3251</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3252</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3253</span> 
<span class="line">3254</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3255</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3256</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3257</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3258</span> 
<span class="line">3259</span> </span><span class="COMM">/**
<span class="line">3260</span>  * Handles a bad DND drop operation by showing an animation of the icon flying
<span class="line">3261</span>  * back to its origin.
<span class="line">3262</span>  *
<span class="line">3263</span>  * @param obj		[DwtControl]	control that underlies drag operation
<span class="line">3264</span>  * @param mouseEv	[DwtMouseEvent]	mouse event
<span class="line">3265</span>  * @private
<span class="line">3266</span>  */</span><span class="WHIT">
<span class="line">3267</span> </span><span class="NAME">DwtControl.__badDrop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3268</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3269</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dragSource</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3270</span> </span><span class="WHIT">		</span><span class="NAME">obj._dragSource._cancelDrag</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3271</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3272</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">targetObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.dwtObj</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3273</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">targetObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3274</span> </span><span class="WHIT">       </span><span class="NAME">targetObj._drop</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3275</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3276</span> </span><span class="WHIT">	</span><span class="COMM">// The following code sets up the drop effect for when an</span><span class="WHIT">
<span class="line">3277</span> </span><span class="WHIT">	</span><span class="COMM">// item is dropped onto an invalid target. Basically the</span><span class="WHIT">
<span class="line">3278</span> </span><span class="WHIT">	</span><span class="COMM">// drag icon will spring back to its starting location.</span><span class="WHIT">
<span class="line">3279</span> </span><span class="WHIT">	</span><span class="NAME">obj.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.docX</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3280</span> </span><span class="WHIT">	</span><span class="NAME">obj.__dragEndY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.docY</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3281</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__badDropAction</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3282</span> </span><span class="WHIT">		</span><span class="NAME">obj.__badDropAction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj.__badDropEffect</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3283</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3284</span> 
<span class="line">3285</span> </span><span class="WHIT">	</span><span class="COMM">// Line equation is y = mx + c. Solve for c, and set up d (direction)</span><span class="WHIT">
<span class="line">3286</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">m</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dragEndY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">obj.__dragStartY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">obj.__dragStartX</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3287</span> </span><span class="WHIT">	</span><span class="NAME">obj.__badDropAction.args</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj.__dragStartY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">m</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">obj.__dragStartX</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__dragStartX</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">obj.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3288</span> </span><span class="WHIT">	</span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">obj.__badDropAction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3289</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3290</span> 
<span class="line">3291</span> </span><span class="COMM">/**
<span class="line">3292</span>  * Handle double clicks in isolation, if requested (if not, events are handled
<span class="line">3293</span>  * normally). On the first click, we set a &#39;click pending&#39; flag and start a timer.
<span class="line">3294</span>  * If the timer expires before another click arrives, we process the single click.
<span class="line">3295</span>  * If a double-click event arrives before the timer expires, then we process the
<span class="line">3296</span>  * double-click event.
<span class="line">3297</span>  * @private
<span class="line">3298</span>  */</span><span class="WHIT">
<span class="line">3299</span> </span><span class="NAME">DwtControl.__processMouseUpEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3300</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3301</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3302</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">hoverMgr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3303</span> </span><span class="WHIT">	</span><span class="NAME">hoverMgr.ignoreHoverOverOnClick</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3304</span> 
<span class="line">3305</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._dblClickIsolation</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">mouseEv.button</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtMouseEvent.LEFT</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3306</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj._clickPending</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3307</span> </span><span class="WHIT">			</span><span class="COMM">// wait for real dblclick event</span><span class="WHIT">
<span class="line">3308</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3309</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3310</span> </span><span class="WHIT">			</span><span class="NAME">obj._clickPending</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3311</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.__timedClick</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3312</span> </span><span class="WHIT">			</span><span class="NAME">obj._dblClickActionId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">ta</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.__DBL_CLICK_TIMEOUT</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3313</span> </span><span class="WHIT">			</span><span class="NAME">DwtUiEvent.setBehaviour</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3314</span> </span><span class="WHIT">			</span><span class="NAME">obj._st</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3315</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3316</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3317</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3318</span> </span><span class="WHIT">		</span><span class="NAME">obj._clickPending</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3319</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3320</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3321</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3322</span> 
<span class="line">3323</span> </span><span class="NAME">DwtControl.__timedClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3324</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3325</span> </span><span class="WHIT">	</span><span class="NAME">obj._clickPending</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3326</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3327</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3328</span> 
<span class="line">3329</span> </span><span class="COMM">/**
<span class="line">3330</span>  * @private
<span class="line">3331</span>  */</span><span class="WHIT">
<span class="line">3332</span> </span><span class="NAME">DwtControl.__mouseOutHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3333</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">evType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3334</span> 
<span class="line">3335</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3336</span> 
<span class="line">3337</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3338</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3339</span> </span><span class="WHIT">	</span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3340</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj._ignoreInternalOverOut</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3341</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">otherObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3342</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">otherObj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3343</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3344</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3345</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3346</span> 
<span class="line">3347</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__hasToolTipContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3348</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3349</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">manager</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">shell.getHoverMgr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3350</span> </span><span class="WHIT">			</span><span class="NAME">manager.setHoverOutListener</span><span class="PUNC">(</span><span class="NAME">obj._hoverOutListener</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3351</span> </span><span class="WHIT">			</span><span class="NAME">manager.hoverOut</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3352</span> </span><span class="WHIT">			</span><span class="NAME">obj.__tooltipClosed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3353</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3354</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">evType</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3355</span> 
<span class="line">3356</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3357</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3358</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3359</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3360</span> 
<span class="line">3361</span> </span><span class="COMM">/**
<span class="line">3362</span>  * @private
<span class="line">3363</span>  */</span><span class="WHIT">
<span class="line">3364</span> </span><span class="NAME">DwtControl.__mouseLeaveHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3365</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3366</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseOutHdlr</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSELEAVE</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3367</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3368</span> 
<span class="line">3369</span> </span><span class="COMM">/**
<span class="line">3370</span>  * @private
<span class="line">3371</span>  */</span><span class="WHIT">
<span class="line">3372</span> </span><span class="NAME">DwtControl.__mouseWheelHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3373</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3374</span> 
<span class="line">3375</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3376</span> 
<span class="line">3377</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEWHEEL</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3378</span> 
<span class="line">3379</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3380</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3381</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3382</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3383</span> 
<span class="line">3384</span> </span><span class="COMM">/**
<span class="line">3385</span>  * @private
<span class="line">3386</span>  */</span><span class="WHIT">
<span class="line">3387</span> </span><span class="NAME">DwtControl.__selectStartHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3388</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3389</span> 
<span class="line">3390</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3391</span> 
<span class="line">3392</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONSELECTSTART</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3393</span> 
<span class="line">3394</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3395</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3396</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3397</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3398</span> 
<span class="line">3399</span> </span><span class="COMM">/**
<span class="line">3400</span>  * Note: if there is also a mousedown handler, oncontextmenu is no longer sent, so be careful.
<span class="line">3401</span>  *
<span class="line">3402</span>  * @private
<span class="line">3403</span>  */</span><span class="WHIT">
<span class="line">3404</span> </span><span class="NAME">DwtControl.__contextMenuHdlr</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3405</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3406</span> 
<span class="line">3407</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3408</span> 
<span class="line">3409</span> </span><span class="WHIT">	</span><span class="COMM">// for Safari, we have to fake a right click</span><span class="WHIT">
<span class="line">3410</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxEnv.isSafari</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3411</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3412</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">prevent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj.preventContextMenu</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3413</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">prevent</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3414</span> </span><span class="WHIT">			</span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEDOWN</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3415</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3416</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3417</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3418</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONCONTEXTMENU</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3419</span> 
<span class="line">3420</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3421</span> </span><span class="WHIT">		</span><span class="NAME">AjxException.reportScriptError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3422</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3423</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3424</span> 
<span class="line">3425</span> </span><span class="COMM">/**
<span class="line">3426</span>  * @private
<span class="line">3427</span>  */</span><span class="WHIT">
<span class="line">3428</span> </span><span class="NAME">DwtControl.__mouseEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3429</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3430</span> 
<span class="line">3431</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">DwtControl.getTargetControl</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3432</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3433</span> 
<span class="line">3434</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3435</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3436</span> </span><span class="WHIT">		</span><span class="NAME">mouseEv.setFromDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3437</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3438</span> 
<span class="line">3439</span> </span><span class="WHIT">	</span><span class="COMM">// By default, we halt event processing. The default can be overridden here through</span><span class="WHIT">
<span class="line">3440</span> </span><span class="WHIT">	</span><span class="COMM">// the use of setEventPropagation(). A listener may also change the event props when called.</span><span class="WHIT">
<span class="line">3441</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mouseEv.target.tagName</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">mouseEv.target.tagName.toLowerCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3442</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">propagate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj._propagateEvent</span><span class="PUNC">[</span><span class="NAME">eventType</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">tn</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">&#34;input&#34;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">tn</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">&#34;textarea&#34;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">tn</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">&#34;a&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3443</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv._stopPropagation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">propagate</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3444</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv._dontCallPreventDefault</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">propagate</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3445</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv._returnValue</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">propagate</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3446</span> 
<span class="line">3447</span> </span><span class="WHIT">	</span><span class="COMM">// notify global listeners</span><span class="WHIT">
<span class="line">3448</span> </span><span class="WHIT">	</span><span class="NAME">DwtEventManager.notifyListeners</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3449</span> 
<span class="line">3450</span> </span><span class="WHIT">	</span><span class="COMM">// notify widget listeners</span><span class="WHIT">
<span class="line">3451</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.isListenerRegistered</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">obj.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3452</span> </span><span class="WHIT">		</span><span class="NAME">obj.notifyListeners</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3453</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3454</span> 
<span class="line">3455</span> </span><span class="WHIT">	</span><span class="COMM">// publish our settings to the DOM</span><span class="WHIT">
<span class="line">3456</span> </span><span class="WHIT">	</span><span class="NAME">mouseEv.setToDhtmlEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3457</span> 
<span class="line">3458</span> </span><span class="WHIT">	</span><span class="COMM">// Some screen readers exclusively trigger ONCLICK events, but</span><span class="WHIT">
<span class="line">3459</span> </span><span class="WHIT">	</span><span class="COMM">// Zimbra relies on ONMOUSEDOWN/ONMOUSEUP sequences for buttons</span><span class="WHIT">
<span class="line">3460</span> </span><span class="WHIT">	</span><span class="COMM">// and some other controls, so we detect non-mouse clicks and</span><span class="WHIT">
<span class="line">3461</span> </span><span class="WHIT">	</span><span class="COMM">// introduce the ability to &#39;fake&#39; ONMOUSEDOWN/ONMOUSEUP sequences</span><span class="WHIT">
<span class="line">3462</span> </span><span class="WHIT">	</span><span class="COMM">// for them. This triggers when the control element has a listener</span><span class="WHIT">
<span class="line">3463</span> </span><span class="WHIT">	</span><span class="COMM">// for ONCLICK, but the DwtControl doesn&#39;t.</span><span class="WHIT">
<span class="line">3464</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSELEAVE</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">
<span class="line">3465</span> </span><span class="WHIT">		</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3466</span> </span><span class="WHIT">		</span><span class="COMM">// we&#39;re &#39;switching&#39; elements, so the browser won&#39;t</span><span class="WHIT">
<span class="line">3467</span> </span><span class="WHIT">		</span><span class="COMM">// trigger a click event</span><span class="WHIT">
<span class="line">3468</span> </span><span class="WHIT">		</span><span class="NAME">obj.__ignoreNextClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3469</span> 
<span class="line">3470</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3471</span> </span><span class="WHIT">		</span><span class="COMM">// yes, ignore the next click -- ZCS&#39; built-in click-ish</span><span class="WHIT">
<span class="line">3472</span> </span><span class="WHIT">		</span><span class="COMM">// thing will work just fine</span><span class="WHIT">
<span class="line">3473</span> </span><span class="WHIT">		</span><span class="NAME">obj.__ignoreNextClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3474</span> 
<span class="line">3475</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONCLICK</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3476</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.__ignoreNextClick</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3477</span> </span><span class="WHIT">			</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.ACCESSIBILITY</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">3478</span> </span><span class="WHIT">			            </span><span class="STRN">&#34;DwtControl: ignoring a click!&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3479</span> </span><span class="WHIT">			</span><span class="NAME">obj.__ignoreNextClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3480</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3481</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3482</span> 
<span class="line">3483</span> </span><span class="WHIT">		</span><span class="COMM">// check whether the target control listens for clicks,</span><span class="WHIT">
<span class="line">3484</span> </span><span class="WHIT">		</span><span class="COMM">// and if not, fake a mouseup/mousedown event pair</span><span class="WHIT">
<span class="line">3485</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.isListenerRegistered</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">obj.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.ONCLICK</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3486</span> </span><span class="WHIT">			</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.ACCESSIBILITY</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">3487</span> </span><span class="WHIT">			            </span><span class="STRN">&#34;DwtControl: faking a click!&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3488</span> 
<span class="line">3489</span> </span><span class="WHIT">			</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEDOWN</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3490</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3491</span> </span><span class="WHIT">				</span><span class="NAME">ev.type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3492</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3493</span> 
<span class="line">3494</span> </span><span class="WHIT">			</span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3495</span> 
<span class="line">3496</span> </span><span class="WHIT">			</span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3497</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3498</span> </span><span class="WHIT">				</span><span class="NAME">ev.type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3499</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3500</span> 
<span class="line">3501</span> </span><span class="WHIT">			</span><span class="NAME">DwtControl.__mouseEvent</span><span class="PUNC">(</span><span class="NAME">ev</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3502</span> 
<span class="line">3503</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">DwtShell.mouseEvent._returnValue</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3504</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3505</span> </span><span class="WHIT">			</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.ACCESSIBILITY</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">3506</span> </span><span class="WHIT">			            </span><span class="STRN">&#34;DwtControl: skipping a click!&#34;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3507</span> </span><span class="WHIT">			</span><span class="NAME">window.console</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">console.warn</span><span class="PUNC">(</span><span class="STRN">&#39;skipping a click!&#39;</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3508</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3509</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3510</span> 
<span class="line">3511</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">mouseEv._returnValue</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3512</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3513</span> 
<span class="line">3514</span> </span><span class="COMM">// need to populate this hash after methods are defined</span><span class="WHIT">
<span class="line">3515</span> </span><span class="COMM">/**
<span class="line">3516</span>  * @private
<span class="line">3517</span>  */</span><span class="WHIT">
<span class="line">3518</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3519</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONCONTEXTMENU</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__contextMenuHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3520</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONCLICK</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__clickHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3521</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONDBLCLICK</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__dblClickHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3522</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEDOWN</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseDownHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3523</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEENTER</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseEnterHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3524</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSELEAVE</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseLeaveHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3525</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEMOVE</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseMoveHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3526</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEOUT</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseOutHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3527</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEOVER</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseOverHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3528</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEUP</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseUpHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3529</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONMOUSEWHEEL</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__mouseWheelHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3530</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONSELECTSTART</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__selectStartHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3531</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONKEYPRESS</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__keyPressHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3532</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONKEYUP</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__keyUpHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3533</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONKEYDOWN</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__keyDownHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3534</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONFOCUS</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__focusHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3535</span> </span><span class="NAME">DwtControl.__HANDLER</span><span class="PUNC">[</span><span class="NAME">DwtEvent.ONBLUR</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__blurHdlr</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3536</span> 
<span class="line">3537</span> </span><span class="COMM">/**
<span class="line">3538</span>  * @private
<span class="line">3539</span>  */</span><span class="WHIT">
<span class="line">3540</span> </span><span class="NAME">DwtControl.prototype.__initCtrl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3541</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3542</span> </span><span class="WHIT">	</span><span class="NAME">this.shell</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.parent.shell</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.parent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3543</span> </span><span class="WHIT">	</span><span class="COMM">// __internalId is for back-compatibility (was side effect of Dwt.associateElementWithObject)</span><span class="WHIT">
<span class="line">3544</span> </span><span class="WHIT">	</span><span class="NAME">this._htmlElId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.__internalId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">Dwt.getNextId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3545</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._elRef</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._createElement</span><span class="PUNC">(</span><span class="NAME">this._htmlElId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3546</span> </span><span class="WHIT">	</span><span class="NAME">htmlElement.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3547</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3548</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3549</span> </span><span class="WHIT">			</span><span class="NAME">DBG.println</span><span class="PUNC">(</span><span class="NAME">AjxDebug.DBG1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">&#34;Duplicate ID for &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">&#34;: &#34;</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this._htmlElId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3550</span> </span><span class="WHIT">			</span><span class="NAME">this._htmlElId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlElement.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.__internalId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtId.makeId</span><span class="PUNC">(</span><span class="NAME">this._htmlElId</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">Dwt.getNextId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3551</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3552</span> </span><span class="WHIT">		</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3553</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3554</span> </span><span class="WHIT">	</span><span class="NAME">DwtComposite._pendingElements</span><span class="PUNC">[</span><span class="NAME">this._htmlElId</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">htmlElement</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3555</span> </span><span class="WHIT">	</span><span class="NAME">htmlElement.style.position</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.__posStyle</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">DwtControl.STATIC_STYLE</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3556</span> </span><span class="WHIT">	</span><span class="NAME">htmlElement.className</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this._className</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3557</span> </span><span class="WHIT">	</span><span class="NAME">htmlElement.style.overflow</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;visible&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3558</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.role</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3559</span> </span><span class="WHIT">		</span><span class="NAME">htmlElement.setAttribute</span><span class="PUNC">(</span><span class="STRN">&#39;role&#39;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.role</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3560</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3561</span> </span><span class="WHIT">	</span><span class="NAME">this._enabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3562</span> </span><span class="WHIT">	</span><span class="NAME">this.__controlEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.__controlEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3563</span> </span><span class="WHIT">	</span><span class="NAME">this._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3564</span> </span><span class="WHIT">	</span><span class="NAME">this.__ctrlInited</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3565</span> 
<span class="line">3566</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.isFocusable</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3567</span> </span><span class="WHIT">		</span><span class="NAME">this._makeFocusable</span><span class="PUNC">(</span><span class="NAME">htmlElement</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3568</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3569</span> 
<span class="line">3570</span> </span><span class="WHIT">	</span><span class="COMM">// Make sure this is the last thing we do</span><span class="WHIT">
<span class="line">3571</span> </span><span class="WHIT">	</span><span class="NAME">this.parent.addChild</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__index</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3572</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3573</span> 
<span class="line">3574</span> </span><span class="COMM">/**
<span class="line">3575</span>  * Returns the container element to be used for this control.
<span class="line">3576</span>  * &lt;p&gt;
<span class="line">3577</span>  * &lt;strong&gt;Note:&lt;/strong&gt;
<span class="line">3578</span>  * The caller will overwrite the id of the returned element with the
<span class="line">3579</span>  * specified id.
<span class="line">3580</span>  *
<span class="line">3581</span>  * @param id [string] The id of the container element.
<span class="line">3582</span>  * @private
<span class="line">3583</span>  */</span><span class="WHIT">
<span class="line">3584</span> </span><span class="NAME">DwtControl.prototype._createElement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3585</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">&#34;DIV&#34;</span><span class="PUNC">)</span><span class="WHIT">
<span class="line">3586</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3587</span> 
<span class="line">3588</span> </span><span class="COMM">/**
<span class="line">3589</span>  * @private
<span class="line">3590</span>  */</span><span class="WHIT">
<span class="line">3591</span> </span><span class="NAME">DwtControl.prototype.__dndDoHover</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3592</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">control</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3593</span> </span><span class="WHIT">	</span><span class="COMM">//TODO Add allow hover?</span><span class="WHIT">
<span class="line">3594</span> </span><span class="WHIT">	</span><span class="NAME">control._dragHover</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3595</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3596</span> 
<span class="line">3597</span> </span><span class="COMM">/**
<span class="line">3598</span>  * This method is called when a drop happens on an invalid target. The code will
<span class="line">3599</span>  * animate the Drag icon back to its source before destroying it via &lt;code&gt;_destroyDragProxy&lt;/code&gt;
<span class="line">3600</span>  * @private
<span class="line">3601</span>  */</span><span class="WHIT">
<span class="line">3602</span> </span><span class="NAME">DwtControl.prototype.__badDropEffect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3603</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">m</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3604</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">usingX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">m</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3605</span> </span><span class="WHIT">	</span><span class="COMM">// Use the bigger delta to control the snap effect</span><span class="WHIT">
<span class="line">3606</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">delta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">usingX</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">this.__dragStartX</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">this.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">this.__dragStartY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">this.__dragEndY</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3607</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">delta</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="PUNC">&gt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">this.__dragEndY</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">this.__dragStartY</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">this.__dragStartX</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3608</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">usingX</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3609</span> </span><span class="WHIT">			</span><span class="NAME">this.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">30</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3610</span> </span><span class="WHIT">			</span><span class="NAME">this._dndProxy.style.top</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">m</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">this.__dragEndX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3611</span> </span><span class="WHIT">			</span><span class="NAME">this._dndProxy.style.left</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.__dragEndX</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3612</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3613</span> </span><span class="WHIT">			</span><span class="NAME">this.__dragEndY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">30</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3614</span> </span><span class="WHIT">			</span><span class="NAME">this._dndProxy.style.top</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.__dragEndY</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3615</span> </span><span class="WHIT">			</span><span class="NAME">this._dndProxy.style.left</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.__dragEndY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">m</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3616</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3617</span> </span><span class="WHIT">		</span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="NAME">this.__badDropAction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3618</span> </span><span class="WHIT"> 	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3619</span> </span><span class="WHIT">  		</span><span class="NAME">this._destroyDragProxy</span><span class="PUNC">(</span><span class="NAME">this._dndProxy</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3620</span> </span><span class="WHIT">		</span><span class="NAME">this._dragging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl._NO_DRAG</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3621</span> </span><span class="WHIT">  	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3622</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3623</span> 
<span class="line">3624</span> </span><span class="COMM">/**
<span class="line">3625</span>  * Attempts to display a tooltip for this control, triggered by the cursor having been
<span class="line">3626</span>  * over the control for a period of time. The tooltip may have already been set (if it&#39;s
<span class="line">3627</span>  * a static tooltip). For dynamic tooltip content, the control implements getToolTipContent()
<span class="line">3628</span>  * to return the content or a callback. It should return a callback if it makes an
<span class="line">3629</span>  * async server call to get data.
<span class="line">3630</span>  *
<span class="line">3631</span>  * @private
<span class="line">3632</span>  */</span><span class="WHIT">
<span class="line">3633</span> </span><span class="NAME">DwtControl.prototype.__handleHoverOver</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3634</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3635</span> 
<span class="line">3636</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._eventMgr.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.HOVEROVER</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3637</span> </span><span class="WHIT">		</span><span class="NAME">this._eventMgr.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.HOVEROVER</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3638</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3639</span> 
<span class="line">3640</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">mouseEv</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">event</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">event.object</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3641</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tooltip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getToolTipContent</span><span class="PUNC">(</span><span class="NAME">mouseEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3642</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">content</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3643</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">tooltip</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3644</span> </span><span class="WHIT">		</span><span class="NAME">content</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">&#34;&#34;</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3645</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">tooltip</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;string&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3646</span> </span><span class="WHIT">		</span><span class="NAME">content</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tooltip</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3647</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">tooltip.isAjxCallback</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">AjxUtil.isFunction</span><span class="PUNC">(</span><span class="NAME">tooltip</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3648</span> </span><span class="WHIT">		</span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tooltip</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3649</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">tooltip</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;object&#34;</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3650</span> </span><span class="WHIT">		</span><span class="NAME">content</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tooltip.content</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3651</span> </span><span class="WHIT">		</span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tooltip.callback</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3652</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3653</span> 
<span class="line">3654</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">content</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">tooltip.loading</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3655</span> </span><span class="WHIT">		</span><span class="NAME">content</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AjxMsg.loading</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3656</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3657</span> 
<span class="line">3658</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3659</span> </span><span class="WHIT">		</span><span class="NAME">this.__showToolTip</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">content</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3660</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3661</span> 
<span class="line">3662</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3663</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">callback1</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.__showToolTip</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">event</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3664</span> </span><span class="WHIT">		</span><span class="NAME">AjxTimedAction.scheduleAction</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">AjxTimedAction</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">callback.run</span><span class="PUNC">(</span><span class="NAME">callback1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3665</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3666</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3667</span> 
<span class="line">3668</span> </span><span class="COMM">/**
<span class="line">3669</span>  * @private
<span class="line">3670</span>  */</span><span class="WHIT">
<span class="line">3671</span> </span><span class="NAME">DwtControl.prototype.__showToolTip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3672</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3673</span> 
<span class="line">3674</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3675</span> </span><span class="WHIT">    </span><span class="NAME">DwtControl.showToolTip</span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3676</span> </span><span class="WHIT">	</span><span class="NAME">this.__lastTooltipX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">event.x</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3677</span> </span><span class="WHIT">	</span><span class="NAME">this.__lastTooltipY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">event.y</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3678</span> </span><span class="WHIT">	</span><span class="NAME">this.__tooltipClosed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3679</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3680</span> 
<span class="line">3681</span> </span><span class="COMM">/**
<span class="line">3682</span>  * @private
<span class="line">3683</span>  */</span><span class="WHIT">
<span class="line">3684</span> </span><span class="NAME">DwtControl.prototype.__handleHoverOut</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3685</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3686</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this._eventMgr.isListenerRegistered</span><span class="PUNC">(</span><span class="NAME">DwtEvent.HOVEROUT</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3687</span> </span><span class="WHIT">		</span><span class="NAME">this._eventMgr.notifyListeners</span><span class="PUNC">(</span><span class="NAME">DwtEvent.HOVEROUT</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3688</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3689</span> </span><span class="WHIT">    </span><span class="NAME">DwtControl.hideToolTip</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3690</span> </span><span class="WHIT">	</span><span class="NAME">this.__lastTooltipX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3691</span> </span><span class="WHIT">	</span><span class="NAME">this.__lastTooltipY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3692</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3693</span> 
<span class="line">3694</span> </span><span class="COMM">/**
<span class="line">3695</span>  * @private
<span class="line">3696</span>  */</span><span class="WHIT">
<span class="line">3697</span> </span><span class="NAME">DwtControl.prototype.__isInputEl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3698</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">targetEl</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3699</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bIsInput</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3700</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">targetEl</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">targetEl.tagName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3701</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bIsInput</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3702</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3703</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tagName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">targetEl.tagName.toLowerCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3704</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tagName</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;input&#34;</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">targetEl.type.toLowerCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3705</span> 
<span class="line">3706</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">tagName</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;textarea&#34;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;text&#34;</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">&#34;password&#34;</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">
<span class="line">3707</span> </span><span class="WHIT">		</span><span class="NAME">bIsInput</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3708</span> 
<span class="line">3709</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bIsInput</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3710</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3711</span> 
<span class="line">3712</span> 
<span class="line">3713</span> </span><span class="COMM">/**
<span class="line">3714</span>  * onunload hacking
<span class="line">3715</span>  * @private
<span class="line">3716</span>  */</span><span class="WHIT">
<span class="line">3717</span> </span><span class="NAME">DwtControl.ON_UNLOAD</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3718</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3719</span> </span><span class="WHIT">	</span><span class="COMM">// break widget-element references</span><span class="WHIT">
<span class="line">3720</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">h</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3721</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">h</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3722</span> </span><span class="WHIT">		</span><span class="NAME">h</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">_elRef</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3723</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3724</span> </span><span class="WHIT">	</span><span class="NAME">DwtControl.ALL_BY_ID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3725</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3726</span> 
<span class="line">3727</span> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AjxEnv.isIE</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3728</span> </span><span class="WHIT">	</span><span class="NAME">window.attachEvent</span><span class="PUNC">(</span><span class="STRN">&#34;onunload&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.ON_UNLOAD</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3729</span> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3730</span> </span><span class="WHIT">	</span><span class="NAME">window.addEventListener</span><span class="PUNC">(</span><span class="STRN">&#34;unload&#34;</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DwtControl.ON_UNLOAD</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3731</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3732</span> 
<span class="line">3733</span> </span><span class="COMM">/**
<span class="line">3734</span>  *  A helper method to show the toolTips.
<span class="line">3735</span>  * @param content
<span class="line">3736</span>  * @param x [Number] The x coordinate of the toolTip.
<span class="line">3737</span>  * @param y [Number] The y coordinate of the toolTip.
<span class="line">3738</span>  */</span><span class="WHIT">
<span class="line">3739</span> </span><span class="NAME">DwtControl.showToolTip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3740</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">hoverEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3741</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">content</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3742</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tooltip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getToolTip</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3743</span> </span><span class="WHIT">	</span><span class="NAME">tooltip.setContent</span><span class="PUNC">(</span><span class="NAME">content</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3744</span> </span><span class="WHIT">	</span><span class="NAME">tooltip.popup</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">hoverEv</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3745</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3746</span> 
<span class="line">3747</span> </span><span class="COMM">/**
<span class="line">3748</span>  * A helper method to hide the toolTip.
<span class="line">3749</span>  */</span><span class="WHIT">
<span class="line">3750</span> </span><span class="NAME">DwtControl.hideToolTip</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3751</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3752</span> </span><span class="WHIT">	</span><span class="NAME">DwtShell.getShell</span><span class="PUNC">(</span><span class="NAME">window</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getToolTip</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">popdown</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3753</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3754</span> 
<span class="line">3755</span> </span><span class="COMM">/**
<span class="line">3756</span>  * Returns the element that should be used as a base for positioning the tooltip.
<span class="line">3757</span>  * If overridden to return null, the cursor position will be used as the base.
<span class="line">3758</span>  * 
<span class="line">3759</span>  * @param {DwtHoverEvent}	hoverEv		hover event (from hover mgr)
<span class="line">3760</span>  */</span><span class="WHIT">
<span class="line">3761</span> </span><span class="NAME">DwtControl.prototype.getTooltipBase</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3762</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">hoverEv</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3763</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3764</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3765</span> 
<span class="line">3766</span> </span><span class="NAME">DwtControl.prototype.boundsForChild</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3767</span> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3768</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">&amp;&amp;</span><span class="WHIT"> </span><span class="NAME">child.getHtmlElement</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3769</span> </span><span class="WHIT">		</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">child.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3770</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class="line">3771</span> 
<span class="line">3772</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">fn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bounds</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3773</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">margins</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.getMargins</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3774</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Dwt.insetBounds</span><span class="PUNC">(</span><span class="NAME">bounds</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">Dwt.getInsets</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3775</span> </span><span class="WHIT">		</span><span class="NAME">bounds.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3776</span> </span><span class="WHIT">			</span><span class="NAME">Math.max</span><span class="PUNC">(</span><span class="NAME">bounds.width</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">margins.left</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">margins.right</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3777</span> </span><span class="WHIT">		</span><span class="NAME">bounds.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class="line">3778</span> </span><span class="WHIT">			</span><span class="NAME">Math.max</span><span class="PUNC">(</span><span class="NAME">bounds.height</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">margins.top</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">margins.bottom</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3779</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3780</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3781</span> 
<span class="line">3782</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DwtRectangle</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">clientWidth</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">3783</span> </span><span class="WHIT">	                              </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">clientHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3784</span> 
<span class="line">3785</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">AjxUtil.reduce</span><span class="PUNC">(</span><span class="NAME">Dwt.getAncestors</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class="line">3786</span> </span><span class="WHIT">	                      </span><span class="NAME">fn</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bounds</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3787</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3788</span> 
<span class="line">3789</span> </span><span class="COMM">// Convenience methods for manipulating attributes of this control&#39;s DIV</span><span class="WHIT">
<span class="line">3790</span> </span><span class="NAME">DwtControl.prototype.hasAttribute</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3791</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">hasAttribute</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3792</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3793</span> </span><span class="NAME">DwtControl.prototype.getAttribute</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3794</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getAttribute</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3795</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3796</span> </span><span class="NAME">DwtControl.prototype.setAttribute</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3797</span> </span><span class="WHIT">	</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">setAttribute</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3798</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3799</span> </span><span class="NAME">DwtControl.prototype.removeAttribute</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class="line">3800</span> </span><span class="WHIT">	</span><span class="NAME">this.getHtmlElement</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">removeAttribute</span><span class="PUNC">(</span><span class="NAME">attr</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3801</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class="line">3802</span> 
<span class="line">3803</span> </span></pre></body></html>