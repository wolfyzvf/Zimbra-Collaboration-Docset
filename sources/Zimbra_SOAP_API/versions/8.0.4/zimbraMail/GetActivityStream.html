<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<!-- Generated by 8.0.4_GA_5737 on 20130524120037 -->
<title>
Zimbra SOAP API Reference 8.0.4_GA_5737
</title>

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<script type="text/javascript">
function windowTitle()
{
    parent.document.title="Command <GetActivityStreamRequest> (Zimbra SOAP API Reference 8.0.4_GA_5737)";
}
</script>

</head>

<body BGCOLOR="white" onload="windowTitle();">

<table cellspacing="3" cellpadding="0" border="0" summary="" bgcolor="#eeeeff">
  <tbody>
  <tr valign="top" align="center">
  <td bgcolor="#ffffff" class="NavBarCell1"> <a href="../overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#eeeeff" class="NavBarCell1">    <a href="./service-summary.html"><font class="NavBarFont1"><b>Service</b></font></a>&nbsp;</td>
  <td bgcolor="#eeeeff" class="NavBarCell1Rev">    &nbsp;<font class="NavBarFont1Rev"><b>Command</b></font>&nbsp;</td>
  </tr>
  </tbody>
</table>

<hr>
<h2>
<font SIZE="-1"><a href="./service-summary.html">Service: zimbraMail</a></font>
<br>
<font SIZE="-1">Namespace: "urn:zimbraMail"</font>
<br>
GetActivityStream SOAP Command</h2>
<p>
Get activity stream
</p>
<table cellspacing="0" cellpadding="5" border="1">
    <tr> <td> Authorization token required </td> <td> <b>true</b> </td> </tr>
    <tr> <td> Admin Authorization token required </td> <td> <b>false</b> </td> </tr>
</table>
<h2><a name="request">GetActivityStreamRequest</a></h2>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName">GetActivityStreamRequest</span> <span id="attrName"><a href="#tbl-GetActivityStreamRequest-id">id</a></span>=<span id="value">"{item-id}"</span> [<span id="attrName"><a href="#tbl-GetActivityStreamRequest-offset">offset</a></span>=<span id="value">"{offset} (Integer)"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamRequest-limit">limit</a></span>=<span id="value">"{limit} (Integer)"</span>]> ## GetActivityStreamRequest<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-GetActivityStreamRequest-filter">filter</a></span> [<span id="attrName"><a href="#tbl-GetActivityStreamRequest-filter-account">account</a></span>=<span id="value">"{account-id}"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamRequest-filter-op">op</a></span>=<span id="value">"{comma-sep-ops}"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamRequest-filter-session">session</a></span>=<span id="value">"{session-id}"</span>] /> ## ActivityFilter<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">GetActivityStreamRequest</span>><br />

</p>
<p>
The following table describes elements and attributes you can define within a
<code>&lt;GetActivityStreamRequest&gt;</code> element:
</p>
<table cellspacing="0" cellpadding="5" border="1" width="100%">
<tbody>
    <tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <td width="1%" nowrap><b>XPath</b></td>
        <td width="1%" nowrap><b>Required / Optional</b></td>
        <td><b>Description</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-id">@id</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Item ID.  If the id is for a Document, the response will include the activities for
 the requested Document.  if it is for a Folder, the response will include the activities for all the Documents
 in the folder and subfolders.</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-offset">@offset</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Integer</b><br />
Offset - for getting the next page worth of activities</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-limit">@limit</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Integer</b><br />
Limit - maximum number of activities to be returned</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-filter">/filter</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td>Optionally <b>&lt;filter></b> can be used to filter the response based on the user
 that performed the activity, operation, or both.  the server will cache previously established filter search
 results, and return the identifier in session attribute.  The client is expected to reuse the session
 identifier in the subsequent filter search to improve the performance.</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-filter-account">/filter@account</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Account ID</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-filter-op">/filter@op</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Comma separated list of Mailbox operations</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamRequest-filter-session">/filter@session</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Session ID</td>
    </tr>
</tbody>
</table>

<h2><a name="response">GetActivityStreamResponse</a></h2>
<p>
The response has three sections: user, op and activity.
 <br />
 User and op sections lists all the users and activities logged in the current stream to allow the client to show
 filter UI if the user wants to see activities from specific users or specific operation.
 <br />
 Activity section contains the who, what and when.  Arg element contains extra data for some of the operations.  e.g.
 <pre>
 AddDocumentRevision
   ver - old version
   filename - name of the Document
 MoveItem
   oldName
   filename - name of the item
 RenameItem
   oldName
   filename - name of the item
 GrantAccess
   target - name of the grantee, or
            "Authuser" for all authenticated users or
            "Public" for everyone
   role - "Read", "RW", or "Admin"
   filename - name of the item
 CreateComment
   parentId
   text
   filename - name of the parent item
 CreateMessage - for share notification
   from - the email address of the user who created the share
   subject - subject of the share notification
   sharedItemId - itemId of the shared item
   sharedItemName - name of the shared item
 </pre>
</p>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName">GetActivityStreamResponse</span> [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-session">session</a></span>=<span id="value">"{session-id}"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-count">count</a></span>=<span id="value">"..."</span>]> ## GetActivityStreamResponse<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-GetActivityStreamResponse-op">op</a></span> [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-op-name">name</a></span>=<span id="value">"..."</span>] /> ## NamedElement)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-GetActivityStreamResponse-user">user</a></span> [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-user-id">id</a></span>=<span id="value">"{id}"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-user-email">email</a></span>=<span id="value">"{email}"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-user-name">name</a></span>=<span id="value">"{name}"</span>] /> ## IdEmailName)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-GetActivityStreamResponse-a">a</a></span> <span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-op">op</a></span>=<span id="value">"{operation}"</span> <span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-ts">ts</a></span>=<span id="value">"{timestamp} (long)"</span> <span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-itemId">itemId</a></span>=<span id="value">"{item-id}"</span> [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-ver">ver</a></span>=<span id="value">"{version} (Integer)"</span>] [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-ua">ua</a></span>=<span id="value">"{user-agent}"</span>]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-email">email</a></span>=<span id="value">"{email-address-of-user-performing-action}"</span>]> ## ActivityInfo<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-GetActivityStreamResponse-a-arg">arg</a></span> <span id="attrName"><a href="#tbl-GetActivityStreamResponse-a-arg-name">name</a></span>=<span id="value">"{name}"</span>><span id="value">{value}</span>&lt;/<span id="elementName">arg</span>> ## NamedValue)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">a</span>>)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">GetActivityStreamResponse</span>><br />

</p>
<p>
The following table describes elements and attributes you can define within a
<code>&lt;GetActivityStreamResponse&gt;</code> element:
</p>
<table cellspacing="0" cellpadding="5" border="1" width="100%">
<tbody>
    <tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <td width="1%" nowrap><b>XPath</b></td>
        <td width="1%" nowrap><b>Required / Optional</b></td>
        <td><b>Description</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-session">@session</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Session ID</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-count">@count</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Count</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-op">/op</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td>Operations</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-op-name">/op@name</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Name</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-user">/user</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td>Users</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-user-id">/user@id</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
ID</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-user-email">/user@email</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Email</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-user-name">/user@name</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Name</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a">/a</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td>Activities</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-op">/a@op</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Operation</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-ts">/a@ts</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:long</b><br />
Timestamp</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-itemId">/a@itemId</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
item-id</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-ver">/a@ver</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Integer</b><br />
Version</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-ua">/a@ua</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
User agent</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-email">/a@email</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Email address of user performing action</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-arg">/a/arg</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td><b>Type:{value}</b><br />
Extra data for some of the operations<br />
<b>Description for element text content</b>:Value</td>
    </tr>
    <tr>
        <td> <a name="tbl-GetActivityStreamResponse-a-arg-name">/a/arg@name</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Name</td>
    </tr>
</tbody>
</table>
</body>
</html>
