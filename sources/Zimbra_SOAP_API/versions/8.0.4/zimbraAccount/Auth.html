<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<!-- Generated by 8.0.4_GA_5737 on 20130524120037 -->
<title>
Zimbra SOAP API Reference 8.0.4_GA_5737
</title>

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<script type="text/javascript">
function windowTitle()
{
    parent.document.title="Command <AuthRequest> (Zimbra SOAP API Reference 8.0.4_GA_5737)";
}
</script>

</head>

<body BGCOLOR="white" onload="windowTitle();">

<table cellspacing="3" cellpadding="0" border="0" summary="" bgcolor="#eeeeff">
  <tbody>
  <tr valign="top" align="center">
  <td bgcolor="#ffffff" class="NavBarCell1"> <a href="../overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#eeeeff" class="NavBarCell1">    <a href="./service-summary.html"><font class="NavBarFont1"><b>Service</b></font></a>&nbsp;</td>
  <td bgcolor="#eeeeff" class="NavBarCell1Rev">    &nbsp;<font class="NavBarFont1Rev"><b>Command</b></font>&nbsp;</td>
  </tr>
  </tbody>
</table>

<hr>
<h2>
<font SIZE="-1"><a href="./service-summary.html">Service: zimbraAccount</a></font>
<br>
<font SIZE="-1">Namespace: "urn:zimbraAccount"</font>
<br>
Auth SOAP Command</h2>
<p>
Authenticate for an account
</p>
<table cellspacing="0" cellpadding="5" border="1">
    <tr> <td> Authorization token required </td> <td> <b>false - can't require auth on auth request</b> </td> </tr>
    <tr> <td> Admin Authorization token required </td> <td> <b>false</b> </td> </tr>
</table>
<h2><a name="request">AuthRequest</a></h2>
<p>
when specifying an account, one of <b>&lt;password></b> or <b>&lt;preauth></b> must be
 specified.  See preauth.txt for a discussion of preauth.<br />
 An authToken can be passed instead of account/password/preauth to validate an existing auth token.
 If <b>{verifyAccount}="1"</b>, <b>&lt;account></b> is required and the account in the auth token is compared to the
 named account.<br />
 Mismatch results in auth failure.  An external app that relies on ZCS for user identification can use this to test
 if the auth token provided by the user belongs to that user. If <b>{verifyAccount}="0"</b> (default), only the
 auth token is verified and any <b>&lt;account></b> element specified is ignored.
</p>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName">AuthRequest</span> [<span id="attrName"><a href="#tbl-AuthRequest-persistAuthTokenCookie">persistAuthTokenCookie</a></span>=<span id="value">"(0|1)"</span>]> ## AuthRequest<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-account">account</a></span> <span id="attrName"><a href="#tbl-AuthRequest-account-by">by</a></span>=<span id="value">"{acct-selector-by} (adminName|appAdminName|id|foreignPrincipal|name|krb5Principal)"</span>><span id="value">{key}</span>&lt;/<span id="elementName">account</span>> ## AccountSelector<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-password">password</a></span>><span id="value">{password} (String)</span>&lt;/<span id="elementName">password</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-preauth">preauth</a></span> <span id="attrName"><a href="#tbl-AuthRequest-preauth-timestamp">timestamp</a></span>=<span id="value">"(long)"</span> [<span id="attrName"><a href="#tbl-AuthRequest-preauth-expiresTimestamp">expiresTimestamp</a></span>=<span id="value">"{expires} (Long)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">preauth</span>> ## PreAuth<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-authToken">authToken</a></span> [<span id="attrName"><a href="#tbl-AuthRequest-authToken-verifyAccount">verifyAccount</a></span>=<span id="value">"(0|1)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">authToken</span>> ## AuthToken<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-virtualHost">virtualHost</a></span>><span id="value">{virtualHost} (String)</span>&lt;/<span id="elementName">virtualHost</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-prefs">prefs</a></span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-AuthRequest-prefs-pref">pref</a></span> <span id="attrName"><a href="#tbl-AuthRequest-prefs-pref-name">name</a></span>=<span id="value">"{pref-name}"</span> [<span id="attrName"><a href="#tbl-AuthRequest-prefs-pref-modified">modified</a></span>=<span id="value">"{pref-modified-time} (Long)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">pref</span>> ## Pref)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">prefs</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-attrs">attrs</a></span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-AuthRequest-attrs-attr">attr</a></span> <span id="attrName"><a href="#tbl-AuthRequest-attrs-attr-name">name</a></span>=<span id="value">"{attr-name}"</span> [<span id="attrName"><a href="#tbl-AuthRequest-attrs-attr-pd">pd</a></span>=<span id="value">"{attr-perm-denied} (0|1)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">attr</span>> ## Attr)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">attrs</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthRequest-requestedSkin">requestedSkin</a></span>><span id="value">{requestedSkin} (String)</span>&lt;/<span id="elementName">requestedSkin</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">AuthRequest</span>><br />

</p>
<p>
The following table describes elements and attributes you can define within a
<code>&lt;AuthRequest&gt;</code> element:
</p>
<table cellspacing="0" cellpadding="5" border="1" width="100%">
<tbody>
    <tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <td width="1%" nowrap><b>XPath</b></td>
        <td width="1%" nowrap><b>Required / Optional</b></td>
        <td><b>Description</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-persistAuthTokenCookie">@persistAuthTokenCookie</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:0|1</b><br />
controls whether the auth token cookie in the response should 
 be persisted when the browser exits.<br />
 0: (default)<br />
    the cookie will be deleted when the Web browser exits.<br />
 1: The "Expires" attribute of the cookie will be set per rfc6265.<br /></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-account">/account</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{key}</b><br />
Specifies the account to authenticate against<br />
<b>Description for element text content</b>:The key used to identify the account. Meaning determined by <b>{acct-selector-by}</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-account-by">/account@by</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:adminName|appAdminName|id|foreignPrincipal|name|krb5Principal</b><br />
Select the meaning of <b>{acct-selector-key}</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-password">/password</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{password} (String)</b><br />
Password to use in conjunction with an account</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-preauth">/preauth</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{value}</b><br />
&lt;preauth> is an alternative to &lt;account>.  See preauth.txt<br />
<b>Description for element text content</b>:Computed preauth value</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-preauth-timestamp">/preauth@timestamp</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:long</b><br />
Time stamp</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-preauth-expiresTimestamp">/preauth@expiresTimestamp</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Long</b><br />
expiration time of the authtoken, in milliseconds. set to 0 to use the default
 expiration time for the account. Can be used to sync the auth token expiration time with the external system's
 notion of expiration (like a Kerberos TGT lifetime, for example).</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-authToken">/authToken</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{value}</b><br />
An authToken can be passed instead of account/password/preauth to validate an
 existing auth token. If <b>{verifyAccount}="1"</b>, <b>&lt;account></b> is required and the account in the
 auth token is compared to the named account. Mismatch results in auth failure.  An external app that relies
 on ZCS for user identification can use this to test if the auth token provided by the user belongs to that user.
 If <b>{verifyAccount}="0"</b> (default), only the auth token is verified and any <b>&lt;account></b> element
 specified is ignored.<br />
<b>Description for element text content</b>:Value for authorization token</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-authToken-verifyAccount">/authToken@verifyAccount</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:0|1</b><br />
If verifyAccount="1", &lt;account> is required and the account in the auth token is
 compared to the named account.
 If verifyAccount="0" (default), only the auth token is verified and any <b>&lt;account></b> element specified
 is ignored.</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-virtualHost">/virtualHost</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{virtualHost} (String)</b><br />
if specified (in conjunction with by="name"), virtual-host is used to determine
 the domain of the account name, if it does not include a domain component. For example, if the domain
 foo.com has a zimbraVirtualHostname of "mail.foo.com", and an auth request comes in for "joe" with a
 virtualHost of "mail.foo.com", then the request will be equivalent to logging in with "joe@foo.com".</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-prefs">/prefs</a> </td>
        <td>
              Required (only 1)
        </td>
        <td></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-prefs-pref">/prefs/pref</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td><b>Type:{value}</b><br />
<b>Description for element text content</b>:Preference value</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-prefs-pref-name">/prefs/pref@name</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Preference name</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-prefs-pref-modified">/prefs/pref@modified</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Long</b><br />
Preference modified time (may not be present)</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-attrs">/attrs</a> </td>
        <td>
              Required (only 1)
        </td>
        <td></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-attrs-attr">/attrs/attr</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td><b>Type:{value}</b><br />
<b>Description for element text content</b>:Value of attribute</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-attrs-attr-name">/attrs/attr@name</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Name of attribute</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-attrs-attr-pd">/attrs/attr@pd</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:0|1</b><br />
Flags whether permission has been denied (optional).
 <br />
 If <b>1 (true)</b>, flags that the real value of this attribute has not been provided.
 <br />
 The value is set to ""</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthRequest-requestedSkin">/requestedSkin</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{requestedSkin} (String)</b><br />
if specified the name of the skin requested by the client</td>
    </tr>
</tbody>
</table>

<h2><a name="response">AuthResponse</a></h2>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName">AuthResponse</span>> ## AuthResponse<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-authToken">authToken</a></span>><span id="value">{authToken} (String)</span>&lt;/<span id="elementName">authToken</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-lifetime">lifetime</a></span>><span id="value">{lifetime} (long)</span>&lt;/<span id="elementName">lifetime</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-session">session</a></span> [<span id="attrName"><a href="#tbl-AuthResponse-session-type">type</a></span>=<span id="value">"{session-type}"</span>] <span id="attrName"><a href="#tbl-AuthResponse-session-id">id</a></span>=<span id="value">"{id}"</span>><span id="value">{sessionId}</span>&lt;/<span id="elementName">session</span>> ## Session<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-refer">refer</a></span>><span id="value">{refer} (String)</span>&lt;/<span id="elementName">refer</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-skin">skin</a></span>><span id="value">{skin} (String)</span>&lt;/<span id="elementName">skin</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-prefs">prefs</a></span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-AuthResponse-prefs-pref">pref</a></span> <span id="attrName"><a href="#tbl-AuthResponse-prefs-pref-name">name</a></span>=<span id="value">"{pref-name}"</span> [<span id="attrName"><a href="#tbl-AuthResponse-prefs-pref-modified">modified</a></span>=<span id="value">"{pref-modified-time} (Long)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">pref</span>> ## Pref)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">prefs</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span id="elementName"><a href="#tbl-AuthResponse-attrs">attrs</a></span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<span id="elementName"><a href="#tbl-AuthResponse-attrs-attr">attr</a></span> <span id="attrName"><a href="#tbl-AuthResponse-attrs-attr-name">name</a></span>=<span id="value">"{attr-name}"</span> [<span id="attrName"><a href="#tbl-AuthResponse-attrs-attr-pd">pd</a></span>=<span id="value">"{attr-perm-denied} (0|1)"</span>]><span id="value">{value}</span>&lt;/<span id="elementName">attr</span>> ## Attr)*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">attrs</span>><br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span id="elementName">AuthResponse</span>><br />

</p>
<p>
The following table describes elements and attributes you can define within a
<code>&lt;AuthResponse&gt;</code> element:
</p>
<table cellspacing="0" cellpadding="5" border="1" width="100%">
<tbody>
    <tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <td width="1%" nowrap><b>XPath</b></td>
        <td width="1%" nowrap><b>Required / Optional</b></td>
        <td><b>Description</b></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-authToken">/authToken</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:{authToken} (String)</b><br />
The authorization token</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-lifetime">/lifetime</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:{lifetime} (long)</b><br />
Life time for the authorization</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-session">/session</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{sessionId}</b><br />
Session information<br />
<b>Description for element text content</b>:Session ID  (same as <b>id</b>)</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-session-type">/session@type</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:String</b><br />
Session type - currently only set if value is "admin"</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-session-id">/session@id</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Session ID</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-refer">/refer</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{refer} (String)</b><br />
host additional SOAP requests should be directed to.
 Always returned, might be same as original host request was sent to.</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-skin">/skin</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:{skin} (String)</b><br />
if requestedSkin specified, the name of the skin to use
 Always returned, might be same as original host request was sent to.</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-prefs">/prefs</a> </td>
        <td>
              Required (only 1)
        </td>
        <td></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-prefs-pref">/prefs/pref</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td><b>Type:{value}</b><br />
<b>Description for element text content</b>:Preference value</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-prefs-pref-name">/prefs/pref@name</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Preference name</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-prefs-pref-modified">/prefs/pref@modified</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:Long</b><br />
Preference modified time (may not be present)</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-attrs">/attrs</a> </td>
        <td>
              Required (only 1)
        </td>
        <td></td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-attrs-attr">/attrs/attr</a> </td>
        <td>
              Optional (0 or more)
        </td>
        <td><b>Type:{value}</b><br />
<b>Description for element text content</b>:Value of attribute</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-attrs-attr-name">/attrs/attr@name</a> </td>
        <td>
              Required (only 1)
        </td>
        <td><b>Type:String</b><br />
Name of attribute</td>
    </tr>
    <tr>
        <td> <a name="tbl-AuthResponse-attrs-attr-pd">/attrs/attr@pd</a> </td>
        <td>
              Optional (0 or 1)
        </td>
        <td><b>Type:0|1</b><br />
Flags whether permission has been denied (optional).
 <br />
 If <b>1 (true)</b>, flags that the real value of this attribute has not been provided.
 <br />
 The value is set to ""</td>
    </tr>
</tbody>
</table>
</body>
</html>
